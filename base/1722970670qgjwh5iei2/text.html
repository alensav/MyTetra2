<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:30px; margin-bottom:0px; margin-left:66px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:50px;"><a name="header"></a><a href="https://sandalov.org/blog/"><span style=" font-size:36px; font-weight:600; color:#0d85cc; font-variant:small-caps;">s</span></a><span style=" font-size:36px; font-weight:600; color:#0d85cc; font-variant:small-caps;">andalov.org</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:66px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><a name="site-description"></a><span style=" color:#999999; text-transform:uppercase;">T</span><span style=" color:#999999; text-transform:uppercase;">HIS SITE IS A PORTAL TO DMITRY SANDALOV AND PROVIDES INFORMATION ON HIS WORK</span></p>
<p style=" margin-top:0px; margin-bottom:-1px; margin-left:-1px; margin-right:-1px; -qt-block-indent:0; text-indent:0px;"><a name="access"></a><a href="https://sandalov.org/blog/1128/#content"><span style=" color:#5f5b5b;">S</span></a><span style=" color:#5f5b5b;">kip to content</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" background-color:#fafafa;" style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:18px; -qt-block-indent:0; text-indent:0px;"><a name="menu-item-1150"></a><a href="http://sandalov.org/"><span style=" color:#5f5b5b;">H</span></a><span style=" color:#5f5b5b;">ome</span></li>
<li style=" background-color:#fafafa;" style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:18px; -qt-block-indent:0; text-indent:0px;"><a name="menu-item-2160"></a><a href="https://sandalov.org/cv/"><span style=" color:#5f5b5b;">C</span></a><span style=" color:#5f5b5b;">V</span></li>
<li style=" background-color:#fafafa;" style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:18px; -qt-block-indent:0; text-indent:0px;"><a name="menu-item-1152"></a><a href="http://sandalov.org/blog/"><span style=" color:#5f5b5b;">B</span></a><span style=" color:#5f5b5b;">log</span></li>
<li style=" background-color:#fafafa;" style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:18px; -qt-block-indent:0; text-indent:0px;"><a name="menu-item-1149"></a><a href="http://sandalov.org/#contact"><span style=" color:#5f5b5b;">C</span></a><span style=" color:#5f5b5b;">ontact</span></li>
<li style=" color:#5f5b5b;" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:18px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><br /></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; background-color:#ffffff;"><a name="main"></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333;">С</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:xx-large; color:#333333;">качивание с RuTube в Ubuntu Linux</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:1px; margin-right:1px; -qt-block-indent:0; text-indent:0px; line-height:2.5%; background-color:#f8f8f8;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">By </span><a href="https://sandalov.org/blog/author/dmitry/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">dmitry</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;"> | </span><a href="https://sandalov.org/blog/1128/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">2012/02/05 </span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">| </span><a href="https://sandalov.org/blog/category/linux-2/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">linux</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">, </span><a href="https://sandalov.org/blog/category/security/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">security</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">, </span><a href="https://sandalov.org/blog/category/ubuntu/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">ubuntu</span></a></p>
<p style=" margin-top:10px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Ubuntu Linux:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:15px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333; background-color:#ffffff;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0">
<tr>
<td bgcolor="#ffffff" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="highlighter_651454"></a><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#afafaf; background-color:#ffffff;">1</span></pre></td>
<td bgcolor="#ffffff" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#ff1493;">sudo</span><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#333333;"> </span><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#000000;">apt-get </span><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#ff1493;">install</span><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#333333;"> </span><span style=" font-family:'Monaco,Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace'; font-size:14px; color:#000000;">rtmpdump</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Rutube отдаёт ссылки на видеоролики 4-мя способами (по состоянию на 8 ноября 2013 г.):</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">Нешифрованное видео по протоколу RTMP. Для закачки используется rtmpdump (версия не ниже 2.4).</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">Шифрованное видео по RTMP. Хоть и скачается rtmpdump’ом, но воспроизвести его не удастся. Решение для этого типа ссылок не найдено.</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">Нешифрованное видео по технологии HTTP Dynamic Streaming. Для закачки используется скрипт AdobeHDS.php</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:23px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">Нешифрованное видео методом HTTP Live Streaming. Для закачки используется VLC/ffmpeg.</span></li></ol>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Сначала нужно определить, какой тип отдачи используется для требуемого видеоролика, на момент обновления статьи чаще всего это способы 3 и 4 (как минимум, для российских пользователей).</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Для этого берём любую ссылку на нужное видео с его полным или предназначенным для встраивания идентификатором, это может быть ссылка вида:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">http://rutube.ru/video/51c001891c1147fa53787c8496c0d8bf/</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">http://rutube.ru/video/embed/6641938</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:23px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">http://rutube.ru/[accounts/login/?next=/]video/private/2cc0885902cac3c8f9f88849e115db15/?p=lwTcQ6Z0PUTg3AB7lDvGqg</span></li></ol>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Для ссылки под номером 3 важно не терять параметр “p”, стоящий в конце.</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Открываем файл с информацией о видео http://rutube.ru/api/play/trackinfo/&lt;VIDEO_ID&gt;/?format=xml[&amp;p=blablabla]:</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">http://rutube.ru/video/</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">51c001891c1147fa53787c8496c0d8bf</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">/<br /></span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">=&gt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"> http://rutube.ru/api/play/trackinfo/51c001891c1147fa53787c8496c0d8bf/?format=xml<br />http://rutube.ru/video/embed/</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">6641938</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"><br /></span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">=&gt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"> http://rutube.ru/api/play/trackinfo/6641938/?format=xml<br />http://rutube.ru/[accounts/login/?next=/]video/private/</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">2cc0885902cac3c8f9f88849e115db15</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">/?</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">p=lwTcQ6Z0PUTg3AB7lDvGqg</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"><br /></span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">=&gt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"> http://rutube.ru/api/play/trackinfo/2cc0885902cac3c8f9f88849e115db15/?format=xml&amp;p=lwTcQ6Z0PUTg3AB7lDvGqg</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">В этом файле нужны адреса из тега &lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">videoBalancer</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt;:<br />&lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">default</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt;http://bl.rutube.ru/5bc45bc80ad9f9597a8e1de3e0cf69f6.f4m — внутри этого файла будут ссылки для закачки по RTMP/HDS.<br />&lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">m3u8</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt;http://bl.rutube.ru/5bc45bc80ad9f9597a8e1de3e0cf69f6.m3u8 — для HLS.</span></p>
<p style=" margin-top:20px; margin-bottom:5px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:medium; color:#333333;">RTMP/HDS</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">default</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt;http://bl.rutube.ru/5bc45bc80ad9f9597a8e1de3e0cf69f6.f4m<br />Это файл-манифест. Открыв его, смотрим на теги &lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">baseURL</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt; и &lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">media</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt;. Определяем тип отдачи по их содержимому:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">RTMP, если </span><span style=" font-size:14px; font-weight:600;">baseURL</span><span style=" font-size:14px;"> == </span><span style=" font-size:14px; font-weight:600;">rtmp://video-N-N.rutube.ru/bla-bla-bla</span><span style=" font-size:14px;">, а атрибут </span><span style=" font-size:14px; font-weight:600;">url</span><span style=" font-size:14px;"> тега </span><span style=" font-size:14px; font-weight:600;">media</span><span style=" font-size:14px;"> содержит расширение </span><span style=" font-size:14px; font-weight:600;">.mp4</span><span style=" font-size:14px;"> в тексте ссылки.</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">Шифрованное видео по RTMP, если тот же атрибут url содержит расширение </span><span style=" font-size:14px; font-weight:600;">.f4f</span><span style=" font-size:14px;">. Скачанное видео не воспроизводится.</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:23px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">Нешифрованное видео по HDS, если </span><span style=" font-size:14px; font-weight:600;">baseURL</span><span style=" font-size:14px;"> == </span><span style=" font-size:14px; font-weight:600;">http://video-N-N.rutube.ru</span><span style=" font-size:14px;">, тег(и) media указывает на манифест (ссылка с расширением .f4m) либо сразу на mp4-файл.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Определившись со способом отдачи, приступаем к закачке.</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">RTMP</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"><br />Тег &lt;baseURL&gt; содержит имя хоста, порт и переменную “app”. Атрибут url тега &lt;media&gt; содержит путь к потоку (playpath):<br />rtmp://video-N-N.rutube.ru(:1935)/</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">&lt;app&gt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">/mp4:volNN/movies/.*<br />|____________host___________|__app__|_____playpath____|</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">где переменная </span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">app</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"> может принимать следующие значения:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">vod/</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">rutube/</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">rutube_vod_[0-9]/</span></li>
<li style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;" style=" margin-top:0px; margin-bottom:23px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px;">rutube_vod_[0-9]/_definst_/</span></li></ol>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Из параметров, предлагаемых дампером (rtmpdump –help), нам нужны следующие:</span></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">--rtmp           URL (напр. rtmp://host[:port]/)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">--app            Переменная app.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">--playpath       Перезаписывает playpath, указанный в --rtmp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">--swfUrl         Ссылка на swf-плеер.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">--flv            Название конечного FLV-файла.</span></pre>
<pre style=" margin-top:0px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">--live           Для rtmp-ссылок, переменная app которых равна &quot;vod/&quot;.</span></pre>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Примеры закачки ссылок:<br />rtmp://video-1-12.rutube.ru:1935/rutube_vod_2/_definst_/mp4:vol12/movies/b5/e0/b5e08ad46a65d700dd0da2f7b40e2fc0.mp4?e=1288635285&amp;s=740fa844fc6687ac03681a0eb72d003e</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">sh/cmd:</span></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">rtmpdump --rtmp &quot;rtmp://video-1-12.rutube.ru:1935/&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --app &quot;rutube_vod_2/_definst_/&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --swfUrl &quot;http://rutube.ru/player.swf&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --playpath &quot;mp4:vol12/movies/b5/e0/b5e08ad46a65d700dd0da2f7b40e2fc0.mp4?e=1288635285&amp;s=740fa844fc6687ac03681a0eb72d003e&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --flv &quot;output_video.flv&quot;</span></pre>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">rtmp://video-102-1.rutube.ru:1935/vod/mp4:rutube/vol41/movies/a2/05/a205ff4b2073c18522253585224f7a7c.mp4?e=1287342905&amp;s=813f44d26fe97cd7ef670cb8d44e36e2</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">sh/cmd:</span></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">rtmpdump --rtmp &quot;rtmp://video-1-12.rutube.ru:1935/&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --app &quot;vod/&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --swfUrl &quot;http://rutube.ru/player.swf&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --playpath &quot;mp4:rutube/vol41/movies/a2/05/a205ff4b2073c18522253585224f7a7c.mp4?e=128734&amp;s=813f44d26fe97cd7ef670cb8d4&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --flv &quot;output_video.flv&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --live</span></pre>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Не забудьте про параметр </span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">–live</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">, используемый при переменной app равной “vod/”. Иначе видео будет качаться в размере, в два-три раза превышающий указанный на сайте. Также </span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">–swfUrl</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">, он должен быть равен адресу флеш-плеера: “http://rutube.ru/player.swf”.</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">HDS</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"><br />С HDS-ссылками проще, достаточно ссылки на f4m-файл:</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">sh/cmd:</span></p>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">php.exe AdobeHDS.php --manifest &quot;http://bl.rutube.ru/5bc45bc80ad9f9597a8e1de3e0cf69f6.f4m&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;"> --outfile &quot;output_video.mp4&quot;</span></pre>
<p style=" margin-top:20px; margin-bottom:5px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:medium; color:#333333;">HLS</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&lt;</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; font-weight:600; color:#333333;">m3u8</span><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">&gt;http://bl.rutube.ru/5bc45bc80ad9f9597a8e1de3e0cf69f6.m3u8</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Для закачки можно использовать ffmpeg:</span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">sh/cmd:</span></p>
<pre style=" margin-top:0px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:14px; color:#222222;">ffmpeg -i &quot;http://bl.rutube.ru/5bc45bc80ad9f9597a8e1de3e0cf69f6.m3u8&quot; video_out.ts</span></pre>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;"> </span></p>
<p style=" margin-top:0px; margin-bottom:23px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#333333;">Credits: </span><a href="http://tradiz.org/Rutube/Skachivanie-s-rutuberu-po-rtmp-ssylkam"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">tradiz.org</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">Tagged </span><a href="https://sandalov.org/blog/tag/linux/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">Linux</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">, </span><a href="https://sandalov.org/blog/tag/rutube/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">RuTube</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">, </span><a href="https://sandalov.org/blog/tag/ubuntu/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">ubuntu</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">, </span><a href="https://sandalov.org/blog/tag/%d1%81%d0%ba%d0%b0%d1%87%d0%b0%d1%82%d1%8c/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">скачать</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">. Bookmark the </span><a href="https://sandalov.org/blog/1128/"><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#0d85cc;">permalink</span></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; font-size:14px; color:#aaaaaa;">.</span></p>
<p style=" margin-top:0px; margin-bottom:48px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="nav-below"></a><span style=" font-family:'Segoe UI,Arial,sans-serif'; color:#333333;"><br /></span></p></body></html>