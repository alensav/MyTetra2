<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">С</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">одержание статьи</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc01."><span style=" text-decoration: underline; color:#0000ff;">Android-x86</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc02."><span style=" text-decoration: underline; color:#0000ff;">Отладка через gsdserver</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc03."><span style=" text-decoration: underline; color:#0000ff;">Установка на виртуалку</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc04."><span style=" text-decoration: underline; color:#0000ff;">Настройка звука и видео</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc05."><span style=" text-decoration: underline; color:#0000ff;">Инсталлим приложения</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc06."><span style=" text-decoration: underline; color:#0000ff;">Если нужны только приложения</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc07."><span style=" text-decoration: underline; color:#0000ff;">Настройки для отладки</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc08."><span style=" text-decoration: underline; color:#0000ff;">Shortcut’ы для быстрой навигации</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc09."><span style=" text-decoration: underline; color:#0000ff;">Отладка приложений</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc10."><span style=" text-decoration: underline; color:#0000ff;">WWW</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/2012/11/16/dekstop-android/#toc11."><span style=" text-decoration: underline; color:#0000ff;">Заключение</span></a></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Как запустить мобильные приложения на компьютере? В пакете для разработчика Android есть специальный эмулятор, позволяющий пощупать мобильную ОС. Одна проблема — он тормозит. Прямо скажем, сильно тормозит. Но, к счастью, уже довольно давно ведется работа над интересным проектом по портированию платформы Android на платформу PC.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc01."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Android-x86</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Как известно, исходники Android открыты — такова политика Google. Поэтому у любого желающего в принципе есть возможность взять за основу исходную версию мобильной ОС и начать разработку своей собственной ветки. Многие энтузиасты активно выпускают патчи, реализующие дополнительный функционал, которого нет в оригинальном Android.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Именно так появился проект «patch hosting for android x86 support». Разработчик планировали выпускать патчи для поддержки x86-платформы. Но после нескольких месяцев работы они поняли, что способны на большее, чем просто поставлять патчи. Так появился проект </span><a href="http://www.android-x86.org"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Android-x86</span></a><span style=" font-family:'Ubuntu';"> — специальная версия мобильной ОС для запуска на самом обычном компьютере. У Android-x86, как и у Android, есть разные ветки. В качестве тестовой платформы выбран культовый нетбук Eee PC, но фактически не имеет значения, куда ты будешь устанавливать проект. Это может быть как компьютер, так и планшетник или ноутбук (к проверенным устройствам относятся ASUS Eee, Viewsonic Viewpad 10, Dell Inspiron Mini Duo, Samsung Q1U, Viliv S5, Lenovo ThinkPad x61 Tablet). Последний билд даже имеет поддержку Wi-Fi.</span><img src="image2081912562.png" /><a name="attachment_61593"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметр vga=ask позволяет вручную выбрать нужный видеорежим</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="current_issue_box"></a><span style=" font-family:'Ubuntu'; font-size:small;">Д</span><span style=" font-family:'Ubuntu'; font-size:small;">ругие статьи в выпуске:</span><span style=" font-family:'Ubuntu';"> </span><img src="image380065569.png" /></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/issues/xa/157"><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600; text-decoration: underline; color:#0000ff;">Хакер #157. Деньги на багах в Chrome</span></a></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/issues/xa/157"><span style=" text-decoration: underline; color:#0000ff;">Содержание выпуска</span></a> </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://xakep.ru/about"><span style=" text-decoration: underline; color:#0000ff;">Подписка на «Хакер»</span></a> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Впрочем, если установка Android на ноутбук — это, скорее, баловство, то установка на виртуальную машину может принести вполне ощутимую пользу, особенно тем, кто хочет попробовать свои силы в разработке под Android, так как после установки им будет намного удобнее тестировать приложения (правда, придется мириться с некоторыми ограничениями, например с отсутствием эмуляции акселерометра). Предлагаю перейти к практике.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc02."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Отладка через gsdserver</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Не могу не отметить, что Android-x86 предлагается с предустановленным GDBserver’ом, который можно найти в /sbin/gdbserver. Таким образом, у нас есть возможность использовать GDB для отладки приложений на удаленной машине. Для этого, опять же, необходимо поднять сеть между виртуальной и хостовой ОС как показано выше и запустить GDBserver:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">root@android:/ # gdbserver &lt;VirtualBox ip address&gt;:1234 [исполняемый файл приложения и полный путь к нему]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Можно также воспользоваться опцией &quot;--attach pid&quot;, чтобы присоединиться к процессу, который уже запущен. Далее мы можем подключаться к нашей виртуалке с обычной машины. Запускаем GDB:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># gdb</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">И подключаемся к удаленному серверу:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">gdb &gt; target remote &lt;VirtualBox ip address&gt;:1234</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Работает! </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc03."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Установка на виртуалку</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Прежде всего стоит пойти на официальный сайт и выбрать подходящий образ. Все образы представляют собой LiveCD.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выбрав подходящий исошник (я скачал android-x86-2.2-r2-asus_laptop.iso), можно приступать непосредственно к установке под виртуальным окружением, например под бесплатным VirtualBox (<a href="http://www.virtualbox.org"><span style=" text-decoration: underline; color:#0000ff;">www.virtualbox.org</span></a>). Запускаем его и создаем новую виртуальную машину со следующими параметрами: </li>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Имя: Android.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Операционная система: Linux.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Версия: Other Linux (или Linux 2.6).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Память: 512 Мб.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Жесткий диск: 3 Гб.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">В настройках виртуальной машины нужно прописать загруженный нами образ Android-x86 в качестве DVD-привода. После этого виртуалку можно запускать.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Когда виртуальная машина загрузится с LiveCD, ты сразу видишь меню для выбора вариантов загрузки. Чтобы просто запустить и посмотреть ОС, достаточно выбрать «Run Android-x86 without installation». Поскольку нас больше интересует установка Android в качестве обычной ОС, выбираем последний пункт — «Installation — Install Android-x86 to harddisk». <img src="image1939275536.png" /><a name="attachment_61592"></a>Создаем раздел для установки Android-x86</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После этого появится меню, предлагающее выбрать раздел для установки системы. Так как разделов у нас еще нет, выбираем пункт «Create/Modidy partitions», в результате чего запустится обычный cfdisk. Создаем новый раздел (первичный), выделяя под него все свободное пространство, и ставим разделу флаг Bootable. После этого из системной утилиты можно выйти, не забыв записать изменения.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь можно выбрать созданный раздел для установки в него операционной системы. Указываем тип файловой системы — ext3, устанавливаем загрузчик GRUB и делаем директорию /system доступной для чтения/записи. Затем можно либо загрузиться в Android, или создать фейковую SD-карту, что тоже делается довольно просто. Всё, что для этого от нас требуется, — указать объем создаваемой карты.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">На этом установка завершена. Выключаем виртуалку, убираем в ее настройках примонтированный исошник Android-x86 (чтобы грузиться уже непосредственно с жесткого диска) и запускаем заново. Система предложит два варианта загрузки: обычный и debug. Выбираем первый из них и получаем загруженную под виртуалкой Android-систему. Если у тебя вдруг не заработает мышка, зайди в меню «Машина» и выбери пункт «Выключить интеграцию мыши» (то же самое можно сделать нажатием Right Ctrl + I).</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В общем-то, на данном этапе мы достигли поставленной цели — загрузили Android на обычном компе. Для тех, кто любит ставить всё самое последнее, скажу, что версия 4.0 имеет статус devel, так что в ней могут присутствовать различные недоработки. Например, почему-то одновременно показываются графическая оболочка и консоль. Не знаю, баг это или фича, но работать в такой ОС очень неудобно. Образ 3.2RC2 хорош всем, кроме того, что в нем отсутствует поддержка Ethernet, которая была мне нужна для отладки приложений. Но если цель всей затеи — просто поиграться с Android, то смело можешь выбирать его. Я же остановился на ветке 2.2.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc04."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Настройка звука и видео</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Звук. После установки Android-x86 звук очень часто перестает работать. Я тоже обнаружил эту проблему, когда зашел на Youtube посмотреть ролики. К счастью, всё оказалось не так страшно, и замена звуковой карты в настройках виртуальной машины на «Intel HD Audio» позволила устранить сбой. Если же простое решение не помогает, на официальном сайте выложен FAQ, где описано, как заставить работать ICH AC97 под </span><a href="http://bit.ly/v4H7YQ"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">VirtualBox</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Видео. Операционная система Android ориентирована на широкий круг девайсов, от смартфонов до наручных часов. Очевидно, что устройства имеют разные размеры и, соответственно, разные размеры экрана, поэтому было бы здорово протестировать разрабатываемое приложение при разных разрешениях. Сделать это совсем несложно. Во время запуска виртуальной машины надо дождаться, пока GRUB предложит варианты загрузки ОС, и выбрать в меню пункт «Android-x86 2.2 (HDPI)». Далее нажимаем «e» для редактирования записи. Появится еще одно меню, в котором следует выбрать запись вида «kernel /android-2.2/kernel /quiet root ....». Опять нажимаем «e» и в конце строки через пробел дописываем «vga=ask». Нажимаем Enter для сохранения и «b» для загрузки. После этого на экран будут выведены все доступные видеорежимы, останется только выбрать нужный и ввести его номер. Например, режим 1152х864х32 VESA обозначен как 34С. </span><img src="image588345174.png" /><a name="attachment_61594"></a><span style=" font-family:'Ubuntu';">С</span><span style=" font-family:'Ubuntu';">писок доступных видеорежимов </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc05."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Инсталлим приложения</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Итак, система работает — что дальше? Стандартный набор приложений, поставляемый вместе с ОС, быстро приедается. Да и разве мы ради того поднимали Android-x86, чтобы оказаться зажатыми в каких-то рамках? К сожалению, Android-x86 не может использовать Android Market — эта опция доступна только для тех производителей железа, которые имеют лицензию Google. Поэтому новые приложения установить не так просто, как в Android-телефонах. Тем не менее разработчики Android-x86 постарались максимально упростить процесс установки сторонних приложений:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сначала надо разрешить установку сторонних приложений из неизвестных источников. Идем в «Settings -&gt; Applications -&gt; Unknown sources» и ставим здесь галочку. Если не включить эту опцию, то, попытавшись установить приложение, мы получим сообщение, что установка заблокирована.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если известен адрес для скачивания приложения, открываем браузер и скачиваем программу. После завершения загрузки кликаем на скачанный файл для установки. Появится окошко с просьбой подтвердить установку приложения. При удачном раскладе после нажатия Install наше приложение начнет устанавливаться. Почему при удачном? Потому, что некоторые программы могут быть несовместимы с Android-x86. В таком случае поставить их не получится.</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Чтобы еще больше упростить поиск приложений, можно воспользоваться утилитой AndAppStore, которая поставляется вместе с Android-x86. Это своего рода аналог Android Market: весь софт здесь разбит на категории, а любая программа устанавливается в два клика.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc06."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Если нужны только приложения</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Специально на тот случай, если нужно запустить только Android-приложения (скажем, популярные игрушки), создан во многом уникальный проект </span><a href="http://bluestacks.com"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Bluestacks</span></a><span style=" font-family:'Ubuntu';">, разработка которого ведется совместно с компанией AMD. Идея в том, чтобы не эмулировать ОС Android, а полностью воссоздать окружение мобильной ОС для нативного выполнения программ. Что это дает? Ты можешь запускать игры в полноэкранном режиме, и они реально не будут тормозить. Платформа позволяет запускать десять приложений, которые идут в комплекте с ней, а также устанавливать дополнительные. Это делается очень просто. Заходим в папку с установленной программой, находим файл HD-ApkHandler.exe и создаем для него ярлык на рабочем столе. Далее скачиваем интересующее нас приложение для Android (в виде apk-пакета) и перетаскиваем его на только что созданный ярлык. Всё, программа установлена — ее можно запускать. Некоторые приложения, правда, не установятся из-за проблем с совместимостью. Некоторые другие, например Angry Birds и Fruit Ninja, помечены компанией BlueStacks как «премиум-приложения», которые можно будет установить только при использовании грядущей платной версии программы. Однако куча других игр установится и запустится без проблем. </span><img src="image109074344.png" /><a name="attachment_61589"></a><span style=" font-family:'Ubuntu';">Н</span><span style=" font-family:'Ubuntu';">астраиваем локальную сеть в Android </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc07."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Настройки для отладки</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Итак, мы установили ось, поигрались с интерфейсом Android, заинсталлили программы, которые хотели посмотреть, — пора переходить к более серьезным занятиям. Я изначально собирался использовать такую систему как платформу для тестирования разрабатываемых приложений, поэтому расскажу, как это делается.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Первым делом нам понадобится настроить сеть, причем в нашем случае она не совсем стандартная. Android-система должна иметь доступ в интернет (что просто необходимо при написании сетевых приложений), а также еще одно подключение к локальной сети, через которое мы могли бы связаться с нашей виртуальной машиной для отладки приложений. Ethernet нужен, чтобы настроить NAT в виртуальной машине и полноценно пользоваться интернетом.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Итак, открываем раздел «Сеть» и настраиваем там два адаптера:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Адаптер 1 — NAT (в виртуальной машине будет виден как eth0, для интернета).</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Адаптер 2 — виртуальный адаптер хоста (в виртуальной машине будет виден как eth1, для отладки приложений).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для продолжения требуется ребут системы. По умолчанию Android x86 не может работать с двумя сетевыми адаптерами, но это легко исправить. Идем в меню для запуска приложений, переходим в «Settings -&gt; Configure Ethernet» и выбираем «eth0 dhcp», после чего снова перезагружаем виртуалку. После загрузки необходимо перейти в консоль. Делается это очень просто, с помощью комбинации Alt + F1...F6 (Alt + F7 вернет нас в графический интерфейс). В консоли необходимо выполнить следующие команды:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">root@android:/ # netcfg</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">lo  UP  127.0.0.1   255.0.0.0   0x00000049</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">eth0    UP  10.0.2.15   255.255.255.0   0x00001043</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">eth1    DOWN    0.0.0.0     0.0.0.0     0x00001002</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">root@android:/ # netcfg eth1 down</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">root@android:/ # netcfg eth1 dhcp</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">action 'dhcp' failed (invalid argument)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">root@android:/ # netcfg eth1 up</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">root@android:/ # netcfg</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">lo  UP  127.0.0.1   255.0.0.0   0x00000049</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">eth0    UP  10.0.2.15   255.255.255.0   0x00001043</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">eth1    UP  192.168.56.101  255.255.255.0   0x00001043</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Теперь, как ты видишь, у нас подняты два интерфейса: один для выхода в Сеть, другой для отладки приложений. Остается только настроить последнюю.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc08."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Shortcut’ы для быстрой навигации</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Кнопка Windows соответствует кнопке Home в Android;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Esc соответствует кнопке «Назад» в Android;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">F2 соответствует кнопке Menu;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">F3 соответствует кнопке поиска;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Alt + F1 — переключение в консольный режим;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Alt + F7 — переключение в режим GUI. <img src="image141769630.png" /><a name="attachment_61591"></a>Выбираем на каком эмуляторе будем отлаживать написанное приложение </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc09."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Отладка приложений</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для дальнейших действий нам понадобится Android SDK который придется </span><a href="http://developer.android.com/sdk/index.html"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">загрузить</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Скачиваем архив android-sdk_r16-windows.zip и распаковываем. Заходим в получившуюся папку и ищем директорию platform-tools. Ага, такой нет. Придется запустить SDK Manager и установить недостающие инструменты. Выбираем категорию «Tool -&gt; Android SDK Platform-tools». После установки должна появиться папка platform-tools, которая нас и интересует.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В папке надо найти утилитуADB. Аббревиатура ADB расшифровывается как Android Debug Bridge (Отладочный мост «Андроид»). Так как операционная система от Google принадлежит к семейству Linux, для ее настройки часто необходимо использовать командную строку. Конечно, существуют программы — эмуляторы терминала, которые позволяют выполнять команды прямо на устройстве, но, во-первых, на маленьком экране телефона это делать неудобно, а во-вторых, иногда требуется доступ к устройству через компьютер. В этих и многих других случаях программа ADB просто незаменима. Она устанавливает связь между устройством и компьютером и позволяет прямо на компьютере выполнять различные манипуляции с системой Android.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для того чтобы подключить новое устройство к системе, надо ввести: </li>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">с:\android-sdk-windows\platform-tools&gt;adb connect 192.168.56.101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">connected to 192.168.56.101:5555</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">После этого можно просмотреть список уже подключенных устройств, набрав команду:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">с:\android-sdk-windows\platform-tools&gt;adb devices</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">List of devices attached</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">emulator-5554   device</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,courier';">192.168.56.101:5555 device</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Здесь emulator-5554 — дефолтный эмулятор от Google, а 192.168.56.101:5555 — наша виртуальная машина.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">С этого момента наш эмулятор доступен из Eclipse, и его можно использовать для тестирования приложений, что нам и требовалось.</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span><img src="image1787968679.png" /><a name="attachment_61590"></a><span style=" font-family:'Ubuntu';">У</span><span style=" font-family:'Ubuntu';">становка приложений с помощью AndAppStore </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc10."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">WWW</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Более подробную информацию об утилите ADB и всех ее параметрах ты можешь посмотреть на </span><a href="http://bit.ly/2s9b0J"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">официальном сайте</span></a><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toc11."></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Заключение</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Что я могу сказать после месяца использования Android-x86? С одной стороны, проект еще немного сыроват и некоторые недоработки заметны невооруженным взглядом. Версия 4.0 удивила своим интерфейсом, в котором консоль торчала поверх графики. Версия 3.2 на первый взгляд не имела глюков в плане графики, но не позволяла поднять сеть для отладки приложений. И только 2.2 удовлетворила всем моим требованиям. С отладкой тоже всё непросто: этот способ однозначно быстрее эмулятора SDK, но полноценно отлаживать приложения лучше всё-таки на настоящем девайсе. С другой стороны, это шикарная возможность запустить Android на своем компе и понять все его достоинства и недостатки, протестировать популярные приложения, не покупая телефонов и прочих девайсов.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p></body></html>