<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorial_series/common-apache-errors&amp;usg=ALkJrhiYXi7F8A8ECPV_FIb9nQt41Qg7dg"><span style=" text-decoration: underline; color:#0000ff;">Распространенные ошибки Apache</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:medium; font-weight:600;">Руководство</span> </p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; font-weight:600;">Ошибка конфигурации Apache AH00558: не удалось надежно определить полное доменное имя сервера</span> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tags/apache&amp;usg=ALkJrhhwU8LD9zKnTVmHasAHnWRXRlfeqQ"><span style=" text-decoration: underline; color:#0000ff;">Apache</span></a> </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">По <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/users/jamonation&amp;usg=ALkJrhirWNiOXn4-KzPXhvDu5ybz75A6Tg"><span style=" text-decoration: underline; color:#0000ff;">Хамон Camisso</span></a> Опубликовано 6 августа 2020 г. 57,3 км Просмотры </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="tutorial_series_98"></a><span style=" font-weight:600;">Ч</span><span style=" font-weight:600;">асть серии: </span><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorial_series/common-apache-errors&amp;usg=ALkJrhiYXi7F8A8ECPV_FIb9nQt41Qg7dg"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">Общие ошибки Apache</span></a><span style=" font-weight:600;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В этой серии руководств объясняется, как устранять неполадки и исправлять некоторые из наиболее распространенных ошибок, с которыми вы можете столкнуться при использовании веб-сервера <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tags/apache&amp;usg=ALkJrhhwU8LD9zKnTVmHasAHnWRXRlfeqQ"><span style=" text-decoration: underline; color:#0000ff;">Apache</span></a> . </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Каждый учебник в этой серии включает описание распространенных ошибок конфигурации Apache, сети, файловой системы или разрешений. Серия начинается с обзора команд и файлов журнала, которые вы можете использовать для устранения неполадок Apache. В последующих руководствах подробно рассматриваются конкретные ошибки. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="introduction"></a><span style=" font-size:large; font-weight:600;">В</span><span style=" font-size:large; font-weight:600;">ведение</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">AH00558: Could not reliably determine the server's fully qualified domain name</span>Сообщение Apache создается, когда Apache не настроен с помощью глобальной <span style=" font-family:'Courier New,courier';">ServerName</span>директивы. Сообщение предназначено в основном для информационных целей, и ошибка AH00558 не помешает правильной работе Apache. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В этом руководстве вы узнаете, как обнаружить сообщение AH00558, используя методы, описанные в руководстве « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-apache-errors&amp;usg=ALkJrhgykhQGHmbDWkTWiDcdfu8fWB1YXQ"><span style=" text-decoration: underline; color:#0000ff;">Как</span></a> устранить <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-apache-errors&amp;usg=ALkJrhgykhQGHmbDWkTWiDcdfu8fWB1YXQ"><span style=" text-decoration: underline; color:#0000ff;">распространенные ошибки Apache»</span></a> в начале этой серии. Вы также узнаете, как установить <span style=" font-family:'Courier New,courier';">ServerName</span>директиву для разрешения сообщения. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если вы уже определили, что на ваш сервер Apache влияет сообщение AH00558, и вы хотите пропустить шаги по устранению неполадок, шаг « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" text-decoration: underline; color:#0000ff;">Установка глобальной </span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" font-family:'Courier New,courier'; text-decoration: underline; color:#0000ff;">ServerName</span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" text-decoration: underline; color:#0000ff;">директивы»</span></a> в конце этого руководства объясняет, как устранить это сообщение. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="troubleshooting-using-systemctl"></a><span style=" font-size:x-large; font-weight:600;">У</span><span style=" font-size:x-large; font-weight:600;">странение неполадок с использованием </span><span style=" font-family:'Courier New,courier'; font-size:x-large; font-weight:600;">systemctl</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Первый шаг при устранении неполадок с <span style=" font-family:'Courier New,courier';">AH00558: Could not reliably determine the server's fully qualified domain name</span>сообщением - проверка статуса Apache с помощью <span style=" font-family:'Courier New,courier';">systemctl</span>. Вывод команды <span style=" font-family:'Courier New,courier';">systemctl</span>will во многих случаях содержит всю информацию, необходимую для разрешения сообщения. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В дистрибутивах Linux, производных от Ubuntu и Debian, выполните следующее, чтобы проверить статус Apache:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Системы Ubuntu и Debian</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo systemctl status apache2.service -l --no-pager </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В системах CentOS Fedora и системах, производных от RedHat, используйте эту команду для проверки статуса Apache:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Системы CentOS и Fedora</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo systemctl status httpd.service -l --no-pager </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">-l</span>Флаг будет гарантировать , что <span style=" font-family:'Courier New,courier';">systemctl</span>выводит все содержимое строки, вместо того , подставив в (эллипсов <span style=" font-family:'Courier New,courier';">…</span>) для длинных линий. <span style=" font-family:'Courier New,courier';">--no-pager</span>Выходной флаг будет весь журнал на экран , не прибегая к такому инструменту , как , <span style=" font-family:'Courier New,courier';">less</span>что только показывает экран контента одновременно. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вы должны получить вывод, подобный следующему:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Output</span><span style=" font-family:'Courier New,courier';">● apache2.service - The Apache HTTP Server</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  Drop-In: /lib/systemd/system/apache2.service.d</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">           └─apache2-systemd.conf</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   Active: active (running) since Wed 2020-07-29 14:30:03 UTC; 33min ago</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  Process: 34 ExecStart=/usr/sbin/apachectl start (code=exited, status=0/SUCCESS)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"> Main PID: 46 (apache2)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    Tasks: 55 (limit: 2344)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   CGroup: /system.slice/apache2.service</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">           ├─46 /usr/sbin/apache2 -k start</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">           ├─47 /usr/sbin/apache2 -k start</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">           └─48 /usr/sbin/apache2 -k start</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Jul 29 14:30:03 68e2cf19f3f1 systemd[1]: Starting The Apache HTTP Server...</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Jul 29 14:30:03 68e2cf19f3f1 apachectl[34]: AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.17.0.2. Set the 'ServerName' directive globally to suppress this message</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Jul 29 14:30:03 68e2cf19f3f1 systemd[1]: Started The Apache HTTP Server.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выделенная строка, содержащая сообщение AH00558, является важной. По сути, он сообщает вам, что Apache не смог найти действительную <span style=" font-family:'Courier New,courier';">ServerName</span>директиву в своем файле конфигурации, поэтому он будет использовать первый обнаруженный IP-адрес. В этом примере, это публичный IP - адрес сервера: <span style=" font-family:'Courier New,courier';">172.17.02</span>. Если вы устраняете неполадки сообщения AH00558, обнаруженный IP-адрес может быть другим или это может быть DNS-имя, читаемое человеком. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если ваши <span style=" font-family:'Courier New,courier';">systemctl</span>выходные данные содержат автоматически определяемое значение любого IP-адреса или имени хоста, перейдите к последнему разделу этого руководства, « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" text-decoration: underline; color:#0000ff;">Установка глобальной </span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" font-family:'Courier New,courier'; text-decoration: underline; color:#0000ff;">ServerName</span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" text-decoration: underline; color:#0000ff;">директивы»,</span></a> чтобы решить проблему. В этом разделе вы настроите Apache с безопасным по умолчанию <span style=" font-family:'Courier New,courier';">ServerName</span>значения , используя IP - адрес <span style=" font-family:'Courier New,courier';">localhost</span>: <span style=" font-family:'Courier New,courier';">127.0.0.1</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если в ваших <span style=" font-family:'Courier New,courier';">systemctl</span>выходных данных не указано значение, которое можно использовать для <span style=" font-family:'Courier New,courier';">ServerName</span>директивы, в следующем разделе этого руководства объясняется, как исследовать <span style=" font-family:'Courier New,courier';">systemd</span>журналы, используя их <span style=" font-family:'Courier New,courier';">journalctl</span>для поиска сообщения AH00558. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="troubleshooting-using-journalctl"></a><span style=" font-size:x-large; font-weight:600;">У</span><span style=" font-size:x-large; font-weight:600;">странение неполадок с использованием </span><span style=" font-family:'Courier New,courier'; font-size:x-large; font-weight:600;">journalctl</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы просмотреть <span style=" font-family:'Courier New,courier';">systemd</span>журналы Apache, вы воспользуетесь <span style=" font-family:'Courier New,courier';">journalctl</span>командой. При вызове <span style=" font-family:'Courier New,courier';">journalctl</span>есть два особых флага, которые помогут вам найти определенные сообщения, если имеется большой объем записей журнала. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Первый флаг, который вы добавите к <span style=" font-family:'Courier New,courier';">journalctl</span>вызову, - это <span style=" font-family:'Courier New,courier';">--since today</span>флаг. Это ограничит вывод команды только записями журнала, начинающимися с 00:00:00 текущего дня. Использование этой опции поможет ограничить объем записей журнала, которые вам необходимо изучить при проверке ошибок. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Второй флаг, который вы будете использовать, - это тот же <span style=" font-family:'Courier New,courier';">--no-pager</span>параметр, что и вы использовали, при <span style=" font-family:'Courier New,courier';">systemctl</span>котором весь журнал сразу выводится на ваш экран. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В системах, производных от Ubuntu и Debian, выполните следующую команду:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo journalctl -u apache2.service --since today --no-pager </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В системах, основанных на CentOS, Fedora и RedHat, используйте эту команду для проверки журналов:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo journalctl -u httpd.service --since today --no-pager </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если ваш сервер Apache генерирует сообщение AH00558, просмотрите <span style=" font-family:'Courier New,courier';">journalctl</span>вывод команды и найдите такие строки:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Output</span><span style=" font-family:'Courier New,courier';">-- Logs begin at Wed 2020-07-29 14:30:02 UTC, end at Wed 2020-07-29 14:45:03 UTC. --</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">. . .</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Jul 29 14:30:03 68e2cf19f3f1 systemd[1]: Starting The Apache HTTP Server...</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Jul 29 14:30:03 68e2cf19f3f1 apachectl[34]: AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.17.0.2. Set the 'ServerName' directive globally to suppress this message</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Jul 29 14:30:03 68e2cf19f3f1 systemd[1]: Started The Apache HTTP Server.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вторая строка вывода - это сообщение AH00558. Строка включает публичный IP-адрес сервера, который Apache автоматически обнаруживает и устанавливает по умолчанию во время выполнения. Получив это сообщение как подтверждение ошибки AH00558, вы можете перейти к <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" text-decoration: underline; color:#0000ff;">настройке глобальной </span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" font-family:'Courier New,courier'; text-decoration: underline; color:#0000ff;">ServerName</span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah00558-could-not-reliably-determine-the-server-s-fully-qualified-domain-name&amp;usg=ALkJrhi4KI1B2QD_A_AZnE9vCtbp_ijg4w#setting-a-global-servername-directive"><span style=" text-decoration: underline; color:#0000ff;">директивы</span></a> для решения проблемы. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В противном случае в следующем разделе объясняется, как диагностировать сообщение об ошибке AH00558 с помощью <span style=" font-family:'Courier New,courier';">apachectl</span>команды. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="troubleshooting-using-apachectl"></a><span style=" font-size:x-large; font-weight:600;">У</span><span style=" font-size:x-large; font-weight:600;">странение неполадок с использованием </span><span style=" font-family:'Courier New,courier'; font-size:x-large; font-weight:600;">apachectl</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">AH00558: Could not reliably determine the server's fully qualified domain name</span>Ошибка может быть обнаружена с помощью сервера Apache <span style=" font-family:'Courier New,courier';">apachectl</span>полезности. С <span style=" font-family:'Courier New,courier';">apachectl</span>его помощью вы можете перехватывать подобные сообщения перед перезагрузкой или перезапуском Apache, и вам не нужно искать <span style=" font-family:'Courier New,courier';">systemctl</span>и <span style=" font-family:'Courier New,courier';">journalctl</span>регистрировать ошибки для поиска ошибок. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы проверить конфигурацию Apache на наличие сообщения AH00558, выполните следующую команду:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo apachectl configtest </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вы должны получить следующий вывод, если на вашем сервере появляется сообщение об ошибке AH00558:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Output</span><span style=" font-family:'Courier New,courier';">AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.17.0.2. Set the 'ServerName' directive globally to suppress this message</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Syntax OK</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как и в предыдущих разделах этого руководства, в которых использовалось <span style=" font-family:'Courier New,courier';">systemctl</span>и <span style=" font-family:'Courier New,courier';">journalctl</span>для поиска сообщений AH00558, важна строка, содержащая сообщение AH00558, выделенная в предыдущем примере. Еще раз обратите внимание, что IP-адрес <span style=" font-family:'Courier New,courier';">172.17.0.2</span>в этом примере может быть другим на вашем сервере. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В следующем разделе этого руководства объясняется, как установить <span style=" font-family:'Courier New,courier';">ServerName</span>директиву для разрешения сообщений об ошибках AH00558. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="setting-a-global-servername-directive"></a><span style=" font-size:x-large; font-weight:600;">У</span><span style=" font-size:x-large; font-weight:600;">становка глобальной </span><span style=" font-family:'Courier New,courier'; font-size:x-large; font-weight:600;">ServerName</span><span style=" font-size:x-large; font-weight:600;">директивы</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы устранить <span style=" font-family:'Courier New,courier';">AH00558: Could not reliably determine the server's fully qualified domain name</span>сообщение об ошибке, вам необходимо добавить <span style=" font-family:'Courier New,courier';">ServerName</span>директиву в конфигурацию Apache. Apache использует <span style=" font-family:'Courier New,courier';">ServerName</span>директиву для сопоставления входящих HTTP-запросов с IP-адресом или именем хоста DNS с помощью <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://httpd.apache.org/docs/2.4/vhosts/index.html&amp;usg=ALkJrhi3iL9l62IKTN3m3fvM3u1TbtcDow"><span style=" font-family:'Courier New,courier'; text-decoration: underline; color:#0000ff;">VirtualHost</span></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://httpd.apache.org/docs/2.4/vhosts/index.html&amp;usg=ALkJrhi3iL9l62IKTN3m3fvM3u1TbtcDow"><span style=" text-decoration: underline; color:#0000ff;">директив</span></a> , чтобы обрабатывать запросы для нескольких сайтов с использованием одного сервера. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В сообщении об ошибке отмечается, что также <span style=" font-family:'Courier New,courier';">ServerName</span>должна быть установлена глобальная директива. Это гарантирует, что Apache сможет корректно обрабатывать входящие запросы, которые не отображаются в a, <span style=" font-family:'Courier New,courier';">VirtualHost</span>без дополнительных ошибок. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для максимальной совместимости с различными конфигурациями Apache используйте значение <span style=" font-family:'Courier New,courier';">127.0.0.1</span>глобальной <span style=" font-family:'Courier New,courier';">ServerName</span>директивы. При необходимости вы можете использовать другой IP-адрес или DNS-имя, соответствующее конфигурации вашего сервера, но это безопаснее всего <span style=" font-family:'Courier New,courier';">127.0.0.1</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">On Ubuntu and Debian-derived systems, open the <span style=" font-family:'Courier New,courier';">/etc/apache2/apache2.conf</span> file with root privileges using <span style=" font-family:'Courier New,courier';">nano</span> or your preferred text editor:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo nano /etc/apache2/apache2.conf </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Add a line containing <span style=" font-family:'Courier New,courier';">ServerName 127.0.0.1</span> to the end of the file:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">/etc/apache2/apache2.conf</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">. . .</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># Include the virtual host configurations:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">IncludeOptional sites-enabled/*.conf</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># vim: syntax=apache ts=4 sw=4 sts=4 sr noet</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">ServerName 127.0.0.1</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">On CentOS, Fedora, and RedHat-derived systems, open the <span style=" font-family:'Courier New,courier';">/etc/httpd/conf/httpd.conf</span> file with root privileges using <span style=" font-family:'Courier New,courier';">nano</span> or your preferred text editor:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo nano /etc/httpd/conf/httpd.conf </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Add the <span style=" font-family:'Courier New,courier';">ServerName 127.0.0.1</span> line to the end of the file:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">/etc/httpd/conf/httpd.conf</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">. . .</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># Supplemental configuration</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">#</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># Load config files in the &quot;/etc/httpd/conf.d&quot; directory, if any.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">IncludeOptional conf.d/*.conf</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">ServerName 127.0.0.1</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Save and close the file when you are finished. If you used <span style=" font-family:'Courier New,courier';">nano</span>, do so by pressing <span style=" font-family:'Courier New,courier';">CTRL + X</span>, <span style=" font-family:'Courier New,courier';">Y</span>, and then <span style=" font-family:'Courier New,courier';">ENTER</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Once you have added the <span style=" font-family:'Courier New,courier';">ServerName</span> directive to your configuration, run <span style=" font-family:'Courier New,courier';">apachectl</span> to test that the configuration is valid.</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo apachectl configtest </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">A successful <span style=" font-family:'Courier New,courier';">apachectl configtest</span> invocation should result in output like this:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Output</span><span style=" font-family:'Courier New,courier';">Syntax OK</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь вы можете перезапустить Apache, используя соответствующую <span style=" font-family:'Courier New,courier';">systemctl restart</span>команду для вашего дистрибутива Linux. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В системах, производных от Ubuntu и Debian, запустите следующее:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo systemctl restart apache2.service </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В системах, основанных на CentOS, Fedora и RedHat, используйте эту команду для перезапуска Apache:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Courier New,courier';"><pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo systemctl restart httpd.service </pre></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После перезапуска Apache сообщение об ошибке AH00558 больше не будет отображаться в ваших журналах. Вы можете подтвердить сообщения замалчиваются, запустив любой из трех <span style=" font-family:'Courier New,courier';">systemctl</span>, <span style=" font-family:'Courier New,courier';">journalctl</span>или<span style=" font-family:'Courier New,courier';">apachectl</span> команды , которые демонстрируются в этом учебнике. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="conclusion"></a><span style=" font-size:x-large; font-weight:600;">З</span><span style=" font-size:x-large; font-weight:600;">аключение</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В этом руководстве вы узнали о <span style=" font-family:'Courier New,courier';">AH00558: Could not reliably determine the server's fully qualified domain name</span>сообщениях об ошибках. Хотя эти сообщения не препятствуют запуску Apache, их можно разрешить, установив глобальный<span style=" font-family:'Courier New,courier';">ServerName</span> директиву. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вы узнали , как искать сообщения об ошибках AH00558 с использованием <span style=" font-family:'Courier New,courier';">systemctl</span>, <span style=" font-family:'Courier New,courier';">journalctl</span>и<span style=" font-family:'Courier New,courier';">apachectl</span> команды. Наконец, вы узнали, как редактировать конфигурацию Apache в различных дистрибутивах Linux, чтобы отключить сообщения. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если вы хотите узнать больше о том, как Apache использует <span style=" font-family:'Courier New,courier';">ServerName</span>директивы, документация Apache о <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://httpd.apache.org/docs/current/vhosts/name-based.html&amp;usg=ALkJrhiQiCJzWj2s8rxe7sFiMMSY8a-L0g"><span style=" text-decoration: underline; color:#0000ff;">виртуальных хостах</span></a> на <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://httpd.apache.org/docs/current/vhosts/name-based.html&amp;usg=ALkJrhiQiCJzWj2s8rxe7sFiMMSY8a-L0g"><span style=" text-decoration: underline; color:#0000ff;">основе имен</span></a> объясняет эту директиву более подробно. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=ru&amp;prev=search&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=en&amp;sp=nmt4&amp;u=https://www.digitalocean.com/community/tutorials/apache-configuration-error-ah02572-failed-to-configure-at-least-one-certificate-and-key&amp;usg=ALkJrhiHk3J6zj5n6EiivYZSVMwCQoH7vQ"><span style=" text-decoration: underline; color:#0000ff;">Далее в серии: Ошибка конфигурации Apache AH02572: Не удалось настроить хотя бы один сертификат и ключ </span></a></p></body></html>