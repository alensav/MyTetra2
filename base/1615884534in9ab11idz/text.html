<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<table border="1" style=" border-color:#888888; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0" bgcolor="transparent">
<tr>
<td bgcolor="#ffffe0">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600; background-color:transparent;">    sudo apt-get install lxc</span><span style=" font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">    Опционально:  </span><span style=" font-size:10pt;">sudo </span><span style=" font-size:10pt; background-color:transparent;">apt-get install bridge-utils</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">                                 sudo apt-get install debootstrap<br />    </span><a href="https://laurvas.ru/debootstrap/"><span style=" font-size:10pt; font-weight:600; text-decoration: underline; color:#0000ff;">debootstrap</span></a><span style=" font-size:10pt;"> - инструмент, позволяющий установить базовую систему в подкаталог другой, уже                           установленной системы. </span><span style=" font-size:10pt; background-color:transparent;">Не требует инсталляционного CD и работает через репозитории Debian.</span></p></td></tr>
<tr>
<td bgcolor="#fffacd">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/var/lib/lxcfs </span><span style=" font-size:10pt;">               cgroup, proc<br /></span><span style=" font-size:10pt; font-weight:600;">mount -l | grep cgroup    </span><span style=" font-size:10pt;">проверить cgroup<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/etc/lxc</span><span style=" font-size:10pt;">                          прочие настройки (default.conf; lxc-usernet; dhcp.conf - создать для ст. разрешения имен)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/etc/default/lxc-net </span><span style=" font-size:10pt;">     настройки сети (общие)    vim /etc/default/lxc-net      </span><span style=" font-size:10pt; font-weight:600; background-color:transparent;">grep -vE '^#|^$' /etc/default/lxc-net</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/var/cache/lxc</span><span style=" font-size:10pt;">              кэш шаблонов      </span><span style=" font-size:10pt; background-color:transparent;">ls /var/cache/lxc/download</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/var/lib/lxc/                  </span><span style=" font-size:10pt;">контейнеры          ls /var/lib/lxc/       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/var/lib/lxc/&lt;container&gt;/config                </span><span style=" font-size:10pt;">containers config       vim  /var/lib/lxc/&lt;container&gt;/config </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/var/lib/lxcsnaps</span><span style=" font-size:10pt;">          сюда пишутся снапшоты</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/var/log/lxc </span><span style=" font-size:10pt;">                  логи</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">/etc/iptables/rules.v4   </span><span style=" font-size:10pt;">правила iptables:       iptables -t nat -L     vim /etc/iptables/rules.v4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">lxc-checkconfig</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">lxc network list  </span><span style=" font-size:10pt;">(наличие LXD (Linux Container Daemon) - </span><a href="https://sites.google.com/site/kfgnb0101/home/Doc/off-topic/primecania#TOC-10-"><span style=" font-size:10pt; font-weight:600; text-decoration: underline; color:#0000ff;">гипервизор</span></a><span style=" font-size:10pt;"> контейнеров)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"> </span><span style=" font-size:10pt; font-weight:600;"># cat /etc/lxc/default.conf</span><span style=" font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">lxc.net.0.type = veth</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">lxc.net.0.link = lxcbr0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">lxc.net.0.flags = up</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">lxc.net.0.hwaddr = 00:16:3e:xx:xx:xx</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;"># cat /etc/lxc/lxc-usernet</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"># USERNAME TYPE BRIDGE COUNT</span></p></td></tr></table></body></html>