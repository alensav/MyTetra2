<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image733780068.png" /><img src="image2026142078.png" /><img src="image257149397.png" /></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:296; color:#363636;">Миграция с 1.x на 2.0</span></p>
<hr />
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a; background-color:#ffffff;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="content"></a><a href="https://mosquitto-org.translate.goog/documentation/migrating-to-2-0/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc#introduction"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">В</span></a><span style=" font-size:16px; color:#7a91c1;">ведение</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://mosquitto-org.translate.goog/documentation/migrating-to-2-0/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc#listener-behaviour-changes"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">Изменения в поведении слушателя</span></a></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://mosquitto-org.translate.goog/documentation/migrating-to-2-0/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc#use-of-rootprivileged-user"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">Использование root/привилегированного пользователя</span></a></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://mosquitto-org.translate.goog/documentation/migrating-to-2-0/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc#other-behaviour"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">Другое поведение</span></a></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://mosquitto-org.translate.goog/documentation/migrating-to-2-0/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc#packaging-and-distribution"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">Упаковка и дистрибуция</span></a></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://mosquitto-org.translate.goog/documentation/migrating-to-2-0/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc#plugins"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">Плагины</span></a></li></ul>
<p style=" margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="introduction"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">В</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">ведение</span></p>
<p style="-qt-paragraph-type:empty; margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%; font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;"><br /></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Mosquitto 2.0 вносит ряд изменений в поведение брокера, о которых необходимо знать новым пользователям и которые объясняются в этом документе.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Если вы упаковываете Mosquitto для распространения, см. раздел «Упаковка и распространение».</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Если вы являетесь автором плагина, см. раздел «Плагины».</span></p>
<p style=" margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="listener-behaviour-changes"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">И</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">зменения в поведении слушателя</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Способ настройки прослушивателей в Mosquitto был изменен, чтобы помочь конечным пользователям сделать осознанный выбор в вопросах безопасности, а не просто полагаться на ранее весьма снисходительные настройки по умолчанию.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="listener-without-configuration"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">П</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">рослушиватель без конфигурации</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Если Mosquitto запущен без файла конфигурации или без настройки каких-либо прослушивателей, он теперь будет привязан к интерфейсам обратной связи 127.0.0.1 и/или ::1. Это означает, что будут возможны только соединения с локального хоста. Этот режим позволяет проводить автоматическое или ручное тестирование на локальной машине без необходимости в файле конфигурации. Только в этом режиме анонимные/неаутентифицированные пользователи разрешены по умолчанию.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Это относится к вам, если вы управляете своим брокером аналогично одному из следующих примеров:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:16px; color:#ff3860; background-color:#f5f5f5;">mosquitto</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:15px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:16px; color:#ff3860; background-color:#f5f5f5;">mosquitto -p 1883</span><span style=" font-size:16px;">.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Если вы используете этот режим и хотите, чтобы клиенты подключались с удаленной машины, вам потребуется использовать файл конфигурации:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;">слушатель 1883</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;"># Обратите внимание, что по умолчанию анонимный доступ невозможен.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Эта конфигурация привязывает прослушиватель для порта 1883 к интерфейсу </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">0.0.0.0</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">или </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">::</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">по умолчанию, т.е. разрешает соединения на всех интерфейсах. Тем не менее, можно вручную привязаться к определенному интерфейсу, например </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">listener 1883 192.168.1.1</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="authentication-requires-configuration"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">А</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">утентификация требует настройки</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Теперь все слушатели требуют настройки аутентификации. Это за исключением случая, когда конфигурация слушателя не указана, и, следовательно, слушатель привязан к интерфейсу обратной связи, как описано выше.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Это означает, что </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">allow_anonymous</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">теперь по умолчанию установлено значение false. Если у вас в настоящее время запущен брокер, у которого в файле конфигурации настроен прослушиватель, но нет другой настроенной аутентификации и явных </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">allow_anonymous</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">настроек, то ваши клиенты не смогут подключиться после обновления до Mosquitto 2.0.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Есть три варианта:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Настройте встроенные </span><span style=" font-family:'monospace'; font-size:16px; color:#ff3860; background-color:#f5f5f5;">password_file</span><span style=" font-size:16px;">параметры </span><span style=" font-family:'monospace'; font-size:16px; color:#ff3860; background-color:#f5f5f5;">acl_file</span><span style=" font-size:16px;">аутентификации.</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Используйте плагин аутентификации, например новый </span><a href="https://mosquitto-org.translate.goog/documentation/dynamic-security/?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=sc"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">плагин dynamic-security</span></a><span style=" font-size:16px;"> или сторонний </span><a href="https://translate.google.com/website?sl=en&amp;tl=ru&amp;hl=ru&amp;prev=search&amp;u=https://github.com/iegomez/mosquitto-go-auth"><span style=" font-size:16px; text-decoration: underline; color:#7a91c1;">плагин mosquitto-go-auth</span></a><span style=" font-size:16px;"> .</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:15px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Установить </span><span style=" font-family:'monospace'; font-size:16px; color:#ff3860; background-color:#f5f5f5;">allow_anonymous true</span><span style=" font-size:16px;">— это следует делать только в том случае, если у вас есть особая потребность в неаутентифицированных клиентах.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="listener-tls-protocol-version-changes"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">И</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">зменения версии протокола TLS прослушивателя</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Опция прослушивателя </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">tls_version</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">теперь определяет </span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; font-style:italic; color:#4a4a4a;">минимальную</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;"> версию протокола TLS для использования, а не точную версию. Например, настройка </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">tls_version tlsv1.2</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">разрешит как TLS v1.2, так и TLS v1.3.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Поддержка TLS v1.0 отключена.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="mixing-configuration-files-with-p"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">С</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">мешивание файлов конфигурации с -p</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Если вы настраиваете прослушиватель в файле конфигурации </span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; font-style:italic; color:#4a4a4a;">и</span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">-p 1883</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;"> одновременно используете eg в командной строке, вам потребуется добавить все прослушиватели в файл конфигурации, поскольку такое поведение больше не поддерживается — порт, указанный в командной строке, будет игнорироваться.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Если у вас есть такой файл конфигурации:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;">слушатель 1883</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;"># ...</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">И запустите Mosquitto вот так:</span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">mosquitto -c mosquitto.conf -p 1884</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Тогда вам следует вместо этого запустить Mosquitto как </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">mosquitto -c mosquitto.conf</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">и использовать файл конфигурации с обоими слушателями в:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;">слушатель 1883</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;"># ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;">слушатель 1884</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; font-size:9pt; color:#4a4a4a;"># ...</span></p>
<p style=" margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="use-of-rootprivileged-user"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">И</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">спользование root/привилегированного пользователя</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">В версиях до 2.0, если Mosquitto запускался от имени пользователя root, он загружал сертификаты TLS, запускал прослушиватели и начинал ведение журнала, прежде чем переходить к непривилегированному пользователю Mosquitto.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Это поведение изменилось. В версии 2.0 Mosquitto загружает файл конфигурации и немедленно переходит к настроенному непривилегированному пользователю, который по умолчанию является </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">mosquitto</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">. Если </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">mosquitto</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">настроенный вручную пользователь недоступен, брокер попытается перейти к </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">nobody</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">пользователю.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Это означает, что единственными файлами, к которым Mosquitto будет иметь доступ как root, являются файлы конфигурации, и, следовательно, любые другие файлы, к которым Mosquitto необходимо получить доступ или записать их, должны быть доступны непривилегированному пользователю.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">В частности, тем, кто использует сертификаты TLS от Lets Encrypt, нужно будет что-то сделать, чтобы Mosquitto мог получить доступ к этим сертификатам. Пример сценария развертывания обновления, который поможет в этом, находится по адресу </span><a href="https://translate.google.com/website?sl=en&amp;tl=ru&amp;hl=ru&amp;prev=search&amp;u=https://github.com/eclipse/mosquitto/tree/master/misc/letsencrypt"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#7a91c1;">misc/letsencrypt/mosquitto-copy.sh</span></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;"> .</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">По-прежнему возможно принудительно запустить Mosquitto от имени root, но делать это настоятельно не рекомендуется.</span></p>
<p style=" margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="other-behaviour"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">Д</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">ругое поведение</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Теперь опция </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">pid_file</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">всегда будет пытаться записать pid-файл, независимо от того, </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">-d</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">используется ли аргумент при запуске брокера.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Значение параметра </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">max_queued_messages</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">увеличено со 100 до 1000 по умолчанию и теперь также применяется к сообщениям QoS 0 при подключении клиента.</span></p>
<p style=" margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="packaging-and-distribution"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">У</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">паковка и дистрибуция</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Компоненты, предоставляемые Mosquitto, можно разделить на следующие категории:</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="client-libraries"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">К</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">лиентские библиотеки</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Библиотеки C/C++ для создания MQTT-клиентов.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">lib/libmosquitto.so.1</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">lib/cpp/libmosquittopp.so.1</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">включить/москит.h</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:15px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">включить/mqtt_protocol.h</span></li></ul>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="clients"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">К</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">лиенты</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Клиенты командной строки MQTT общего назначения. Они зависят от libmosquitto.so.1.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">клиент/mosquitto_pub</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">клиент/mosquitto_sub</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:15px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">клиент/mosquitto_rr</span></li></ul>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="broker"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">М</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">аклер</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Основное предложение проекта — брокер Mosquitto, а также сопутствующие утилиты и плагины.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">приложения/mosquitto_ctrl/mosquitto_ctrl</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">приложения/пароль_mosquitto/пароль_mosquitto</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">плагины/динамическая-безопасность/mosquitto_dynamic_security.so</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">src/москитто</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">включить/mosquitto_broker.h</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:15px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">включить/mosquitto_plugin.h</span></li></ul>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Изменения:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:15px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Утилита mosquitto_passwd изменила местоположение.</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Добавлена ​​утилита mosquitto_ctrl.</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Добавлен плагин mosquitto_dynamic_security — это специфичная для Mosquitto общая библиотека.</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Для работы утилиты mosquitto_ctrl требуется libmosquitto.so.1.</span></li>
<li style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;" style=" margin-top:4px; margin-bottom:15px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Разработчики плагинов ожидают, что им будут доступны заголовочные файлы из libmosquitto, а также из брокера.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="dependencies"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">З</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">ависимости</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">mosquitto_ctrl и mosquitto_dynamic_secuity.so требуют библиотеку cJSON. Если она не обнаружена или нежелательна, эти функции можно отключить.</span></p>
<p style=" margin-top:20px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.125%;"><a name="plugins"></a><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">П</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#363636;">лагины</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Mosquitto 2.0 представляет новый интерфейс плагина, который должен быть проще в разработке и более легко расширяемым. Отдельный документ будет описывать новый интерфейс плагина. Если у вас есть существующий плагин, который следует рекомендациям в </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">mosquitto_plugin.h</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">, то он продолжит работать с Mosquitto 2.0, </span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; font-style:italic; color:#4a4a4a;">если только</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;"> он не скомпилирован с использованием заголовочных файлов Mosquitto 2.0, которые содержали ошибку в документации.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">Чтобы изменить плагин так, чтобы он работал как в Mosquitto 1.6, так и в Mosquitto 2.0, вам следует изменить экземпляр </span><span style=" font-family:'monospace'; font-size:9pt; color:#ff3860; background-color:#f5f5f5;">mosquitto_auth_plugin_version</span><span style=" font-family:'BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:9pt; color:#4a4a4a;">так, чтобы он возвращал версию интерфейса плагина, которую вы поддерживаете, </span></p></body></html>