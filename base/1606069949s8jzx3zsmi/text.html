<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<h2 style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Запускаем DOTA2 в Linux на ноутбуке с двойной видеокартой </span></h2>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Details </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Written by Dmitiry Kushavin </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Category: <a href="http://kushavin.ru/articles"><span style=" text-decoration: underline; color:#0000ff;">Статьи</span></a> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Published: 25 January 2013 </p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Hits: 9470 </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Под Linux выходит всё больше игр, причём игр достаточно интересных и популярных. Одной из таких игр является DOTA 2. И хоть я не дотер и к этой игре отношусь прохладно, запустить её под Linux было очень интересно. Естественно не обошлось без шаманства, причиной танцев с бубном стала двойная видеокарта. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Смысл проблемы в том, что на моём ноутбуке стоит GeForce 640m, который работает в паре со встроенном в процессор видеоядром, в виндовс проблем с этим нет, а вот на Linux пришлось устанавливать пакет программ. Уточню, что работаю на Ubuntu 13.04 и все действия справедливы именно для этой ОС.</p>
<h2 style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Устанавливаем видеодрайвер</span></h2>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для того, чтобы начала работать видеокарта, необходимо установить драйвер и программу Bumblebee (если Вы уже сделали это, данный шаг пропускаем). Заходим в терминал и последовательно выполняем эти три команды (если будут появляться запросы на подтвержление каких-либо действий — соглашаемся):</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Code';">sudo add-apt-repository ppa:bumblebee/stable<br />sudo apt-get update<br />sudo apt-get install bumblebee virtualgl linux-headers-generic<br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь перезагружаемся. Всё, отныне ноутбук будет работать на встроенной видеокарте, а если нужно будет задействовать камень Nvidia, то перед командой нужно ввести optirun. Пример, запускаем firefox: optirun firefox</p>
<h2 style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Запускаем Steam</span></h2>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Скачать Linux версию Steam можно на официальном сайте, устанавливается она одним кликом, но вот запускаться не хочет, пишет: «You are missing the following 32-bit libraries, and Steam may not run: libGL.so.1». Дело опять в видеокарте, но мы всё установили, поэтому запускаем Steam командой:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial','Verdana','sans-serif'; font-size:14px; font-style:italic; color:#383838; background-color:#eeeeee;">optirun steam</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После чего всё нормально пускается и работает. Далее устанавливаем DOTA 2 из магазина Steam и после установки щёлкаем правой кнопкой мыши по названию игры в библеотеке, вызываем свойства и на основной вкладке ищем параметры запуска (у меня в английской версии это называется «SET LAUNCH OPTIONS…»).</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Туда вставляем строчку:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Code';">LD_PRELOAD=”libpthread.so.0 libGL.so.1″ __GL_THREADED_OPTIMIZATIONS=1 optirun %command%</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Всё, теперь при запуске игры будет использоваться видеокарта от Nvidia и никаких проблем не будет.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">По производительности могу сказать, что на GeForce 640M под Linux DOTA2 идёт с некоторым притормаживанием, однако если снизить качество картинки — то всё становится вполне играбельно.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PS.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если у вас данный способ не сработает, попробуйте в параметрах запуска использовать следующую строку:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Fira Code';">vblank_mode=0 PRIMUS_SYNC=1 STEAM_RUNTIME=1 optirun -b primus %command% -language russian -novid</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">НО(!) перед этим нужно установить программу Primus, сделать это можно просто через центр приложений. Данный способ помог мне на другом ноутбуке, с видеокартой GeForce GT 555M.</span> </p></body></html>