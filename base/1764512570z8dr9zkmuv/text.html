<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Linux-совет: изолируй любую команду в одноразовой файловой системе</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Когда хочешь протестировать скрипт, подозрительный бинарь или инсталлятор - не обязательно создавать отдельный контейнер. В Linux есть простой трюк: смонтировать временную …</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">снимаем изоляцию</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">cd /</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo umount /tmp/safezone</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-------------------------------------------------------------------------------------------------------------------------</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">И</span><span style=" font-family:'Sans Serif'; font-size:13pt;">золяция через </span><span style=" font-family:'Courier New,courier'; font-size:13pt;">tmpfs</span><span style=" font-family:'Sans Serif'; font-size:13pt;"> используется для создания временных файловых систем в оперативной памяти (</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1703423073.png" /><span style=" font-family:'Sans Serif'; font-size:13pt;">) и подкачке, что обеспечивает высокую скорость доступа и изоляцию от постоянного хранилища. Это означает, что данные, находящиеся в </span><span style=" font-family:'Courier New,courier'; font-size:13pt;">tmpfs</span><span style=" font-family:'Sans Serif'; font-size:13pt;">, не записываются на жесткий диск и полностью стираются при перезагрузке или отключении системы. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:13pt;">Как это работает</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Размещение в памяти:</span> <span style=" font-family:'Courier New,courier';">tmpfs</span> монтируется в оперативной памяти, а не на физическом диске, что делает доступ к файлам очень быстрым.</li>
<li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Потеря данных:</span> При перезагрузке или отключении компьютера содержимое <span style=" font-family:'Courier New,courier';">tmpfs</span> полностью теряется, что делает эту файловую систему идеальной для временных файлов, которые не нужно сохранять.</li>
<li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Изоляция:</span> Поскольку данные не сохраняются на диск, <span style=" font-family:'Courier New,courier';">tmpfs</span> создает изоляцию от основной системы. Это полезно для приложений, которые могут создавать временные файлы, не желая, чтобы они оставались в системе после завершения работы. </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:13pt;">Применение</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Временное хранилище:</span><a name="ie1MsaYZz_f7A8A--0ue5Cg_1"></a> <a name="ie1MsaYZz_f7A8A--0ue5Cg_2"></a><span style=" font-family:'Courier New,courier';">t</span><span style=" font-family:'Courier New,courier';">mpfs</span><a name="ie1MsaYZz_f7A8A--0ue5Cg_3"></a> часто используется для временных файлов, кэша и других данных, которые не должны сохраняться между сеансами<a name="ie1MsaYZz_f7A8A--0ue5Cg_4"></a>.</li>
<li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Изоляция приложений:</span> Может использоваться для изоляции отдельных приложений, например, для предотвращения их доступа к конфиденциальным данным или чтобы не загрязнять систему временными файлами. </li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:13pt;" style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ie1MsaYZz_f7A8A--0ue5Cg_8"></a><span style=" font-family:'Sans Serif'; font-size:13pt;">В</span><span style=" font-family:'Sans Serif'; font-size:13pt;">ажные моменты</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:13pt;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Ограниченный размер:</span> <span style=" font-family:'Courier New,courier';">tmpfs</span> имеет определенный размер, который может превышать доступный объем оперативной памяти, но если он будет превышен, система может заблокироваться.</li>
<li style=" font-family:'Sans Serif'; font-size:13pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Отключение:</span> Для отключения <span style=" font-family:'Courier New,courier';">tmpfs</span> необходимо удалить или закомментировать соответствующие строки в файле <span style=" font-family:'Courier New,courier';">/etc/fstab</span>, но это может привести к непредвиденным последствиям для работы некоторых программ или служб. </li></ul></body></html>