<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%;"><a name="j595429253101658419"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696;">П</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696;">рошивка по воздуху ESP8266</span></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%; font-family:'Sans Serif'; font-size:9pt; font-weight:696;"><br /></p>
<p style=" margin-top:3px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.2%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696;"> через WEB, OTA</span></p>
<p style=" margin-top:5px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.33333%;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">5 августа 2021</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><img src="image1232957822.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:10px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a href="https://www.drive2.ru/users/dremch/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Dremch</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> </span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#9e9e9e;">Был 2 часа назад</span></p>
<p style=" margin-top:5px; margin-bottom:0px; margin-left:0px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Артем<br />Я езжу на </span><a href="https://www.drive2.ru/r/other/681252732719352562/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Chery iCar 03 Первый на драйве</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> и </span><a href="https://www.drive2.ru/r/nissan/qashqai/522834272755647290/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Nissan Qashqai 4x4</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> (до этого — </span><a href="https://www.drive2.ru/r/evolute/i_joy/652417765403001112/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Evolute i-Joy</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">, </span><a href="https://www.drive2.ru/r/geely/emgrand_x7/1307175/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Geely Emgrand X7</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> и </span><a href="https://www.drive2.ru/r/fiat/doblo/517694605651607922/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">FIAT Doblo</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">)<br />Солнечногорск, Россия</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000; background-color:#000000;">Подписаться</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.drive2.ru/my/messages/2600111"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Сообщение</span></a></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Когда все собрано и где то установлено, постоянно </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">дергать</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> модуль ESP, для прошивки, </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">не удобно.</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> В таком варианте лучше </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">прошивать по воздуху (OTA)</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">.<br /></span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic; color:#000000;">Варианты прошивки методом OTA (over the air):</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"><br />— Библиотека для ESP8266 </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">ArduinoOTA</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">. Поднимается сервер обновлений на ESP, устанавливается </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; font-style:italic; color:#000000;">дополнительный софт в ПК</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">. И через Arduino IDE прошивается как </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">будто</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> подключено </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">по USB</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">, НО по воздуху.<br />— Библиотека для ESP8266 </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">ESP8266HTTPUpdateServer</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">. Не требует </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">ни каких</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> дополнительных настроек ПК, работает </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">через WEB</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> интерфейс.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Заинтересовал последний вариант, </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">прост</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> во всех отношениях.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; font-style:italic; color:#000000;">Прошивка по воздуху через WEB:</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"><br />Сначала в Arduino IDE по USB прошиваем измененный скетч в ESP8266.</span><img src="image1746932709.png" /><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Выделенные строки остаются в проекте на постоянку.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic; color:#000000;">Понятно, что:</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"><br />&quot;/firmware&quot; — </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">страница</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> на которую надо зайти для прошивки<br />&quot;admin&quot; — </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">имя</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> пользователя, для разрешения на прошивку<br />&quot;12345&quot; — </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">пароль</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">, для разрешения на прошивку</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Потом нужно собрать файл проекта </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">***.bin</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">, который будем прошивать по воздуху.</span><img src="image1279806723.png" /><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Файл сохраняется в папке проекта.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Цепляемся по WiFi и </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">заходим</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> на страницу &quot;/firmware&quot;</span><img src="image515462151.png" /><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Вводим пароль, указываем на файл прошивки и дожидаемся сообщения об окончании.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">После удачной прошивки ESP8266 </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">автоматически перегрузится</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Что радует, на борту ESP8266-01 </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">всего 1 мБ</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">, а все работает. Правда и код </span><a href="https://www.drive2.ru/b/592027913881156555/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#000000;">&quot;Автополив v2&quot;</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> занимает мало места.</span><img src="image51938100.png" /><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Сверху без обновления по воздуху.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Для понимания ограничений, можно рассмотреть процесс прошивки:</span><img src="image1244185094.png" /><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Картинка из wikipedia</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">То есть, если </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">не превышать</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> размер свободного пространства, то проблем быть не должно.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:120px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">Зато теперь можно </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">впаивать</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"> модуль ESP8266 и спокойно </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; color:#000000;">прошивать по воздуху</span><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000; vertical-align:middle;">5 августа 2021</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;">12</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.drive2.ru/b/595429253101658419/#comments"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">6</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000; vertical-align:middle;">Поделиться:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%;"><a href="https://www.drive2.ru/b/595429253101658419/prev"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#000000;">Ранее</span></a><a href="https://www.drive2.ru/b/595429253101658419/prev"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Умный дом Arduino SIM800L v1.2</span></a><a href="https://www.drive2.ru/b/595429253101658419/next"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#000000;">Далее</span></a><a href="https://www.drive2.ru/b/595429253101658419/next"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:696; text-decoration: underline; color:#000000;">Замена Arduino Ide на PlatformIO</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.drive2.ru/promo"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#000000;">Разместить рекламу</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#000000;"><br /></span></p></body></html>