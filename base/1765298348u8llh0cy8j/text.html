<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вот готовый скрипт, который сделает всё:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> Создаст index.html в томе mydata.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> Запустит Nginx с пробросом порта 8080 на хост.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> Откроет браузер с адресом http://localhost:8080.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> Скрипт: ~/start-nginx-web.sh</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Скопируй и сохрани в файл ~/start-nginx-web.sh:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bash</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">#!/bin/bash# Имя тома и контейнераVOLUME_NAME=&quot;mydata&quot;CONTAINER_NAME=&quot;my-nginx&quot;# Путь к index.html внутри томаINDEX_PATH=&quot;/app/data/index.html&quot;# Создаем директорию для данных (если нужно — для локального теста)mkdir -p ~/nginx-data# Создаем index.htmlcat &gt; ~/nginx-data/index.html &lt;&lt; 'EOF'&lt;!DOCTYPE html&gt;&lt;html lang=&quot;ru&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Привет от Nginx!&lt;/title&gt;    &lt;style&gt;        body {            font-family: Arial, sans-serif;            background: #f4f4f4;            padding: 20px;            text-align: center;        }        h1 { color: #2c3e50; }        .container { max-width: 600px; margin: 0 auto; }        .footer { font-size: 0.8em; color: #7f8c8d; margin-top: 20px; }    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;    &lt;div class=&quot;container&quot;&gt;        &lt;h1&gt;🎉 Привет от Nginx!&lt;/h1&gt;        &lt;p&gt;Этот контент обслуживается из Docker-тома &lt;code&gt;mydata&lt;/code&gt;.&lt;/p&gt;        &lt;p&gt;Ты запустил это через скрипт — молодец!&lt;/p&gt;        &lt;div class=&quot;footer&quot;&gt;Запущено на $(hostname) в $(date)&lt;/div&gt;    &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;EOFecho &quot;✅ Файл index.html создан.&quot;# Копируем index.html в том (если том уже существует — перезаписываем)docker run --rm -v $VOLUME_NAME:/app/data alpine sh -c &quot;cp /tmp/index.html /app/data/ &amp;&amp; chown -R 101:101 /app/data/&quot;# Удаляем старый контейнер (если есть)if docker ps -a --format '{{.Names}}' | grep -q &quot;^$CONTAINER_NAME$&quot;; then    echo &quot;🛑 Останавливаем старый контейнер...&quot;    docker stop $CONTAINER_NAME &gt;/dev/null 2&gt;&amp;1    docker rm $CONTAINER_NAME &gt;/dev/null 2&gt;&amp;1fi# Запускаем новый контейнерecho &quot;🚀 Запускаем Nginx в фоновом режиме...&quot;docker run -d \  --name $CONTAINER_NAME \  -p 8080:80 \  -v $VOLUME_NAME:/app/data \  nginx# Ждём 3 секунды, чтобы сервер стартовалsleep 3# Проверяем, работает лиif curl -s http://localhost:8080 &gt;/dev/null 2&gt;&amp;1; then    echo &quot;✅ Nginx доступен по http://localhost:8080&quot;        # Открываем в браузере    if command -v xdg-open &gt;/dev/null 2&gt;&amp;1; then        xdg-open http://localhost:8080 &amp;    elif command -v gnome-open &gt;/dev/null 2&gt;&amp;1; then        gnome-open http://localhost:8080 &amp;    else        echo &quot;🌐 Открой вручную: http://localhost:8080&quot;    fielse    echo &quot;❌ Nginx не ответил. Проверь логи:&quot;    docker logs $CONTAINER_NAMEfiecho &quot;✨ Готово!&quot;</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">🔧 Как использовать</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сохрани скрипт:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bash</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">nano ~/start-nginx-web.sh</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">→ Вставь код выше.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сделай исполняемым:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bash</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">chmod +x ~/start-nginx-web.sh</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Запусти:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bash</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">~/start-nginx-web.sh</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">🔄 Что делает при каждом запуске:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перезаписывает index.html в томе mydata.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Удаляет старый контейнер (если есть).</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Запускает новый Nginx с пробросом порта 8080.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Открывает страницу в браузере.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">🗑️ Чтобы остановить и очистить:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bash</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1234</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">docker stop my-nginxdocker rm my-nginx# Если хочешь удалить данные:# docker volume rm mydata</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">💡 Советы</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Можешь редактировать ~/nginx-data/index.html — изменения будут видны после перезапуска контейнера.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если хочешь, чтобы Nginx слушал порт 80 — запусти с sudo, но тогда нужен --cap-add=NET_BIND_SERVICE или --privileged.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для продакшена лучше использовать docker-compose.yml.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>