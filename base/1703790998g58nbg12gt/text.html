<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Что такое Tasmota? И какие устройства можно на ней собрать.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image1525707963.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-24px; margin-right:-24px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a href="https://sprut.ai/user/ReD"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496; text-decoration: underline; color:#000000; background-color:transparent;">Батюшин Дмитрий (ReD)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-24px; margin-right:-24px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#95aac9;"> 04-02-2019</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Давно хотел написать эту статью, точнее собрать из кусочков, т.к. на портале </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">sprut.ai</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> практически все это есть, и нужен был гайд где и что можно найти и в какой последовательности использовать чтобы залить прошивку и прокинуть устройство в </span><a href="https://sprut.ai/client/article/1039"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#6e84a3; background-color:transparent;">HomeKit</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> через </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">HomeBridge</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Что такое Tasmota?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">По словам разработчика:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Tasmota</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> - это альтернативная прошивка для устройств на базе </span><a href="https://sprut.ai/[catalogitem:1764]"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#6e84a3; background-color:transparent;">ESP8266</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, таких, как </span><a href="https://sprut.ai/[catalogitem:108]"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff 4CH (R2)</span></a><a href="http://ali.pub/3bhrxt"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#6e84a3; background-color:transparent;">Sonoff</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> с веб - интерфейсом, таймером, обновления прошивки «Over The Air» (OTA), имеется поддержка датчиков, управление осуществляется по HTTP, MQTT и KNX для использования в системах Smart Home. Написано для Arduino IDE и PlatformIO.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Поддерживаемы устройства</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><a href="https://sprut.ai/[catalogitem:105]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff Basic</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><a href="https://sprut.ai/[catalogitem:106]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff RF</span></a><a href="https://sprut.ai/[catalogitem:127]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff SV</span></a><a href="https://sprut.ai/[catalogitem:103]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff TH10 / TH16 с датчиком температуры</span></a><a href="https://sprut.ai/[catalogitem:104]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff Dual (R2)</span></a><a href="https://sprut.ai/[catalogitem:91]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff Pow с мониторингом энергии</span></a><a href="https://sprut.ai/[catalogitem:110]"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff Pow R2 с мониторингом энергии</span></a><a href="https://sprut.ai/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">iTead Sonoff 4CH (R2)</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">И это только малая часть того что поддерживает эта прошивка, с полным списком можно ознакомиться </span><a href="https://github.com/arendst/Sonoff-Tasmota/wiki"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">тут</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Итак, начнем.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Подготовка устройства</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Первым делом нужно разобрать устройство, если это </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Sonoff</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и подпаять к нему коннектор для подключения TTL-конвертера. Подробно про все это можно прочитать в этой статье: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image116886390.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Статья принадлежит автору:</span><a href="https://sprut.ai/client/user/content/article/28"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;"> Вячеслав Фетисов (Ziracul)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Подготавливаем и заливаем прошивку</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Для прошивок </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Tasmota</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, необходимо собрать собственную прошивку, со своим SSID и паролем Wi-Fi. Как это сделать можно посмотреть в нескольких статьях:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image131606035.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image1062163634.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Здесь же можно прочитать и как прошить наш Sonoff.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Что такое MQTT?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Тут тоже повторятся нет смысла, все уже было опубликовано нашим автором: </span><a href="https://sprut.ai/client/user/content/article/1145"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">Виталий Никольский (bigmanekb)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image1653240791.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Установка MQTT брокера</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Для установки </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">MQTT</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> брокера воспользуемся вот этими статьями в первой установка брокера без авторизации, во втором с авторизацией, выбор за вами:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image668116944.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Статья принадлежит автору: </span><a href="https://sprut.ai/client/user/profile/70"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">Батюшин Дмитрий (ReD)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Статья принадлежит автору: </span><a href="https://sprut.ai/client/user/content/article/67"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">Александр Жабунин (OXOTH1K)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image1282461203.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">После прошивки мы получили работающее устройство на прошивки Tasmota. Установили MQTT брокера, теперь расскажу как добавить его в Apple HomeKit через HomeBridge.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Sonoff Basic, Sonoff S20 - одинарное реле<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Первым делом нужно установить плагин, </span><a href="https://sprut.ai/client/article/831"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">подключаемся по </span></a><a href="https://sprut.ai/client/article/831"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#6e84a3; background-color:transparent;">SSH</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> к нашему предустановленному </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">HomeBridge</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. Далее вводим команду установки плагина:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">sudo npm install -g homebridge-mqtt-switch-tasmota</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Настройка плагина. Открываем редактор конфига </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">HomeBridge</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и добавляем в секцию </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">accessories</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, следующие строки:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">{ &quot;accessory&quot;: &quot;mqtt-switch-tasmota&quot;, &quot;name&quot;: &quot;Relay1&quot;, &quot;url&quot;: &quot;mqtt://MQTT–BROKER-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topics&quot;: { &quot;statusGet&quot;: &quot;stat/sonoff/POWER&quot;, &quot;statusSet&quot;: &quot;cmnd/sonoff/POWER&quot; } }</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">url</span> - адрес нашего MQTT брокера, например mqtt://192.168.88.5</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">username</span> - имя пользователя MQTT брокера (если устанавливали брокер по моей статье, удаляем эту строку)</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">password</span> - пароль MQTT брокера (если устанавливали брокер по моей статье, удаляем эту строку)</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Sonoff Dual, Sonoff 3CH, Sonoff 4CH</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Приведу пример </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Sonoff Dual</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Sonoff 3CH</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Sonoff 4CH</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, тут все тоже самое, как и с одинарным реле, отличие только в конфиге.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">{ &quot;accessory&quot;: &quot;mqtt-switch-tasmota&quot;, &quot;name&quot;: &quot;Relay1&quot;, &quot;url&quot;: &quot;mqtt://MQTT–BROKER-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topics&quot;: { &quot;statusGet&quot;: &quot;stat/sonoff/POWER1&quot;, &quot;statusSet&quot;: &quot;cmnd/sonoff/POWER1&quot; } }, { &quot;accessory&quot;: &quot;mqtt-switch-tasmota&quot;, &quot;name&quot;: &quot;Relay2&quot;, &quot;url&quot;: &quot;mqtt://MQTT–BROKER-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topics&quot;: { &quot;statusGet&quot;: &quot;stat/sonoff/POWER2&quot;, &quot;statusSet&quot;: &quot;cmnd/sonoff/POWER2&quot; } }, { &quot;accessory&quot;: &quot;mqtt-switch-tasmota&quot;, &quot;name&quot;: &quot;Relay3&quot;, &quot;url&quot;: &quot;mqtt://MQTT–BROKER-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topics&quot;: { &quot;statusGet&quot;: &quot;stat/sonoff/POWER3&quot;, &quot;statusSet&quot;: &quot;cmnd/sonoff/POWER3&quot; } }, { &quot;accessory&quot;: &quot;mqtt-switch-tasmota&quot;, &quot;name&quot;: &quot;Relay4&quot;, &quot;url&quot;: &quot;mqtt://MQTT–BROKER-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topics&quot;: { &quot;statusGet&quot;: &quot;stat/sonoff/POWER4&quot;, &quot;statusSet&quot;: &quot;cmnd/sonoff/POWER4&quot; } }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Sonoff Basic - температура и влажность</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Как и в прошлом примере, первое что необходимо сделать это установить плагин, подключаемся по </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">SSH</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> к нашему предустановленному </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">HomeBridge</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. И вводим команду установки плагина:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">sudo npm install -g homebridge-mqtt-temperature-tasmota homebridge-mqtt-humidity-tasmota</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Настраиваем плагин. Открываем редактор конфига </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">HomeBridge</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и добавляем в секцию </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">accessories</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, следующие строки:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">{ &quot;accessory&quot;: &quot;mqtt-temperature-tasmota&quot;, &quot;name&quot;: &quot;NAME OF THIS ACCESSORY&quot;, &quot;url&quot;: &quot;mqtt://MQTT-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topic&quot;: &quot;tele/sonoff/SENSOR&quot; }, { &quot;accessory&quot;: &quot;mqtt-humidity-tasmota&quot;, &quot;name&quot;: &quot;NAME OF THIS ACCESSORY&quot;, &quot;url&quot;: &quot;mqtt://MQTT-ADDRESS&quot;, &quot;username&quot;: &quot;MQTT USER NAME&quot;, &quot;password&quot;: &quot;MQTT PASSWORD&quot;, &quot;topic&quot;: &quot;tele/sonoff/SENSOR&quot; }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">где, как и в предыдущем примере: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">url - адрес нашего MQTT брокера, например mqtt://192.168.88.5<br />username - имя пользователя MQTT брокера (если устанавливали брокер по моей статье, удаляем эту строку)<br />password - пароль MQTT брокера (если устанавливали брокер по моей статье, удаляем эту строку)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:496;">Magic Home Led Strip на прошивке Tasmota</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Повторяться не буду, приведу ссылку на статью.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><img src="image131606035.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Статья принадлежит автору: </span><a href="https://sprut.ai/client/user/profile/70"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">Батюшин Дмитрий (ReD)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Итак, у нас получился небольшой гайд по альтернативной прошивке </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Tasmota</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Хочу заметить что использования Sonoff не обязательно, т.к. все можно собрать на ESP8266, например на плате nodeMCU, Wemos</span><span style=" font-family:'Sans Serif'; font-size:9pt;">...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Второе замечание, Tasmota отлично работает не только с HomeBridge, но и с Home Assistant</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, по просьбе могу прикрепить конфиги. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-12px; margin-right:-12px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Напиши в комментариях какие устройства на этой прошивке используешь ты, а какие хочешь реализовать в будущем. Не забывай подписываться на авторов которых читаешь. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-24px; margin-right:-23px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; color:#283e59; background-color:#edf2f9; vertical-align:middle;"> 0 0</span><a href="https://sprut.ai/article/chto-takoe-tasmota-i-kakie-ustroystva-mozhno-na-ney-sobrat#comments"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#283e59; background-color:#edf2f9; vertical-align:middle;"> 16</span></a><span style=" font-family:'inherit'; font-size:9pt; color:#283e59; background-color:#edf2f9; vertical-align:middle;"> 9</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1036889556.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image466059995.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image14199291.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1018178891.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1371411374.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1636464331.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image2001367963.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image552477390.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1952991247.png" /></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1601813047.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px; background-color:#f9fbfd;"><a href="https://sprut.ai/user/dasp_ru"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">Скальский Виктор (dasp_ru)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#95aac9;">04-02-2019</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Очень полезно! Спасибо!</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-48px; margin-right:-48px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; color:#6e84a3; background-color:transparent; vertical-align:middle;"> Ответить</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-48px; margin-right:-48px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; color:#283e59; background-color:#edf2f9; vertical-align:middle;"> 1</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span><span style=" font-family:'inherit'; font-size:9pt; color:#283e59; background-color:#edf2f9; vertical-align:middle;"> 0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1984237120.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px; background-color:#f9fbfd;"><a href="https://sprut.ai/user/Lefey"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#6e84a3; background-color:transparent;">Мокренок Алексей (Lefey)</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; color:#95aac9;">04-02-2019</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">У меня sonoff basic на tasmota, в связке с HA по MQTT, работает безотказно! Ещё энергомонитор на базе nodemcu и pzem-004t, тоже по MQTT данные в HA передает (Uptime на данный момент 14 дней, зависаний, пропусков данных, обрывов wifi небыло ниразу)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:-36px; margin-right:-36px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p></body></html>