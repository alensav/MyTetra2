<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Intro"><span style=" text-decoration: underline; color:#0000ff;">1</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Intro"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Введение </span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#What-is-Samba"><span style=" text-decoration: underline; color:#0000ff;">2</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#What-is-Samba"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Что такое Samba </span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#virtual-server"><span style=" text-decoration: underline; color:#0000ff;">3</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#virtual-server"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Подготовка виртуального сервера</span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Samba"><span style=" text-decoration: underline; color:#0000ff;">4</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Samba"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Установка Samba</span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Preparation-of-access"><span style=" text-decoration: underline; color:#0000ff;">5</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Preparation-of-access"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Предварительная подготовка доступа</span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Samba-setup"><span style=" text-decoration: underline; color:#0000ff;">6</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Samba-setup"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Настройка Samba</span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Connecting"><span style=" text-decoration: underline; color:#0000ff;">7</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Connecting"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Подключение к ресурсу </span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#network"><span style=" text-decoration: underline; color:#0000ff;">8</span></a></li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#network"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Настройка сетевой корзины</span></a></p>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#ffffff; background-color:#50575a;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Conclusion"><span style=" text-decoration: underline; color:#0000ff;">9</span></a></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/how-to-install-and-configure-samba-on-ubuntu-20-04/#Conclusion"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#092433;">Заключение</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#849299; background-color:#f2f2f2;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/"><span style=" text-decoration: underline; color:#000000;">Главная</span></a></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#849299;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/"><span style=" text-decoration: underline; color:#000000;">Инструкции</span></a></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Установка и настройка Samba на Ubuntu 20.04</li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#000000;">Установка и настройка Samba на Ubuntu 20.04</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#849299;">В статье рассказываем, как установить Samba на ОС Ubuntu 20.04, подключить к ресурсам и настроить сетевую корзину.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Intro"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">В</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">ведение </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В этом мануале разберем последовательную установку и настройку программного обеспечения Samba на Ubuntu 20.04. Шаги данной инструкции выполним на облачной инфраструктуре Selectel.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="What-is-Samba"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">Ч</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">то такое Samba </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.samba.org/"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#2f97ff;">Samba</span></a><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> — стандартный набор программ для взаимодействия с Windows для Linux и Unix. Это свободное программное обеспечение, лицензированное по GNU General Public License. С 1992 года Samba предоставляет безопасные, стабильные и быстрые услуги по работе с файлами и печатью для всех клиентов, использующих протокол SMB/CIFS, таких как все версии DOS и Windows, OS/2, Linux и многие другие.<br />Samba — важный компонент для беспрепятственной интеграции Linux/Unix-серверов и настольных компьютеров в среду Active Directory. Она может функционировать как в качестве контроллера домена, так и в качестве обычного члена домена.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Говоря простыми словами, программное обеспечение Samba позволяет настроить файловое хранилище для совместного доступа с возможностью расширенной настройки прав доступа к директориям для групп, авторизованных пользователей, а также анонимный доступ без авторизации.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="virtual-server"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">П</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">одготовка виртуального сервера</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для этой инструкции используется виртуальная среда Selectel. Панель управления расположена по адресу: </span><a href="https://my.selectel.ru/"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#2f97ff;">https://my.selectel.ru/</span></a><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image737430630.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В разделе </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">Облачная платформа</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> во вкладке </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">Серверы</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> создадим новый сервер.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Используем минимальную конфигурацию:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1 CPU,</li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1 ГБ оперативной памяти,</li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">5 ГБ памяти на универсальном диске.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1633584889.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В настройках надо выбрать образ операционной системы для установки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В данном случае это Ubuntu 20.04 LTS 64-bit из списка готовых конфигураций.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Оставим себе root-пароль и создадим сервер. После этого в панели управления появится IP-адрес сервера. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image844304026.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Подключимся к серверу по ssh и начнем настройку.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:496; color:#092433;">Создание пользователя</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Создадим простого пользователя для дальнейшего тестирования подключения к настроенным директориям.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo useradd -p password  selectel</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Опция </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">-p</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> разрешит задать пароль пользователя сразу, </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">password </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">— созданный пароль, </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">selectel</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> — создаваемый пользователь.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Перед дальнейшей настройкой обновим репозитории. Сделать это можно командой:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo apt update -y</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:496; color:#092433;">Настройка даты и времени</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">При первоначальной настройке файлового хранилища очень важно уделить внимание настройке даты и времени, чтобы избежать проблем в будущем при поиске необходимых файлов и директорий.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для настройки даты и времени используется утилита chrony. Ее демона можно добавить в автозагрузку сервера и время всегда будет актуальным. Отправим в терминал команду установки пакета:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo apt install chrony -y</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Вывод установки:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Reading package lists... Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Building dependency tree</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Reading state information... Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">The following packages will be REMOVED:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  systemd-timesyncd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">The following NEW packages will be installed:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  chrony</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">0 upgraded, 1 newly installed, 1 to remove and 5 not upgraded.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Need to get 220 kB of archives.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">After this operation, 287 kB of additional disk space will be used.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:1 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 chrony amd64 3.5-6ubuntu6.2 [220 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Fetched 220 kB </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">in</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 0s (6903 kB/s)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">dpkg: systemd-timesyncd: dependency problems, but removing anyway as you requested:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> systemd depends on systemd-timesyncd | time-daemon; however:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package systemd-timesyncd is to be removed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package time-daemon is not installed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package systemd-timesyncd </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">which</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> provides time-daemon is to be removed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package ntp </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">which</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> provides time-daemon is not installed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> systemd depends on systemd-timesyncd | time-daemon; however:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package systemd-timesyncd is to be removed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package time-daemon is not installed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package systemd-timesyncd </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">which</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> provides time-daemon is to be removed.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  Package ntp </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">which</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> provides time-daemon is not installed.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">(Reading database ... 57118 files and directories currently installed.)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Removing systemd-timesyncd (245.4-4ubuntu3.13) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package chrony.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">(Reading database ... 57105 files and directories currently installed.)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../chrony_3.5-6ubuntu6.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking chrony (3.5-6ubuntu6.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up chrony (3.5-6ubuntu6.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Creating </span><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">'_chrony'</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> system user/group </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">for</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> the chronyd daemon…</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Creating config file /etc/chrony/chrony.conf with new version</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Creating config file /etc/chrony/chrony.keys with new version</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Created symlink /etc/systemd/system/chronyd.service → /lib/systemd/system/chrony.service.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Created symlink /etc/systemd/system/multi-user.target.wants/chrony.service → /lib/systemd/system/chrony.service.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Processing triggers </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">for</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> man-db (2.9.1-1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Processing triggers </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">for</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> dbus (1.12.16-2ubuntu2.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Processing triggers </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">for</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> systemd (245.4-4ubuntu3.13) ...</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Добавим в автозагрузку сервера:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">enable</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> chrony</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Вывод:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Synchronizing state of chrony.service with SysV service script with /lib/systemd/systemd-sysv-install.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Executing: /lib/systemd/systemd-sysv-install </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">enable</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> chrony</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Запустим утилиту:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl start chrony</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Установим часовой пояс. Для данной инструкции используется Europe/Moscow. Команда: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo timedatectl set-timezone Europe/Moscow</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Проверим дату и время командой:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">date</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Вывод:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Mon Dec  6 07:13:49 UTC 2021</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Samba"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">У</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">становка Samba</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Перейдем непосредственно к установке Samba на Ubuntu. Отправим в терминал команду:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo apt install samba -y</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Вывод:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Reading package lists... Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Building dependency tree</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Reading state information... Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">The following additional packages will be installed:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  libavahi-client3 libavahi-common-data libavahi-common3 libcups2 libldb2 libtalloc2 libtevent0 libwbclient0 python3-crypto python3-dnspython</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  python3-ldb python3-samba python3-talloc python3-tdb samba-common samba-common-bin samba-libs tdb-tools</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Suggested packages:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  cups-common bind9 bind9utils ctdb ldb-tools smbldap-tools winbind heimdal-clients python3-markdown</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Recommended packages:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  python3-gpg attr python3-markdown samba-dsdb-modules samba-vfs-modules</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">The following NEW packages will be installed:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  libavahi-client3 libavahi-common-data libavahi-common3 libcups2 libldb2 libtalloc2 libtevent0 libwbclient0 python3-crypto python3-dnspython</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  python3-ldb python3-samba python3-talloc python3-tdb samba samba-common samba-common-bin samba-libs tdb-tools</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">0 upgraded, 19 newly installed, 0 to remove and 5 not upgraded.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Need to get 11.1 MB of archives.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">After this operation, 71.6 MB of additional disk space will be used.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:1 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libtalloc2 amd64 2.3.1-0ubuntu0.20.04.1 [29.5 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:2 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libtevent0 amd64 0.10.2-0ubuntu0.20.04.1 [35.6 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:3 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libwbclient0 amd64 2:4.13.14+dfsg-0ubuntu0.20.04.2 [208 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:4 http://mirror.selectel.ru/ubuntu focal/main amd64 python3-dnspython all 1.16.0-1build1 [89.1 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:5 http://mirror.selectel.ru/ubuntu focal/main amd64 python3-crypto amd64 2.6.1-13ubuntu2 [237 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:6 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libldb2 amd64 2:2.2.3-0ubuntu0.20.04.2 [140 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:7 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 python3-ldb amd64 2:2.2.3-0ubuntu0.20.04.2 [38.3 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:8 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 python3-tdb amd64 1.4.3-0ubuntu0.20.04.1 [13.4 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:9 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libavahi-common-data amd64 0.7-4ubuntu7.1 [21.4 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:10 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libavahi-common3 amd64 0.7-4ubuntu7.1 [21.7 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:11 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libavahi-client3 amd64 0.7-4ubuntu7.1 [25.5 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:12 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 libcups2 amd64 2.3.1-9ubuntu1.1 [233 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:13 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 python3-talloc amd64 2.3.1-0ubuntu0.20.04.1 [12.2 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:14 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 samba-libs amd64 2:4.13.14+dfsg-0ubuntu0.20.04.2 [5753 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:15 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 python3-samba amd64 2:4.13.14+dfsg-0ubuntu0.20.04.2 [2575 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:16 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 samba-common all 2:4.13.14+dfsg-0ubuntu0.20.04.2 [68.3 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:17 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 samba-common-bin amd64 2:4.13.14+dfsg-0ubuntu0.20.04.2 [556 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:18 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 tdb-tools amd64 1.4.3-0ubuntu0.20.04.1 [24.9 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:19 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 samba amd64 2:4.13.14+dfsg-0ubuntu0.20.04.2 [1065 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Fetched 11.1 MB </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">in</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 0s (43.4 MB/s)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preconfiguring packages ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libtalloc2:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">(Reading database ... 57147 files and directories currently installed.)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../00-libtalloc2_2.3.1-0ubuntu0.20.04.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libtalloc2:amd64 (2.3.1-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libtevent0:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../01-libtevent0_0.10.2-0ubuntu0.20.04.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libtevent0:amd64 (0.10.2-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libwbclient0:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../02-libwbclient0_2%3a4.13.14+dfsg-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libwbclient0:amd64 (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package python3-dnspython.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../03-python3-dnspython_1.16.0-1build1_all.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking python3-dnspython (1.16.0-1build1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package python3-crypto.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../04-python3-crypto_2.6.1-13ubuntu2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking python3-crypto (2.6.1-13ubuntu2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libldb2:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../05-libldb2_2%3a2.2.3-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libldb2:amd64 (2:2.2.3-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package python3-ldb.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../06-python3-ldb_2%3a2.2.3-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking python3-ldb (2:2.2.3-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package python3-tdb.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../07-python3-tdb_1.4.3-0ubuntu0.20.04.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking python3-tdb (1.4.3-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libavahi-common-data:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../08-libavahi-common-data_0.7-4ubuntu7.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libavahi-common-data:amd64 (0.7-4ubuntu7.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libavahi-common3:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../09-libavahi-common3_0.7-4ubuntu7.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libavahi-common3:amd64 (0.7-4ubuntu7.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libavahi-client3:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../10-libavahi-client3_0.7-4ubuntu7.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libavahi-client3:amd64 (0.7-4ubuntu7.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package libcups2:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../11-libcups2_2.3.1-9ubuntu1.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking libcups2:amd64 (2.3.1-9ubuntu1.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package python3-talloc:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../12-python3-talloc_2.3.1-0ubuntu0.20.04.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking python3-talloc:amd64 (2.3.1-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package samba-libs:amd64.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../13-samba-libs_2%3a4.13.14+dfsg-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking samba-libs:amd64 (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package python3-samba.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../14-python3-samba_2%3a4.13.14+dfsg-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking python3-samba (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package samba-common.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../15-samba-common_2%3a4.13.14+dfsg-0ubuntu0.20.04.2_all.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking samba-common (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package samba-common-bin.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../16-samba-common-bin_2%3a4.13.14+dfsg-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking samba-common-bin (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package tdb-tools.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../17-tdb-tools_1.4.3-0ubuntu0.20.04.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking tdb-tools (1.4.3-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package samba.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../18-samba_2%3a4.13.14+dfsg-0ubuntu0.20.04.2_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking samba (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up samba-common (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Creating config file /etc/samba/smb.conf with new version</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libtalloc2:amd64 (2.3.1-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up python3-tdb (1.4.3-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libtevent0:amd64 (0.10.2-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libavahi-common-data:amd64 (0.7-4ubuntu7.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up tdb-tools (1.4.3-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">update-alternatives: using /usr/bin/tdbbackup.tdbtools to provide /usr/bin/tdbbackup (tdbbackup) </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">in</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> auto mode</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up python3-dnspython (1.16.0-1build1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up python3-crypto (2.6.1-13ubuntu2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libldb2:amd64 (2:2.2.3-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up python3-talloc:amd64 (2.3.1-0ubuntu0.20.04.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libavahi-common3:amd64 (0.7-4ubuntu7.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libwbclient0:amd64 (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up python3-ldb (2:2.2.3-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libavahi-client3:amd64 (0.7-4ubuntu7.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up libcups2:amd64 (2.3.1-9ubuntu1.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up samba-libs:amd64 (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up python3-samba (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up samba-common-bin (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Checking smb.conf with testparm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Load smb config files from /etc/samba/smb.conf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Loaded services file OK.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Weak crypto is allowed</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Server role: ROLE_STANDALONE</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up samba (2:4.13.14+dfsg-0ubuntu0.20.04.2) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Adding group `sambashare</span><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">' (GID 121) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Done.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Samba is not being run as an AD Domain Controller: Masking samba-ad-dc.service</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Please ignore the following error about deb-systemd-helper not finding those services.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">(samba-ad-dc.service masked)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Created symlink /etc/systemd/system/multi-user.target.wants/nmbd.service → /lib/systemd/system/nmbd.service.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Failed to preset unit: Unit file /etc/systemd/system/samba-ad-dc.service is masked.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">/usr/bin/deb-systemd-helper: error: systemctl preset failed on samba-ad-dc.service: No such file or directory</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Created symlink /etc/systemd/system/multi-user.target.wants/smbd.service → /lib/systemd/system/smbd.service.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">samba-ad-dc.service is a disabled or a static unit, not starting it.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Processing triggers for ufw (0.36-6ubuntu1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Rules updated for profile '</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Squid</span><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Skipped reloading firewall</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Processing triggers for systemd (245.4-4ubuntu3.13) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Processing triggers for man-db (2.9.1-1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">Processing triggers for libc-bin (2.31-0ubuntu9.2) ...</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Демон или сервис Samba называется smbd. Под таким именем и будем к нему обращаться.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Добавим сервис smbd в автозапуск:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">enable</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> smbd</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Запустим:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl start smbd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Проверим текущий статус:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl status smbd</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Далее перечислим оставшиеся команды управления сервисом smbd. Они могут потребоваться в дальнейшем в процессе эксплуатации Samba.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Остановить сервис:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl stop smbd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Перезапуск демона:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl restart smbd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Убрать из автозапуска:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">disable</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> smbd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Перечитать конфигурацию:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl reload smbd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Результат проверки статуса:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">● smbd.service - Samba SMB Daemon</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">     Loaded: loaded (/lib/systemd/system/smbd.service; enabled; vendor preset: enabled)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">     Active: active (running) since Mon 2021-12-06 09:50:18 UTC; 26s ago</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">       Docs: man:smbd(8)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">             man:samba(7)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">             man:smb.conf(5)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   Main PID: 83137 (smbd)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">     Status: </span><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">&quot;smbd: ready to serve connections...&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">      Tasks: 4 (</span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">limit</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">: 1105)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">     Memory: 7.2M</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">     CGroup: /system.slice/smbd.service</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">             ├─83137 /usr/sbin/smbd --foreground --no-process-group</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">             ├─83139 /usr/sbin/smbd --foreground --no-process-group</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">             ├─83140 /usr/sbin/smbd --foreground --no-process-group</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">             └─83141 /usr/sbin/smbd --foreground --no-process-group</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Dec 06 09:50:18 apachi systemd[1]: Starting Samba SMB Daemon...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Dec 06 09:50:18 apachi systemd[1]: Started Samba SMB Daemon.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Dec 06 09:50:28 apachi systemd[1]: Reloading Samba SMB Daemon.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Dec 06 09:50:28 apachi systemd[1]: Reloaded Samba SMB Daemon.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Если в настраиваемой системе включен брандмауэр ufw, необходимо добавить разрешающее правило для Samba:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo ufw allow Samba</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">или:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo ufw allow 445</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo ufw allow 137</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo ufw allow 138</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo ufw allow 139 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В каждом правиле указан порт из диапазона, в котором работает Samba.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Preparation-of-access"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">П</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">редварительная подготовка доступа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В этой инструкции используется удаленный сервер, расположенный в интернете. Открывать прямой доступ по IP-адресу к  ресурсам в таком случае нельзя. Поэтому перед дальнейшей настройкой будет организован VPN-туннель. Настраивать VPN для удаленного доступа в локальной сети не потребуется. Настройку мы произвели, следуя этой инструкции.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">После получения доступа к удаленному серверу с использованием VPN-туннеля, сервер имеет адрес 10.8.0.1 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Дальнейшие действия будут производиться с использованием этого адреса.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Samba-setup"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">Н</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">астройка Samba</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Конфигурационный файл Samba расположен по следующему пути:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#092433; background-color:#f0f0f0;">/etc/samba/smb.conf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Лучше скопировать файл конфигурации по умолчанию, чтобы всегда оставлять себе возможность откатиться до дефолтных настроек Samba на Ubuntu. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Копируем командой:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">cp</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /etc/samba/smb.conf /etc/samba/res_smb.conf</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Далее оставим в файле конфигурации только те строки, которые используются в работе и не являются комментарием.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">grep -v </span><span style=" font-family:'inherit'; font-size:9pt; color:#a31515; background-color:#f0f0f0;">'^ *#\|^ *$'</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /etc/samba/smb.conf | sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">tee</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /etc/samba/smb.conf</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">На выходе получаем файл конфигурации без комментариев и неиспользуемых директив. Вот так он выглядит:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[global]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   workgroup = WORKGROUP</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   server string = %h server (Samba, Ubuntu)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">log</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> file = /var/log/samba/log.%m</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   max </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">log</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> size = 1000</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   logging = file</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   panic action = /usr/share/samba/panic-action %d</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   server role = standalone server</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   obey pam restrictions = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   unix password </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">sync</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   passwd program = /usr/bin/passwd %u</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   pam password change = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   map to guest = bad user</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   usershare allow guests = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[printers]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   comment = All Printers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   browseable = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   path = /var/spool/samba</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   printable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   guest ok = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   create mask = 0700</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[</span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">print</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">$]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   comment = Printer Drivers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   path = /var/lib/samba/printers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   browseable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   guest ok = no</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">После сохранения конфигурации рекомендуется проверить ее работоспособность с помощью команды:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">testparm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Вывод:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Load smb config files from /etc/samba/smb.conf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Loaded services file OK.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Weak crypto is allowed</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Server role: ROLE_STANDALONE</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Press enter to see a dump of your service definitions</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#008000; background-color:#f0f0f0;"># Global parameters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[global]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">log</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> file = /var/log/samba/log.%m</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        logging = file</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        map to guest = Bad User</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        max </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">log</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> size = 1000</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        obey pam restrictions = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        pam password change = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        panic action = /usr/share/samba/panic-action %d</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        passwd program = /usr/bin/passwd %u</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        server role = standalone server</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        server string = %h server (Samba, Ubuntu)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        unix password </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">sync</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        usershare allow guests = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        idmap config * : backend = tdb</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[printers]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        browseable = No</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        comment = All Printers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        create mask = 0700</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        path = /var/spool/samba</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        printable = Yes</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[</span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">print</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">$]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        comment = Printer Drivers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">        path = /var/lib/samba/printers</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:496; color:#092433;">Настройка анонимного доступа к директории</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для множества задач самым оптимальным и простым решением является настройка анонимного доступа к ресурсу. Это значит, что клиент имеет возможность обратиться к ресурсу на сервере без авторизации. Например, можно создать директорию с общим доступом, в которой хранится информация, которой не требуется безопасность.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Важно: данный способ используется очень редко. Это крайне небезопасно оставлять ресурс в таком состоянии. Обычно это делается для маленькой soho-сети в самых крайних случаях.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Создадим директорию, к которой будет предоставлен доступ:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">mkdir</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /var/anonimus_share</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">И добавим директории полные права для всех:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">chmod</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 775 /var/anonimus_share</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Директория var использована как пример, в реальных задачах может быть предоставлен доступ к папке с логами, чтобы их изучить без подключения к серверу, или создание папки с общим доступом для обмена файлами. Такие права также назначены в ознакомительных целях.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Следующим шагом будут внесены изменения в директивы конфигурационного файла, в данной инструкции для этих целей использован текстовый редактор nano.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo nano /etc/samba/smb.conf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Добавим в файл следующий директивы:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[anonimus_share]                                                                                                </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    comment = Directory anonimus                                                                       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    path = /var/anonimus_share                                                                            </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    public = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">                                                                                                      </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    writable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">                                                                                                   </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = no                                                                                                  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    guest ok = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">                                                                                                  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    create mask = 0775                                                                                          </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    directory mask = 0775                                                                                      </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force create mode = 0775                                                                                </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force directory mode = 0775  </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Рассмотрим более подробно:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">[anonimus_share]</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 имя ресурса, отображаемое клиенту при подключении</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                                                                                 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">comment = Directory anonimus</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">комментарий;</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">                                                                       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">path = /var/anonimus_share</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 директория, к которой предоставляем доступ</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                                                        </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">public = yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 доступ на чтение всем авторизованным пользователям, также гостевым;</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">                                                                                  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">writable = yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 право записи в сетевой ресурс;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">read only = no</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 право на чтение, при значении директивы </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">no </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">все пользователи получают право на создание директорий и файлов</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                                 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">guest ok = yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 доступ гостевой учетной записи</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                      </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">create mask = 0775</span>;       <span style=" font-style:italic;">                                                                                   </span></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">directory mask = 0775</span>;        <span style=" font-style:italic;">                                                                              </span></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">force create mode = 0775</span>;  <span style=" font-style:italic;">                                                                             </span></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">force directory mode = 0775</span>.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Эти директивы задают права доступа, назначаемые при создании новой директории или файла.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Конфигурационный файл теперь выглядит следующим образом:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   workgroup = WORKGROUP</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   server string = %h server (Samba, Ubuntu)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">log</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> file = /var/log/samba/log.%m</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   max </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">log</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> size = 1000</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   logging = file</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   panic action = /usr/share/samba/panic-action %d</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   server role = standalone server</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   obey pam restrictions = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   unix password </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">sync</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   passwd program = /usr/bin/passwd %u</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   pam password change = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   map to guest = bad user</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   usershare allow guests = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[printers]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   comment = All Printers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   browseable = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   path = /var/spool/samba</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   printable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   guest ok = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   create mask = 0700</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[</span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">print</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">$]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   comment = Printer Drivers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   path = /var/lib/samba/printers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   browseable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">   guest ok = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[anonimus_share]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    comment = Directory anonimus</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    path = /var/anonimus_share</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    public = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    writable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    guest ok = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    create mask = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    directory mask = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force create mode = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force directory mode = 0775</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">После внесения изменений перезапускаем демона Samba:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl restart smbd</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Произведем проверку подключения к ресурсу с операционной системы Windows.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image878302706.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Доступ к созданной директории есть. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:496; color:#092433;">Настройка доступа по учетным данным пользователя</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Следующим этапом станет настройка доступа к директории по комбинации логин/пароль.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для начала создадим директорию, которая станет тестовой, и назначим ей полный права:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">mkdir</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /var/acc_pass | sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">chmod</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 777 /var/acc_pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Внесем изменения в файл конфигурации:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo nano /etc/samba/smb.conf</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Добавим следующий блок директив:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[acc_pass]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    comment =  acc_pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    path =  /var/acc_pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    public = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    writable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    guest ok = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    create mask = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    directory mask = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force create mode = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force directory mode = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Большая часть указанных здесь настроек разобраны в предыдущем блоке. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Остановимся только на новых:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">path =  /var/acc_pass</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 путь до директории;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">public = no</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 запрет на публичный доступ к папке;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">guest ok = no</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 запрет гостевого подключения.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Добавим пользователя Samba:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo smbpasswd -a selectel</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Проверим подключение к директории:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image865500953.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">При попытке подключения происходит запрос комбинации логин/пароль. Вводим.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">После успешной авторизации происходит получение доступа к директории:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image120322080.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:496; color:#092433;">Настройка доступа для пользователей и групп</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Следующим этапом разберем доступ к директории для определенных пользователей и групп.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Создадим директорию и назначим ей полные права:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">mkdir</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /var/acc_gr_and_user | sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">chmod</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 777 /var/acc_gr_and_user</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Откроем файл конфигурации и добавим в него следующий блок директив:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[acc_gr_and_user]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    comment = acc_gr_and_user</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    path = /var/acc_gr_and_user</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    public = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    writable = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">read</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> only = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    guest ok = no</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    valid </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">users</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> = vlan48, selectel, @groupe1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    write list = selectel</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    create mask = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    directory mask = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force create mode = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    force directory mode = 0775</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    inherit owner = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Разберем директивы:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">[acc_gr_and_user]</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 имя ресурса, отображаемое клиенту при подключении;</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">                                                                                  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">comment = acc_gr_and_user</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 комментарий;</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">                                                                       </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">path = /var/acc_gr_and_user</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 директория, к которой предоставляем доступ</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                   </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">public = no</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 запрет на публичный доступ к папке</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                                                                          </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">writable = no</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> и </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">read only = yes </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 разрешение на запись мы добавим для пользователей, перечисленных в директиве</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">write list</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">, а для остальных оставим с запрет на запись, разрешив только чтение;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">guest ok = no</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 доступ гостевой учетной записи;</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">         </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">valid users = vlan48, selectel, @groupe1</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 пользователи и группы, которые имеют доступ к директории, где </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">vlan48, selectel </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一пользователи, а </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">@groupe1</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一группа пользователей.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">write list = selectel</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 пользователи, которым разрешена запись в директории;</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">create mask = 0775;</span><span style=" font-weight:600; font-style:italic;">                                                                                          </span></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">directory mask = 0775;   </span><span style=" font-weight:600; font-style:italic;">                                                                                 </span></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">force create mode = 0775;  </span><span style=" font-weight:600; font-style:italic;">                                                                              </span></li>
<li style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">force directory mode = 0775;</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Эти 4 директивы задают права доступа назначаемые при создании новой директории или файла.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">inherit owner = yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 директива включает наследование владельца во время создания директорий и файлов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Сохраняем файл, перезапускаем демона Samba:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo systemctl restart smbd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Connecting"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">П</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">одключение к ресурсу </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для подключения к созданному ресурсу из операционной системы Windows используется проводник. Быстро открыть его можно, применив комбинацию клавиш Ctrl+E. Вводим необходимый путь в адресную строку проводника.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image2032627007.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Путь в системах Windows пишется через обратный слеш, путь к сетевому ресурсу 一 через двойной обратный слеш. Можно также подключать ресурс как диск, если это не противоречит вашим правилам безопасности. В таком случае при включении рабочей станции не требуется каждый раз устанавливать соединение с ресурсом.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для выполнения этой процедуры в проводнике выберем вкладку </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">Простой доступ, подключить как диск</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image896531058.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В открывшемся окне настроим букву для обозначения диска в системе и путь к ресурсу. Если учетная запись для авторизации в Samba отличается от учетной записи, под которой работает пользователь, можно использовать чекбокс </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">Использовать другие учетные данные</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1807368348.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Теперь ресурс станет отображаться как диск при включении компьютера.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:496; color:#092433;">Linux</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Подключение из операционных систем Linux-семейства производится с использованием набора утилит cifs. Установим cifs-утилиты на Ubuntu.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo apt install cifs-utils -y</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Вывод установки:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Reading package lists... Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Building dependency tree</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Reading state information... Done</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Suggested packages:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  keyutils smbclient winbind</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">The following NEW packages will be installed:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">  cifs-utils</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Need to get 82.5 kB of archives.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">After this operation, 306 kB of additional disk space will be used.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Get:1 http://mirror.selectel.ru/ubuntu focal-updates/main amd64 cifs-utils amd64 2:6.9-1ubuntu0.1 [82.5 kB]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Fetched 82.5 kB </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">in</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 0s (2439 kB/s)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Selecting previously unselected package cifs-utils.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">(Reading database ... 45851 files and directories currently installed.)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Preparing to unpack .../cifs-utils_2%3a6.9-1ubuntu0.1_amd64.deb ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Unpacking cifs-utils (2:6.9-1ubuntu0.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Setting up cifs-utils (2:6.9-1ubuntu0.1) ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">update-alternatives: using /usr/lib/x86_64-linux-gnu/cifs-utils/idmapwb.so to provide /etc/cifs-utils/idmap-plugin (idmap-plugin) </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">in</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> auto mode</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">Processing triggers </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">for</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> man-db (2.9.1-1) ...</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Монтирование ресурса выглядит так:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">mount.cifs {ресурс} {путь к директории в которую монтируем } {-o опции}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Как пример рассмотрим подключение к директории </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">anonimus_share, </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">расположенной на ресурсе 10.8.0.1 в директорию </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">mnt:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">mount.cifs //10.8.0.1/anonimus_share  /mnt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Автоматическое монтирование директории происходит с использованием файла </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">fstab</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">. Для начала создадим дополнительный файл с учетными данными пользователя для авторизации. Оправданно будет создать этот файл в директории </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">root</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo nano /root/.smbselus</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Внесем в файл следующие директивы:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">username=selectel</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">password=uspass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Сохраняем и переходим к конфигурационному файлу </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">fstab</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo nano /etc/fstab</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Добавляем в него следующий блок инструкций:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">//10.8.0.1/acc_gr_and_user /mnt cifs user,rw,credentials=/root/.smbselus 0 0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Конкретизируем каждый пункт:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">//10.8.0.1/acc_gr_and_user</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 директория, которую необходимо смонтировать;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">/mnt </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 директория, в которую необходимо смонтировать;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">cifs user </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 разрешает монтировать любому пользователю;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">rw</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 предоставляет права на чтение и запись;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">credentials=/root/.smbselus</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 файл с учетными данными пользователя;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">0</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> используется утилитой dump 0 一 выключен;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">0</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> используется утилитой fsck 0 一 выключен.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">В некоторых случаях требуется добавить директиву </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">domain</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> в файл </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">.smbselus.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Для более тонкой и детальной настройки всегда можно обратиться к </span><a href="https://smb-conf.ru/"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#2f97ff;">документации продукта</span></a><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="network"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">Н</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">астройка сетевой корзины</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">По умолчанию файлы из директории удаляются совсем. При определенных условиях необходимо иметь возможность восстановить эти файлы. В Samba данная возможность реализована с использованием сетевой корзины. Алгоритм работы следующий: настраивается скрытый каталог, в который при удалении перемещаются файлы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Первым этапом создадим директорию для корзины и назначим ей права:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">mkdir</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> /var/recycle | sudo </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">chmod</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> 777 /var/recycle</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Внесем блок директив в конфигурационный файл: </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">sudo nano /etc/samba/smb.conf</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'JetBrains,sans-serif'; font-size:9pt; color:#092433;">    </span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">[Recycle]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    comment = rec_dir</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    path = /var/recycle</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    public = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    browseable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    writable = </span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    vfs objects = recycle</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:repository = .recycle/%U</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:keeptree = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:</span><span style=" font-family:'inherit'; font-size:9pt; color:#0000ff; background-color:#f0f0f0;">touch</span><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"> = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:versions = Yes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:maxsize = 0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:exclude = *.tmp, ~$*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f0f0f0;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;">    recycle:exclude_dir = /tmp</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:9pt; color:#000000; background-color:#f0f0f0;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">Значения директив:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">[Recycle]</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">имя ресурса, отображаемое клиенту при подключении</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;">;                                                                                 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">comment = rec_dir </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 комментарий;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">path = /var/recycle</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 директория, в которой размещена сетевая корзина.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">public = yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;"> 一 доступ на чтение всем авторизованным пользователям, также гостевым; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">browseable = yes </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">параметр устанавливает, будет ли общий ресурс отображаться в списке доступных общих ресурсов в сетевом окружении и в списке просмотра;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">writable = yes </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 право записи в сетевой ресурс;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">vfs objects = recycle</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 использование подсистемы recycle;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:repository = .recycle/%U </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 место хранения удаленных объектов. В этой директиве настроено попадание удаленных файлов в каталог с именем пользователя, который создается автоматически в директории .</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:keeptree = Yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 удаление с сохранением дерева каталогов;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:touch = Yes</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 изменение даты при перемещении файла в сетевую корзину;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:versions = Yes </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 добавление номера версии при удалении файлов с одинаковыми именами;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:maxsize = 0</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 параметр отвечает за максимальный размер файла, который может быть перемещен в корзину. При текущем значении возможно переместить файл любого размера;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:exclude = *.tmp, ~$* </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 исключение файлов заданного типа;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-weight:600; color:#092433;">recycle:exclude_dir = /tmp</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; font-style:italic; color:#092433;"> </span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">一 исключение директории заданного типа.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Conclusion"></a><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">З</span><span style=" font-family:'CoilTrail,sans-serif'; font-size:9pt; color:#092433;">аключение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="How-to-install-and-configure-Samba-on-Ubuntu-20.04"></a><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">М</span><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; color:#092433;">ы разобрали процесс установки и настройки программного обеспечения Samba. В данном мануале также указаны ресурсы, на которых можно более детально увидеть значение необходимых директив.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://selectel.ru/blog/tutorials/tag/cloud/"><span style=" font-family:'Manrope,sans-serif'; font-size:9pt; text-decoration: underline; color:#ffffff; background-color:#50575a;">Облачные серверы</span></a></p></body></html>