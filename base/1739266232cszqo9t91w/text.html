<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><a name="header"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">W</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">iFi интернет радиоприемник для ванной с фоторезистором</span></p>
<p style=" margin-top:5px; margin-bottom:5px; margin-left:5px; margin-right:9px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><a name="werbung"></a><a href="http://esp8266-server.de/Internetradio.html"><span style=" font-family:'Georgia'; font-size:9pt; text-decoration: underline; color:#0000ff;">D</span></a><span style=" font-family:'Georgia'; font-size:9pt; color:#0000ff;">eutsch</span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:4px;" width="100%" cellspacing="0" cellpadding="0">
<tr>
<td style=" vertical-align:top;">
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:12px; margin-bottom:6px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px; font-weight:600;">Меню</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:6px; margin-bottom:6px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><a href="https://esp8266-server.de/InternetradioRu.html#SchaltplanD"><span style=" font-size:16px; text-decoration: underline; color:#000000; background-color:#fffacd;">Схема цифровая часть</span></a></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:6px; margin-bottom:6px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><a href="https://esp8266-server.de/InternetradioRu.html#SchaltplanA"><span style=" font-size:16px; text-decoration: underline; color:#000000; background-color:#fffacd;">Схема аналоговая часть</span></a></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:6px; margin-bottom:6px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><a href="https://esp8266-server.de/InternetradioRu.html#Webinterface"><span style=" font-size:16px; text-decoration: underline; color:#000000; background-color:#fffacd;">Веб-интерфейс</span></a></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:6px; margin-bottom:6px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><a href="https://esp8266-server.de/InternetradioRu.html#Download1"><span style=" font-size:16px; text-decoration: underline; color:#000000; background-color:#fffacd;">Скачать прошивку</span></a></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:6px; margin-bottom:6px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><a href="https://esp8266-server.de/InternetradioRu.html#Download2"><span style=" font-size:16px; text-decoration: underline; color:#000000; background-color:#fffacd;">Исходный код Arduino Sketch</span></a></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:6px; margin-bottom:12px; margin-left:6px; margin-right:14px; -qt-block-indent:0; text-indent:0px;"><a href="https://esp8266-server.de/InternetradioRu.html#101ru"><span style=" font-size:16px; text-decoration: underline; color:#000000; background-color:#fffacd;">101.ru Online Radio</span></a></li></ul></td>
<td>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px; font-weight:600;">Интернет радиоприемник на ESP8266 Ардуино open source:</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Включается / выключается с помощью света. Как только свет в ванной включается начинает играть.</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Таймер для отключения на ночь. Синхронизация времени по NTP-серверу</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Начинает воспроизводить музыку моментально, благодаря постоянной готовности</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Органы управления: 2 кнопки 1 регулятор громкости</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Низкое энергопотребление по сравнению с Raspberry Pi</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">3 модуля ESP8266, VS1053B, PAM8403</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Бюджет 11,58€ (Aliexpress).</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Исходный код на Arduino</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Может проигрывать 101.ru онлайн радио</span></li></ul></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1675533101.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:2%; background-color:#f8f8f8;"><a name="inhalt"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">М</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">ожет воспроизводить аудиофайлы MP3 или Ogg до 320 кбит / с<br />Может воспроизводить MP3 файлы с любого сервера<br />100 Интернет-радиостанций могут быть сохранены в файле конфигурации<br />Файл конфигурации можно редактировать через веб-интерфейс<br />Файл конфигурации можно загрузить через веб-интерфейс<br />Может управляться через последовательный интерфейс RS232 (TTL)<br />Автоматически выбирается самая сильная доступная сеть Wi-Fi<br />20kB кольцевой буфер для плавного воспроизведения<br />Уровни низких и высоких частот настраиваются в конфигурационном файле<br />Синхронизирует время с NTP — сервером<br />Автоматическое переключение летнего / зимнего времени<br />Включается при включении света в помещении с помощью фоторезистора<br />Управление светом с помощью фоторезистора автоматически отключается на ночь по таймеру<br />Выключение усилителя с помощью MUTE сигнала для бесшумной работы в режиме ожидания<br />Может воспроизводить станции iHeartRadio<br />Может воспроизводить станции 101.ru</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1243085989.png" /><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Я хотел бы представить свой проект WiFi интернет радиоприемник для ванной комнаты</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Программное обеспечение для ESP8266 Arduino было разработано Edzelf и было взято из </span><a href="https://github.com/Edzelf/Esp-radio"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">этого проекта</span></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">.<br />Я всего лишь изменил концепцию управления и адаптировал радио для работы в ванной комнате. Включение выключение интернет радиоприемника зависит от освещенности в комнате. То есть я установил сенсор освещенности - фоторезистор. Также добавил синхронизацию времени по ntp и возможность воспроизведения интернет радиостанции 101.ru<br /><br />Когда я захожу в ванную комнату должна начинать играть легкая музыка. Когда я выхожу из ванной музыка должна автоматически выключаться. Эту идею я подсмотрел в одном отеле в Болгарии.<br />В качестве элементов управления мне понадобится регулятор громкости и две кнопки для переключения между интернет-радиостанциями.<br />LDR (датчик освещенности) обнаруживает, когда я вхожу в ванную комнату. Ах да, еще нужно ночное отключение, если я пойду в туалет ночью, музыка не должна включаться.<br />В отличие от проектов интернет радио плееров с Raspberry Pi (малинкой), этот самодельный Wi-Fi радиоприемник намного дешевле. Стоимость компонентов составляет всего 11,58 € (с Aliexpress).<br />И, конечно же есть преимущество в том, что вам не нужен Linux, только с помощью знаний Arduino вы можете вносить свои изменения.<br />Кроме того, такое ESP-радио потребляет намного меньше электроэнергии, чем Raspberry Pi радиоприемник, а также он запускается намного быстрее. В этом интернет радиоприемнике ESP8266 всегда готов к работе и подключен к Wi-Fi и начинает воспроизводить онлайн-радио, моментально после включения лампы в ванной комнате.<br />Потребляемая мощность в режиме ожидания составляет 130 мА. С wi-fi интернет радио на Raspberry Pi, это было бы проблематично, потому что, либо Raspberry Pi полностью загружен операционной системий и использует много энергии, либо выключен, но тогда загрузка занимает довольно много времени.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="SchaltplanD"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">П</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">ринципиальная электрическая схема цифровая часть</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1201113520.png" /><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Регулятор громкости</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">В качестве регулятора громкости может быть использован любой потенциометр в диапазоне 1 кОм ... 100 кОм. Он подключается между между питанием 3,3 В и масой.<br />Напряжение с потенциометра считывается преобразователем AD-преобразователем (контакт A0). Чтобы значение не прыгало назад и вперед, в программу введён гистерезис 5.<br />Практика показала, что по-прежнему необходим электронный фильтр. Самый простой способ для меня - припаять SMD конденсатор 200 нФ непосредственно к плате D1 mini WEMOS. Конденсатор припаивается прямо поверх резистора напротив ножки D0. Если вы не хотите этого делать, вы можете также присоединить такой RC-фильтр, между входом A0 и массой конденсатор 1 мкФ, и резистор 10 кОм между потенциометром и входом А0.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">LDR - Датчик света</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">LDR подключен настолько странно по той причине, что порт D8 должен иметь обязательно низкий уровень во время загрузки модуля ESP. Схема LDR работает следующим образом: D8 переключается как выход и выдает 3,3 В, конденсатор заряжается, затем D8 переключается как вход и проверяет, остается ли напряжение на конденсаторе. Чем больше света попадает на LDR, тем быстрее разряжается конденсатор.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Отключение звука</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Для меня было очень важно, чтобы не было слышно ни малейшего шума, пока WiFi интернет радиоприемник для ванной находится в режиме ожидания. Все усилители создают немного фонового шума при отсутствии сигнала. Единственный способ избавиться от этого шума - отключить усилитель. Для этого нам нужен сигнал. Но все GPIO в ESP8266 заняты. На D1 mini WeMos NodeMcu установлен ESP8266-12F, и у него еще есть дополнительные GPIO. Мне удалось использовать GPIO10 для этой функции.<br />Я прочитал в Интернете, что некоторые ESP8266-12F (в зависимости от производителя) сбрасываются при переключении GPIO10. Если у вас так происходит, отключите эту функцию в строке 21.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="SchaltplanA"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">П</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">ринципиальная электрическая схема аналоговая часть</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1812171967.png" /><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Кстати, радиолюбители конструирующиe интернет-радиоприемник на VS1053 скрывают огромную проблему подключения усилителя к модулю VS1053B.<br />Все подключают наушники или усилители с отдельным источником питания и довольны этим.<br /><br />Проблема в том, что как только вы подключите усилитель с общей массой к модулю VS1053, вы услышите очень сильный цифровой шум, который даже заглушает полезный сигнал. Контакт массы гнезда для наушников (GBUF) в соответствии с техническим паспортом не должны быть подключены к массе остальной цепи. Два часа я пробовал с различными фильтрами в аналоговый части и на линиях питания. Никакие фильтры не позволяют избавиться от этого шума. Наконец, я нашел правильное ключевое слово в Интернете - «дифференциальные входы». Если подключить дифференциальный входной усилитель (например, TDA8932) к модулю VS1053, то цифровой шум исчезает полностю.<br />Секрет массы гнезда для наушников GBUF заключается в том, что он также передает шум с одинаковой полярностью. Таким образом, контакт массы гнезда для наушников GBUF должен быть соеденён с отрицательным входом усилителя, а звуковой сигнал должен быть соеденён с положительным входом усилителя. Я нашел окончательное решение проблемы цифрового шума </span><a href="https://www.mikrocontroller.net/attachment/330246/amp.png"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">.<br /><br />GBUF можно подключить к выходу VREF ножка 8 усилителя PAM8403. После этого цифровой шум полностью исчез. Когда это получилось я чуть не закричал Эврика. Усилитель меньшей фонет если GBUF и VREF соединять не на прямую а через конденсатор 25мФ...100мФ.<br /><br />Припяйте тонкий провод ко входу VREF ножка 8 микросхемы PAM8403. Эту ножку не надо отпаивать от платы.<br />А вот ножка 5 MUTE должена быть отсоединена от платы и поднята вверх.<br />R1, R3 и R2, R4 образуют делитель напряжения, который делит аудиосигнал на 2. Если максимального уровни громкости недостаточно, то удалите R3 и R4 (фон во время пауз также усилится).<br /><br />Конденсатор C4 470 мкФ должен быть установлен как можно ближе к модулю PAM8403, чтобы обеспечить максимальный ток для баса.<br /><br />Требования к источнику питания<br />Мои измерения показали, что при максимальной громкости при использовании динамика на 120 Вт потребляется 500 мА. Поэтому 5 В USB зарядка должна быть рассчитана на 1 А. Пожалуйста не заводите питание через через гнездо micro USB модуля WeMos. Он не может проводить столько мощности, и усилитель звука получает меньше напряжения из-за потерь микро-USB и зарядном кабеле.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Управление</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Управление осуществляется с помощью двух кнопок и регулятора громкости. Кнопка 1 - следующая радиостанция, кнопка 2 - предыдущая радиостанция.<br />Удерживя кнопку «следующая радиостанция» в течение 2 секунд вы выключите самодельный интернет радио плеер. Если wifi интернет радио выключено то его можно снова включить любой кнопкой.<br />Я сконструировал это интернет-радио для использования в ванной комнате. Для этой цели ESP радиоприемник включается и выключается с помощью светочувствительного датчика LDR. Когда вы войдете в ванную комнату и включите свет, ESP8266 Интернет Радио включиться , а когда вы выключите свет, интернет-радио на ESP8266 снова выключиться.<br />У вас также есть возможность автоматически отключать управление светом на ночь. Настройка времени, когда интернет-радио управляется светом, создается в файле «radio.ini». В переменных «ldr_on_at = 8:00», «ldr_off_at = 21:30». Вы можете изменить файл «radio.ini» через веб-интерфейс Ардуино радиоприемника ESP8266 или же редактировать его на своем компьютере, а затем загрузить его через веб-интерфейс.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Webinterface"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">В</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">еб-интерфейс</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image383300805.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Чтобы добраться до веб-интерфейса WiFi радиоприемника для ванной , вы должны сначала узнать IP-адрес интернет радиоприемника для ванной. Вы можете это сделать, открыв веб-страницу своего маршрутизатора и ищите WiFi-клиентов. Там вы найдете WiFi-устройство под названием «Esp-radio».<br />Лучше всего настроить маршрутизатор так, чтобы он всегда назначал один и тот же IP-адрес для «Esp radio». Теперь вы можете вызвать веб-сайт интернет- радиоприемника на ПК, планшет или мобильный телефон по IP-адресу.<br /><br />Через веб-интерфейс на странице „Control“ вы можете управлять веб радио плеером. Вы можете попробовать новые интернет-радиостанции в строке над кнопкой «Play». Там вы можете указать ссылку на потоковое вещание (streaming link), ссылку на MP3 фаил, ссылку на плейлист, имя станции iHeartRadio или номер станции 101.ru онлайн-радио.<br /><br />На вкладке „Config“ вы можете отредактировать файл конфигурации «radio.ini» или загрузить его с ПК. Здесь вы можете также загрузить любой файл в SPIFF (файловая система ESP8266). Могут быть загружены не только «radio.ini», но и небольшие MP3-файлы. Здесь также перечислены доступные сети Wi-Fi.<br /><br />Если ESP8266 не сможет подключиться к Wi-Fi сети , ESP8266 стартует как </span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">WiFi Точка доступа </span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">с именем „Esp Radio“, и вам нужно будет подключиться к этой точке доступа. Пароль - «Esp-Radio». Затем можно связатся с ESP8266 Arduino радиоприемником по адресу http://192.168.4.1<br />Если вы еще не загрузили «radio.ini», вы можете сделать это через загрузку файла на странице „Control“.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1732228776.png" /></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Файл настроек</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Файл конфигурации «radio.ini» находится в папке проекта в каталоге „data“.<br />Этот файл должен быть загружен в SPIFF (файловая система ESP8266), либо через Arduino IDE и </span><a href="https://github.com/esp8266/arduino-esp8266fs-plugin/releases/download/0.1.3/ESP8266FS-0.1.3.zip"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Sketch Data Upload tool</span></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">, или если вы уже загружаете скомпилированную прошивку с использованием пакетного файла (Batch-file), «radio.ini» будет автоматически преобразовываться в SPIFF и также загружаться.<br />В этом файле делаются все настройки. Там вы можете ввести несколько названий Wi Fi сетей и пароли, с которыми может связыватся самодельное wi-fi интернет радио: wifi_00 , wifi_01 , wifi_02.<br />В строке 4 «debug = 1» вы можете включать и отключать режим отладки „debug = 1“. В режиме отладки выдаются сообщения о состоянии и событиях проишодящих в Интернет-радио через последовательный интерфейс.<br />В строках с параметрами «ldr_on_at» и «ldr_off_at» вы можете установить время начала и окончания управления радиоприемником через освещение (LDR). Там вы можете настроить когда будет работать автоматическое включение интернет-радио.<br />Есть елементарный эквалайзер . Вы можете настроить его здесь:<br />Регулировка усиления высоты<br />Установка частоты высоты<br />Настройка усиления басов<br />Настройка частоты басов<br />Лучше сначала попробовать различные настройки через веб-интерфейс, как только вы найдете оптимальные значения, введите их в файл конфигурации.<br />В части конфигурационного файла &quot;Presets&quot; вы можете сохранить онлаин радиостанции и ссылки на MP3 / Ogg файлы для воспроизведения. Можно сохранить до 100 станций.<br /><br />Возможны следующие форматы:<br />http://87.98.217.63:23490/stream --- Ссылка на потоковое радио<br />87.98.217.63:23490/stream --- Ссылка на поток без &quot;http&quot;<br />www.rockantenne.de/webradio/rockantenne.m3u --- Ссылка на плейлист<br />www.terrasound.de/wp-content/uploads/2016/04/funk_warte_terrasound.mp3 --- Ссылка на MP3 файл<br />ihr/IHR_IEDM --- iHeartRadio-вебрадио<br />101/7 --- 101.ru онлайн радио - число после косой черты - номер радиостанции.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Download1"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">С</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">качать Скомпилированную программу - готовая прошивка</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Может быть напрямую загружена в микроконтроллер без Arduino IDE и знаний в области программирования.<br />Вам нужен только кабель от сотового телефона. Tool для загрузки находится в ZIP-файле .<br /></span><a href="http://esp8266-server.de/dateien/Internetradio/Internetradio-Firmware-BIN.zip"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Скачать прошивку бинарник под ESP8266 интернет-радио для ванной комнаты D1 mini WeMos NodeMcu</span></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">  -инструмент для загрузки прошивки и инструкция находятся в архиве. (Скомпилиеровано в Arduino версии 1.8.5, ESP8266 библиотека версии. 2.3.0).<br />Вы можете установить предварительные настройки для WiFi интернет радиоприемника для ванной в data / radio.ini. Например, введите данные доступа для вашей сети WiFi.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Download2"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">С</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">качать исходный код ардуино проект (скетч)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">В ZIP-файле находится полный проект Arduino и необходимые библиотеки. Библиотеки должны быть скопированы в «папка с Arduino sketch/ libraries».<br /></span><a href="http://esp8266-server.de/dateien/Internetradio/Internetradio-Sketch.zip"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Скачать проект WiFi интернет радиоприемник для ванной своими руками</span></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"> -Sketch для ардуино, требуется библиотека </span><a href="https://github.com/esp8266/Arduino"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Core for ESP8266 WiFi chip</span></a></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0">
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Особенности при компиляции</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /><br />Установите скорость процессора 160 МГц<br />ВАЖНО, пожалуйста, используйте только библиотеку Arduino ESP8266 </span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">Версии 2.3.0 </span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">. Компиляция с версией 2.4.0 приводит к постоянной перезагрузке(надеюсь когда нибудь билиотеку исправят).</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image909618708.png" /><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="101ru"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">1</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">01.ru</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Если вы нашли интересное веб-радио на 101.ru, найдите номер радиостанции, (</span><a href="http://101.ru/radio/channel/120"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">http://101.ru/radio/channel/120</span></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"> New Age). 120 - это номер станции.<br />С помощью записи 101/120 в разделе „Presets“ INI-файла вы можете сохранить эту радиостанцию, или через веб-интерфейс самодельного радиоприемника на вкладке „Control“ можете задать и послушать эту радиостанцию.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="befehle"></a><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">К</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#333333;">оманды управления</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Команды управления могут быть отправлены через последовательный интерфейс RS232 (TTL).<br />Команды управления могут быть отправлены через веб-браузер в следующем формате: http://192.168.2.13/?[parameter]=[value]<br />(http://192.168.2.13/?upvolume=2)<br /></span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">preset = 12                        Select start preset to con</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">uppreset  = 1                      Select next preset or play</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">downpreset = 1                     Select previous preset or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">preset_00 = [mp3 stream]           Specify station for a pres</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">volume = 95                        Percentage between 0 and 1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">upvolume = 2                       Add percentage to current </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">downvolume = 2                     Subtract percentage from c</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">toneha = [0..15]                   Setting treble gain</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">tonehf = [0..15]                   Setting treble frequency</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">tonela = [0..15]                   Setting bass gain</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">tonelf = [0..15]                   Setting treble frequency</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">station = [mp3 stream]             Select new station (will n</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">station   = [URL].mp3              Play standalone .mp3 file </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">station   = [URL].m3u              Select playlist (will not </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">xml     = [Mountpoint]             Select iHeartRadio station</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">mute                               Mute the music</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">unmute                             Unmute the music</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">stop                               Stop player</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">resume                             Resume player</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">wifi_00  = mySSID/mypassword       Set WiFi SSID and password</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">status                             Show current URL to play</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">test                               For test purposes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">debug = 0 or 1                     Switch debugging on or off</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">reset                              Restart the ESP8266</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#333333;">analog                             Show current analog input</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:9pt; color:#333333;">Я извеняюсь за мой русский. Изначально писал на немецком, потом переводил на русский. Живу в Германии 22 года, потому не замечаю корявости слога.</span></p></body></html>