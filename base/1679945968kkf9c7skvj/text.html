<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этой статье мы покажем вам, как обмениваться данными между Raspberry Pi и платой Arduino через последовательный интерфейс.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Для начала, кратко объясним, что такое последовательный интерфейс. Затем посмотрим, как настроить оборудование и программное обеспечение, а затем углубимся в код Python (Cpp для Arduino). Разберем простой пример, ведущий к более совершенному использованию Raspberry Pi, Arduino и других электронных устройств.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Это руководство подходит для плат Raspberry Pi 4 (и ранних: 3B, 3B +) и любой платы Arduino. Мы будем использовать в основном Arduino Uno, но также более подробно расскажем о различиях между платами Arduino, когда дело касается последовательной передачи данных.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">При работе с электронными устройствами передача данных является ключевым моментом. Каждое устройство – помимо своей основной функции – должно четко обмениваться данными с другими устройствами. Это одна из самых важных вещей, с которыми нужно уметь работать, чтобы перейти от очень простых приложений к более сложным.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ЧТО ТАКОЕ ПОСЛЕДОВАТЕЛЬНЫЙ ИНТЕРФЕЙС (UART)?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Последовательная передача данных – это просто способ их передачи. Данные отправляются последовательно, по одному биту (1 байт = 8 бит), в отличие от параллельной связи, когда одновременно отправляется много битов.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ЧТО ТАКОЕ ПРОТОКОЛ UART?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Говоря более конкретно, когда вы используете последовательный порт с Arduino и Raspberry Pi, вы используете протокол UART. UART означает «Универсальный асинхронный приёмопередатчик».</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">По сути, это асинхронный multi-master протокол, основанный на последовательном интерфейсе, который позволяет обмениваться данными между двумя платами. Будьте уверены, есть библиотеки, которые справятся со всеми низкими уровнями за вас.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Multi-master означает, что все подключенные устройства смогут отправлять данные, когда требуется. Это одно из основных отличий от протоколов «master-slaves», где только главное устройство может инициировать обмен данными.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Обычно используются другие протоколы, такие как I2C и SPI, когда вам нужны конфигурации ведущий-ведомый: например, когда у вас есть одна плата Arduino и несколько датчиков или исполнительных механизмов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">На плате Arduino Uno есть один UART, который можно использовать либо с USB-кабелем, либо с контактами RX / TX (не используйте его с обоими одновременно). Некоторые платы имеют больше доступных UART.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Например, Arduino Mega имеет разные последовательные интерфейсы (Serial, Serial1, Serial2, Serial3), а Arduino Zero имеет только порт USB (используйте SerialUSB вместо Serial).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">На Raspberry Pi возможно подключить множество последовательных устройств к портам USB. У каждого устройства будет свое имя (посмотрим как их найти позже в этой статье). Вы также можете использовать GPIO (RX0 / TX0) для дополнительного UART.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ВЫ, НАВЕРНОЕ, УЖЕ ЗНАКОМЫ С БИБЛИОТЕКОЙ SERIAL ДЛЯ ARDUINO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Когда вы используете монитор последовательного порта, в общем случае ваша среда разработки Arduino запускает последовательный интерфейс с вашим Arduino. Вы можете получать и отправлять данные прямо с монитора последовательного порта.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">То, что мы сделаем здесь, почти то же самое, за исключением того, что вместо вашей среды разработки Arduino другой стороной последовательного интерфейса будет плата Raspberry Pi. Нам нужно будет произвести некоторые настройки и написать код, чтобы он заработал. Тогда и Raspberry Pi, и Arduino смогут отправлять сообщения друг другу.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Давайте теперь посмотрим, как физически соединить две платы вместе.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">НАСТРОЙКА ОБОРУДОВАНИЯ ДЛЯ ПОСЛЕДОВАТЕЛЬНОГО ИНТЕРФЕЙСА</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Есть 2 способа подключить Raspberry Pi и Arduino для последовательного интерфейса.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">1. С ПОМОЩЬЮ USB</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Самый простой способ – соединить обе платы кабелем USB.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Со стороны Raspberry Pi USB-разъем – это все, что вам нужно. Вы можете выбрать любой из 4 портов USB, имеющихся на плате.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Для Arduino вы будете использовать USB-порт, который вы используете для загрузки кода с вашего компьютера (со среды разработки Arduino) на вашу плату. Выбор USB-разъема зависит от того, какая у вас версия. Для таких плат, как Arduino Uno и Mega, разъем будет отличаться от Arduino Nano и от Arduino Zero.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этом примере мы использовали плату Arduino Uno.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image915947799.png" /><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Как видите, это простейшее аппаратное соединение, которое вы можете установить между Raspberry Pi и Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: сначала вам нужно подключить Arduino к компьютеру, чтобы вы могли загрузить код в плату. После этого подключите USB-кабель к Raspberry Pi. Raspberry Pi будет питать Arduino через этот кабель</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">2. С ПОМОЩЬЮ ИНТЕРФЕЙСА ВВОДА/ВЫВОДА ОБЩЕГО НАЗНАЧЕНИЯ (GPIO)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444; background-color:#ffffff;">тобы установить последовательное соединение, вы также можете использовать простые провода между интерфейсом ввода/вывода Raspberry Pi и контактами Arduino</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1906339506.png" /><span style=" font-family:'Ubuntu';"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В зависимости от типа вашей платы Arduino вам может потребоваться переключатель уровня напряжения. Raspberry Pi работает при напряжении 3,3 В. Для плат Arduino, таких как Due, 101, это тоже подойдет, так как они также используют 3,3 В.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Но для многих Arduino, таких как Uno, Mega, Leonardo, Nano и многих других, плата работает при напряжении 5 В. Таким образом, вам понадобится переключатель напряжения 3,3 В / 5 В для защиты Raspberry Pi при подключении RX и TX.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В оставшейся части этого руководства мы будем использовать настройку с помощью кабеля USB. С ним будет проще работать, поэтому советуем использовать USB-кабель вместо GPIO для последовательного интерфейса.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">КАК НАСТРОИТЬ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ RASPBERRY PI?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Для Arduino не требуется никаких специальных настроек. Просто убедитесь, что вы скачали и установили среду разработки Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Однако, на вашем Raspberry Pi требуется несколько вещей, чтобы интерфейс заработал.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Подключитесь к Raspberry Pi через протокол SSH или с помощью экрана, мыши и клавиатуры, и  откройте консоль. Если вы еще не установили ОС на плату, вы можете очень легко установить Raspbian или Ubuntu на SD-карту.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">1. НАЙДИТЕ ПЛАТУ ARDUINO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">При подключении к Arduino через USB, вы должны обнаружить ее по адресу /dev/ttyACM0 или /dev/ttyUSB0 (иногда цифра в адресе может отличаться, к примеру /dev/ttyACM1).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Запустите</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0763724107247"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0763724107247-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ls</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> /</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">dev</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">tty</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">*</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы должны обнаружить плату. Если вы не уверены какой девайс – плата Arduino, отключите кабель и повторите.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Таким образом, вы сможете с легкостью определить имя платы Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">2. НАСТРОЙКА РАЗРЕШЕНИЯ ДЛЯ РАБОТЫ ПОСЛЕДОВАТЕЛЬНОГО ИНТЕРФЕЙСА</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете добавить своего пользователя в группу dialout, чтобы избежать таких ошибок, как: serial.serialutil.SerialException: [Errno 13] could not open port / dev / ttyACM0: [Errno 13] Permission denied: ‘/ dev / ttyACM0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0774817326207"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0774817326207-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">sudo</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">adduser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">  </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#000000;">ваше</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">_</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#000000;">имя</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">_</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#000000;">пользователя</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">dialout</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Это даст доступ к последовательным устройствам (/ dev / ttyACMx, / dev / ttyUSBx,…).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">После того, как вы добавили себя в группу dialout, вам необходимо перезагрузить Pi (или, по крайней мере, выйти из системы / войти в систему), чтобы применить изменения.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Установите библиотеку последовательного интерфейса Python на Raspberry Pi</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вам необходимо установить библиотеку, чтобы иметь возможность использовать последовательный интерфейс с Python.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этой статье мы будем использовать библиотеку pySerial.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Чтобы установить её:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077a079439657"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077a079439657-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">python3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> -</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">m</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">pip install </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pyserial</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Эта библиотека Python хорошо известна и используется во многих приложениях.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если при установке вы получаете сообщение об ошибке, например «/ usr / bin / python3: No module named pip», вам необходимо сначала установить pip с помощью</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077f700486019"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077f700486019-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sudo apt install </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">python3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">-</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pip</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">3. ОРГАНИЗАЦИЯ СВЯЗИ ARDUINO И RASPBERRY PI</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Начнем с очень простой программы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Arduino</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Загрузите этот код со своего компьютера в Arduino, используя среду разработки Arduino.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">setup</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">begin</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">loop</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">println</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Arduino!&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">elay</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1000</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Для начала, мы инициализируем последовательный порт и выбираем скорость передачи, в данном случае, 9600 бод. 9600 – это обычно используемая скорость передачи, к тому же довольно низкая.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В ваших будущих приложениях вы можете без проблем использовать скорость передачи 57600 или даже 115200 бод. В этом уроке мы продолжим с 9600.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Каждую секунду мы заставляем Arduino отправлять строку с помощью Serial.println (). Команда println () добавляет символ новой строки «\ n» в конец каждой строки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете открыть монитор последовательного порта, чтобы увидеть строку на вашем компьютере.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Python на Raspberry Pi</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">!/usr/bin/env python3</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">serial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">in_waiting</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ine</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">readline</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">().</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">decode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">rstrip</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">line</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Итак, что делает этот код?</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe078e750866225"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe078e750866225-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">!/usr/bin/env python3</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe078e750866225-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Сначала мы импортируем предварительно установленную библиотеку последовательного интерфейса.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0792923074137"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0792923074137-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0792923074137-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Последовательный интерфейс инициализируется вызовом serial.Serial () вместе с несколькими параметрами:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">1) Имя последовательного устройства для Arduino: обычно ‘/ dev / ttyACM0’, ‘/ dev / ttyUSB0’ или подобное.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">2) Скорость передачи: этот параметр очень важен. Вам нужно использовать ту же скорость передачи данных, что и на Arduino, иначе все, что вы будете читать и писать, работать не будет. Итак, мы выбрали 9600, как и в Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">3) Тайм-аут: это тайм-аут для операций чтения. Здесь мы установили 1 секунду. Это означает, что когда мы читаем из Serial, программа не зависнет, если данные не поступят. Если после 1 секунды или чтения получены не все байты, функция вернет уже полученные байты.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Итак, serial.Serial () возвращает объект, который вы можете использовать для всех своих последовательных операций. Мы сохраняем его в переменной «ser».</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0797105324239"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0797105324239-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем мы используем функцию flush (). Это очистит любой буфер ввода и вывода, чтобы избежать получения или отправки неверных / неполных данных в начале связи</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">in_waiting</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">&gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ine</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">readline</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">().</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">decode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">rstrip</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">line</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В бесконечном цикле (подумайте о функции loop () в скетче Arduino) мы проверяем, доступны ли некоторые данные с помощью атрибута in_waiting (не ставьте скобки, это не функция). Если да, то мы можем прочитать данные.<br />Функция readline () будет читать все байты, пока не будет обнаружен символ новой строки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если мы просто выведем то, что получили, мы увидим надпись b’Hello from Arduino!\r\n’. Вы получаете байты при чтении из последовательного интерфейса, и нужно преобразовать (декодировать) эти байты в соответствующий тип данных. Итак, мы используем декодирование («utf-8») – также можно использовать декодирование («ascii») – для декодирования полученных данных и размещения их в строке.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Наконец, функция rstrip () специфична для строк, она позволяет удалить любые завершающие символы (новую строку, возврат каретки). Таким образом мы можем удалить «\ r» и «\ n» и получить правильную строку.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: здесь каждый раз читается полная строка. Если вы хотите прочитать определенное количество байтов – один или несколько – используйте функцию read (size=1).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">4. ТЕСТИРОВАНИЕ ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Теперь отключите плату Arduino от компьютера и подключите ее к Raspberry Pi.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Код Arduino запускается, как только плата включается.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">На Raspberry Pi сделайте файл Python исполняемым и запустите его.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">chmod</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> +</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">x</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">receive_serial_data_from_arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">receive_serial_data_from_arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">py </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">H</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">H</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">H</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Работает! Строка, отправляемая Arduino, каждую секунду отображается в консоли Raspberry Pi.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ДВУНАПРАВЛЕННАЯ ПОСЛЕДОВАТЕЛЬНАЯ СВЯЗЬ МЕЖДУ RASPBERRY PI И ARDUINO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Давайте сделаем немного интереснее. Вы видели, как отправлять данные с Arduino на Raspberry Pi. В этой части вы увидите, как отправлять сообщения от Raspberry Pi с Arduino. Таким образом, у вас будут два направления коммуникации, и вы сможете создавать программы, требующие взаимодействия друг от друга.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Arduino</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">setup</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">begin</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">loop</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">available</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">tring</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">data</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readStringUntil</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'\n'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">print</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;You sent me: &quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">println</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">data</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Здесь мы проверяем, получил ли Arduino данные с помощью Serial.available (). Это даст информацию о количество байтов, уже доставленных и сохраненных в буфере приема.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если поступили какие-то данные, мы используем Serial.readStringUntil () с символом новой строки «\n», чтобы перейти на следующую строку. Это похоже на функцию readline (). Все байты, полученные до “\ n”, автоматически конвертируются и добавляются в объект Arduino String.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем мы просто выводим полученные данные, добавив некоторый текст.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: если вы хотите читать байты один за другим, вы можете сделать это с помощью функции Serial.read ().</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем вам нужно будет преобразовать эти байты, если необходимо: int, string и т. д.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Python для Raspberry Pi</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">serial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">time</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi!\n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ine</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">readline</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">().</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">decode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">rstrip</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">line</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">t</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">ime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sleep</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Используйте функцию pySerial write () для отправки данных в Arduino.<br />Здесь мы добавили символ «b» перед отправляемой строкой. Это закодирует строку в байты, потому что через последовательный интерфейс можно отправлять только байты.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Любые данные, которые не являются байтами или байтовыми массивами, должны быть преобразованы перед отправкой. Если вы просто попытаетесь отправить такую строку, вы получите эту ошибку ” TypeError: unicode strings are not supported, please encode to bytes: ‘Hello from Raspberry Pi!’ ”</span></p>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: вместо</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07c4061416816"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07c4061416816-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi! \ n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете написать</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07fe532906484"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07fe532906484-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi! \ n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">encode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">))</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">или</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0807887548074"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0807887548074-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi! \ n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">encode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'ascii'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">))</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Функция encode () закодирует строку для последовательного интерфейса.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Кроме того, мы добавляем символ новой строки «\n», потому что это то, что требуется от Arduino для завершения чтения с помощью Serial.readStringUntil (‘\n’).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем мы делаем то же самое, что и раньше: читаем строку, декодируем ее в строку и удаляем любой завершающий символ.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Мы не используем здесь ser.in_waiting, потому что для этого конкретного приложения мы знаем, что Arduino отправит обратно некоторые данные сразу после того, как получит строку. Кроме того, у нас есть тайм-аут в 1 секунду, чтобы не застрять на этой строке.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Наконец, мы выводим полученную строку и ждем 1 секунду с помощью time.sleep () перед отправкой следующей строки через последовательный интерфейс.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ПРОВЕРКА ДВУНАПРАВЛЕННОЙ ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">На Raspberry Pi сделайте свой файл Python исполняемым и запустите его.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">chmod</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> + </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">x</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">bidirectional_serial_communication</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">bidirectional_serial_communication</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Y</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ou </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sent </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">me</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Hello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Raspberry </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Pi</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Y</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ou </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sent </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">me</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Hello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Raspberry </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Pi</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Y</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ou </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sent </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">me</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Hello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Raspberry </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Pi</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Отлично! Arduino получил строку и отправил ее обратно с еще несколькими словами. Затем Raspberry Pi получил и вывел последнюю строку.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ПРИМЕР ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ RASPBERRY PI И ARDUINO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Теперь, когда вы знаете, как настроить Arduino и Raspberry Pi для последовательной связи и написать программы для обмена данными между каждой платой, давайте создадим более сложное приложение.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этом примере к плате Arduino будут подключены 4 светодиода и одна кнопка.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Raspberry Pi и Arduino будут подключены с помощью USB-кабеля и использовать последовательную связь для связи между собой.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вот результат, который мы хотим получить:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">При нажатии кнопки Arduino отправит уведомление на Raspberry Pi (простой байт).</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Raspberry Pi затем выберет случайное целое число от 1 до 4 и отправит его на Arduino.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Arduino включит светодиод, соответствующий этому номеру, и выключит другие светодиоды.</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Это наша возможность попрактиковаться во взаимодействии и синхронизации задач между Arduino и Raspberry Pi.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если вы дошли до этого пункта руководства, мы рекомендуем вам попробовать написать код самостоятельно прежде чем вы прочитаете код, который предоставлен ниже.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Кроме того, существует множество вариантов исполнения кода, поэтому ваш код может отличаться от данного и это совершенно нормально. Вы можете получить справку из справочника Arduino Serial и справочника pySerial API.                                                                                                                                             </span><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">СХЕМА</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; text-transform:uppercase;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">При подключении к Arduino через USB, вы должны обнаружить ее по адресу /dev/ttyACM0 или /dev/ttyUSB0 (иногда цифра в адресе может отличаться, к примеру /dev/ttyACM1).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Запустите</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0763724107247"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0763724107247-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ls</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> /</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">dev</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">tty</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">*</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы должны обнаружить плату. Если вы не уверены какой девайс – плата Arduino, отключите кабель и повторите.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Таким образом, вы сможете с легкостью определить имя платы Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">2. НАСТРОЙКА РАЗРЕШЕНИЯ ДЛЯ РАБОТЫ ПОСЛЕДОВАТЕЛЬНОГО ИНТЕРФЕЙСА</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете добавить своего пользователя в группу dialout, чтобы избежать таких ошибок, как: serial.serialutil.SerialException: [Errno 13] could not open port / dev / ttyACM0: [Errno 13] Permission denied: ‘/ dev / ttyACM0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0774817326207"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0774817326207-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">sudo</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">adduser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">  </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#000000;">ваше</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">_</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#000000;">имя</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">_</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#000000;">пользователя</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">dialout</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Это даст доступ к последовательным устройствам (/ dev / ttyACMx, / dev / ttyUSBx,…).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">После того, как вы добавили себя в группу dialout, вам необходимо перезагрузить Pi (или, по крайней мере, выйти из системы / войти в систему), чтобы применить изменения.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Установите библиотеку последовательного интерфейса Python на Raspberry Pi</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вам необходимо установить библиотеку, чтобы иметь возможность использовать последовательный интерфейс с Python.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этой статье мы будем использовать библиотеку pySerial.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Чтобы установить её:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077a079439657"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077a079439657-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">python3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> -</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">m</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">pip install </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pyserial</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Эта библиотека Python хорошо известна и используется во многих приложениях.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если при установке вы получаете сообщение об ошибке, например «/ usr / bin / python3: No module named pip», вам необходимо сначала установить pip с помощью</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077f700486019"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe077f700486019-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sudo apt install </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">python3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">-</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pip</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">3. ОРГАНИЗАЦИЯ СВЯЗИ ARDUINO И RASPBERRY PI</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Начнем с очень простой программы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Arduino</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Загрузите этот код со своего компьютера в Arduino, используя среду разработки Arduino.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">setup</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">begin</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">loop</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">println</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Arduino!&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">elay</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1000</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0784805556708-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Для начала, мы инициализируем последовательный порт и выбираем скорость передачи, в данном случае, 9600 бод. 9600 – это обычно используемая скорость передачи, к тому же довольно низкая.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В ваших будущих приложениях вы можете без проблем использовать скорость передачи 57600 или даже 115200 бод. В этом уроке мы продолжим с 9600.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Каждую секунду мы заставляем Arduino отправлять строку с помощью Serial.println (). Команда println () добавляет символ новой строки «\ n» в конец каждой строки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете открыть монитор последовательного порта, чтобы увидеть строку на вашем компьютере.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Python на Raspberry Pi</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">!/usr/bin/env python3</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">serial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">in_waiting</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ine</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">readline</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">().</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">decode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">rstrip</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0789250279050-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">line</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Итак, что делает этот код?</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe078e750866225"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe078e750866225-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">!/usr/bin/env python3</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe078e750866225-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Сначала мы импортируем предварительно установленную библиотеку последовательного интерфейса.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0792923074137"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0792923074137-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0792923074137-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Последовательный интерфейс инициализируется вызовом serial.Serial () вместе с несколькими параметрами:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">1) Имя последовательного устройства для Arduino: обычно ‘/ dev / ttyACM0’, ‘/ dev / ttyUSB0’ или подобное.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">2) Скорость передачи: этот параметр очень важен. Вам нужно использовать ту же скорость передачи данных, что и на Arduino, иначе все, что вы будете читать и писать, работать не будет. Итак, мы выбрали 9600, как и в Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">3) Тайм-аут: это тайм-аут для операций чтения. Здесь мы установили 1 секунду. Это означает, что когда мы читаем из Serial, программа не зависнет, если данные не поступят. Если после 1 секунды или чтения получены не все байты, функция вернет уже полученные байты.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Итак, serial.Serial () возвращает объект, который вы можете использовать для всех своих последовательных операций. Мы сохраняем его в переменной «ser».</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0797105324239"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0797105324239-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем мы используем функцию flush (). Это очистит любой буфер ввода и вывода, чтобы избежать получения или отправки неверных / неполных данных в начале связи</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">in_waiting</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">&gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ine</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">readline</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">().</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">decode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">rstrip</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe079b911323113-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">line</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В бесконечном цикле (подумайте о функции loop () в скетче Arduino) мы проверяем, доступны ли некоторые данные с помощью атрибута in_waiting (не ставьте скобки, это не функция). Если да, то мы можем прочитать данные.<br />Функция readline () будет читать все байты, пока не будет обнаружен символ новой строки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если мы просто выведем то, что получили, мы увидим надпись b’Hello from Arduino!\r\n’. Вы получаете байты при чтении из последовательного интерфейса, и нужно преобразовать (декодировать) эти байты в соответствующий тип данных. Итак, мы используем декодирование («utf-8») – также можно использовать декодирование («ascii») – для декодирования полученных данных и размещения их в строке.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Наконец, функция rstrip () специфична для строк, она позволяет удалить любые завершающие символы (новую строку, возврат каретки). Таким образом мы можем удалить «\ r» и «\ n» и получить правильную строку.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: здесь каждый раз читается полная строка. Если вы хотите прочитать определенное количество байтов – один или несколько – используйте функцию read (size=1).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">4. ТЕСТИРОВАНИЕ ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Теперь отключите плату Arduino от компьютера и подключите ее к Raspberry Pi.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Код Arduino запускается, как только плата включается.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">На Raspberry Pi сделайте файл Python исполняемым и запустите его.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">chmod</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> +</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">x</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">receive_serial_data_from_arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">receive_serial_data_from_arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">py </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">H</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">H</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a0905221405-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">H</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Работает! Строка, отправляемая Arduino, каждую секунду отображается в консоли Raspberry Pi.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ДВУНАПРАВЛЕННАЯ ПОСЛЕДОВАТЕЛЬНАЯ СВЯЗЬ МЕЖДУ RASPBERRY PI И ARDUINO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Давайте сделаем немного интереснее. Вы видели, как отправлять данные с Arduino на Raspberry Pi. В этой части вы увидите, как отправлять сообщения от Raspberry Pi с Arduino. Таким образом, у вас будут два направления коммуникации, и вы сможете создавать программы, требующие взаимодействия друг от друга.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Arduino</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">setup</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">begin</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">loop</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">available</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">tring</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">data</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readStringUntil</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'\n'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">print</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;You sent me: &quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">println</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">data</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a5170418468-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Здесь мы проверяем, получил ли Arduino данные с помощью Serial.available (). Это даст информацию о количество байтов, уже доставленных и сохраненных в буфере приема.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если поступили какие-то данные, мы используем Serial.readStringUntil () с символом новой строки «\n», чтобы перейти на следующую строку. Это похоже на функцию readline (). Все байты, полученные до “\ n”, автоматически конвертируются и добавляются в объект Arduino String.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем мы просто выводим полученные данные, добавив некоторый текст.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: если вы хотите читать байты один за другим, вы можете сделать это с помощью функции Serial.read ().</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем вам нужно будет преобразовать эти байты, если необходимо: int, string и т. д.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Python для Raspberry Pi</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">serial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">time</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi!\n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ine</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">readline</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">().</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">decode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">rstrip</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">line</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07a9063466291-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">t</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">ime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sleep</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Используйте функцию pySerial write () для отправки данных в Arduino.<br />Здесь мы добавили символ «b» перед отправляемой строкой. Это закодирует строку в байты, потому что через последовательный интерфейс можно отправлять только байты.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Любые данные, которые не являются байтами или байтовыми массивами, должны быть преобразованы перед отправкой. Если вы просто попытаетесь отправить такую строку, вы получите эту ошибку ” TypeError: unicode strings are not supported, please encode to bytes: ‘Hello from Raspberry Pi!’ ”</span></p>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: вместо</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07c4061416816"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07c4061416816-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi! \ n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете написать</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07fe532906484"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe07fe532906484-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi! \ n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">encode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">))</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">или</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0807887548074"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0807887548074-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Hello from Raspberry Pi! \ n&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">encode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'ascii'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">))</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Функция encode () закодирует строку для последовательного интерфейса.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Кроме того, мы добавляем символ новой строки «\n», потому что это то, что требуется от Arduino для завершения чтения с помощью Serial.readStringUntil (‘\n’).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Затем мы делаем то же самое, что и раньше: читаем строку, декодируем ее в строку и удаляем любой завершающий символ.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Мы не используем здесь ser.in_waiting, потому что для этого конкретного приложения мы знаем, что Arduino отправит обратно некоторые данные сразу после того, как получит строку. Кроме того, у нас есть тайм-аут в 1 секунду, чтобы не застрять на этой строке.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Наконец, мы выводим полученную строку и ждем 1 секунду с помощью time.sleep () перед отправкой следующей строки через последовательный интерфейс.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ПРОВЕРКА ДВУНАПРАВЛЕННОЙ ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">На Raspberry Pi сделайте свой файл Python исполняемым и запустите его.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">chmod</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> + </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">x</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">bidirectional_serial_communication</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">bidirectional_serial_communication</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Y</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ou </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sent </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">me</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Hello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Raspberry </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Pi</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Y</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ou </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sent </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">me</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Hello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Raspberry </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Pi</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe080c892196301-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Y</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ou </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">sent </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">me</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Hello </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">from</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Raspberry </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Pi</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">!</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Отлично! Arduino получил строку и отправил ее обратно с еще несколькими словами. Затем Raspberry Pi получил и вывел последнюю строку.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ПРИМЕР ПОСЛЕДОВАТЕЛЬНОЙ СВЯЗИ RASPBERRY PI И ARDUINO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Теперь, когда вы знаете, как настроить Arduino и Raspberry Pi для последовательной связи и написать программы для обмена данными между каждой платой, давайте создадим более сложное приложение.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этом примере к плате Arduino будут подключены 4 светодиода и одна кнопка.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Raspberry Pi и Arduino будут подключены с помощью USB-кабеля и использовать последовательную связь для связи между собой.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вот результат, который мы хотим получить:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">При нажатии кнопки Arduino отправит уведомление на Raspberry Pi (простой байт).</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Raspberry Pi затем выберет случайное целое число от 1 до 4 и отправит его на Arduino.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Arduino включит светодиод, соответствующий этому номеру, и выключит другие светодиоды.</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Это наша возможность попрактиковаться во взаимодействии и синхронизации задач между Arduino и Raspberry Pi.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если вы дошли до этого пункта руководства, мы рекомендуем вам попробовать написать код самостоятельно прежде чем вы прочитаете код, который предоставлен ниже.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Кроме того, существует множество вариантов исполнения кода, поэтому ваш код может отличаться от данного и это совершенно нормально. Вы можете получить справку из справочника Arduino Serial и справочника pySerial API.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">СХЕМА</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image839085937.png" /><span style=" font-family:'Ubuntu';"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ЧТО НУЖНО, ЧТОБЫ СОБРАТЬ ЭТУ СХЕМУ?</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Подключите 4 светодиода к контактам 9-12. Добавьте резистор 220 Ом для каждого светодиода между длинной ножкой и цифровым выводом. Более короткая ножка подключается к земле.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Добавьте кнопку с резистором 10 кОм, подключенным к земле (понижающий резистор). Одна сторона кнопки подключена к 5V, другая к цифровому выводу 5 для чтения.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Не забудьте сделать общую землю между всеми компонентами: платой Arduino, 4 светодиодами и кнопкой. Не добавляйте источник питания, если вы неправильно подключили заземление.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Подключите Arduino и Raspberry Pi с помощью кабеля USB для последовательной связи (кабель USB уже соединяет землю двух плат).</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Arduino</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">13</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">14</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">15</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">16</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">17</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">18</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">19</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">20</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">21</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">22</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">23</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">24</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">25</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">26</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">27</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">28</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">29</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">30</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">31</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">32</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">33</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">34</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">35</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">36</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">37</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">38</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">39</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">40</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">41</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">42</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">43</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">44</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">45</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">46</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">47</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">48</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">49</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">50</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">51</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">52</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">53</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">54</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">55</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">56</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">57</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">58</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">59</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">60</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">61</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">62</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">63</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">64</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">define LED_1_PIN 9</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">define LED_2_PIN 10</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">define LED_3_PIN 11</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">define LED_4_PIN 12</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#1990b8;">define BUTTON_PIN 5</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">yte</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">lastButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">LOW</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">yte</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">currentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">LOW</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">u</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">nsigned</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">long</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">lastButtonDebounceTime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">u</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">nsigned</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">long</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">buttonDebounceDelay</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">20</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">powerOffAllLEDs</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-11"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-12"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_1_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">LOW</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-13"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_2_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">LOW</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-14"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_3_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">LOW</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-15"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_4_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">LOW</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-16"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-17"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">setup</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-18"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-19"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">begin</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-20"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">inMode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_1_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">OUTPUT</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-21"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">inMode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_2_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">OUTPUT</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-22"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">inMode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_3_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">OUTPUT</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-23"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">inMode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_4_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">OUTPUT</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-24"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">inMode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">BUTTON_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">INPUT</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-25"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">owerOffAllLEDs</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">();</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-26"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-27"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">v</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">oid</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">loop</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-28"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-29"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">yte</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">digitalRead</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">BUTTON_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-30"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> != </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">lastButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-31"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">astButtonDebounceTime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">millis</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">();</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-32"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-33"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">millis</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> - </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">lastButtonDebounceTime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">buttonDebounceDelay</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-34"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> != </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">currentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-35"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">urrentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-36"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">currentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-37"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">18</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-38"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-39"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-40"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-41"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">astButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-42"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">available</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-43"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">nt</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ledNumber</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">read</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> - </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-44"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">owerOffAllLEDs</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">();</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-45"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">witch</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ledNumber</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-46"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-47"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_1_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-48"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-49"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">2</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-50"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_2_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-51"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-52"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-53"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_3_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-54"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-55"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">4</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-56"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_4_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-57"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-58"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">efault</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-59"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/ если неправильный пин, то ничего не делает</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-60"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/ все светодиоды будут выключены</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-61"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-62"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-63"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0811456883523-64"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">С помощью функции setup () мы задаем номера контактов для всех 4 светодиодов и кнопки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Также убеждаемся, что все светодиоды выключены.<br />Затем в цикле loop () мы делаем 2 вещи: обрабатываем кнопку и управляем 4 светодиодами.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Оба действия выполняются одно за другим, но обрабатываются они очень быстро, поэтому создается впечатление, что они выполняются одновременно. Это один из примеров многозадачности программы Arduino.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Первое действие: работа с кнопкой.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">13</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">yte</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">digitalRead</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">BUTTON_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> != </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">lastButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">astButtonDebounceTime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">millis</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">();</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">millis</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> - </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">lastButtonDebounceTime</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">buttonDebounceDelay</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> != </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">currentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">urrentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">currentButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">erial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">18</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-11"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-12"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe083b290431849-13"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">astButtonState</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">readValue</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Нам нужно заблокировать кнопку, чтобы проигнорировать дребезг контактов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Когда мы узнаем, что кнопка нажата, мы можем отправить некоторые данные на Raspberry Pi через последовательный интерфейс.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Здесь использована функция Serial.write (): она отправляет байт или серию байтов. Она отличается от Serial.print (), благодаря чему вывод будет приятно видеть на мониторе последовательного порта. Поскольку мы взаимодействуем с другой машиной, а не с человеком, проблем с этим нет.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Здесь мы отправляем число 18. Это просто случайное число, которое мы будем ассоциировать с состоянием «кнопка была нажата», поэтому, когда Raspberry Pi получит номер, он проверит, равно ли оно 18.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Вы можете отправлять различные команды или сообщения через последовательный интерфейс, используя разные числа.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:rgba(0,148,68,0.156863);"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Примечание: в общем случае вы также можете использовать прерывания Arduino, чтобы узнать, когда была нажата кнопка. Если вы это делаете, не используйте библиотеку Serial в прерывании. Если вам необходимо использовать прерывания, установите флаг внутри прерывания используя переменную типа boolean) и используйте Serial внутри вашей функции loop ().</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">И второе действие: управление 4 светодиодами.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">13</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">14</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">15</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">16</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">17</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">18</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">19</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">20</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">21</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">22</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">available</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> &gt; </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">0</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">nt</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ledNumber</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">read</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> - </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">owerOffAllLEDs</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">();</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">witch</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ledNumber</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_1_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">2</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_2_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-11"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-12"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_3_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-13"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-14"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">c</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">ase</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">4</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-15"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">igitalWrite</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">LED_4_PIN</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">HIGH</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">);</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-16"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-17"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">d</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">efault</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">: </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-18"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/ если неправильный пин, то ничего не делает</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-19"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">/ все светодиоды будут выключены</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-20"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">reak</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-21"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0858724424773-22"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">}</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Сначала мы проверяем, получил ли Arduino данные от Raspberry Pi по последовательному интерфейсу.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если да, мы читаем следующий байт с помощью Serial.read (). Здесь вы можете заметить небольшой трюк, состоящий в вычитании символа «0», что позволяет преобразовать символ в число, которое он собой представляет.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">После этого все очень просто. Мы выключаем все светодиоды, а затем включаем только светодиод, связанный с номером: 1, 2, 3 или 4. В случае отправки неправильного значения ни один светодиод не будет включен.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; font-weight:600; color:#444444;">Код Python для Raspberry Pi</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">13</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">14</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">#</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; font-style:italic; color:#90a1b5;">!/usr/bin/env python3</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">serial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">mport</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">random</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">__name__</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'__main__'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">Serial</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'/dev/ttyACM0'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">9600</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">timeout</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">flush</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">w</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">hile</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">True</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">n</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">umber</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ser</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">read</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> != </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">b</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">''</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">i</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">f</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">int</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">from_bytes</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">byteorder</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">=</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'big'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> == </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">18</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-11"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">l</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">ed_number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> = </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">random</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">randint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">,</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">4</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-12"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Button has been pressed.&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-13"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">p</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">rint</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot;Sending number &quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> + </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">str</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">led_number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> + </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">&quot; to Arduino.&quot;</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe0874921951769-14"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">s</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">er</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">write</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">str</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">led_number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">).</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">encode</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">(</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#55a1fb;">'utf-8'</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">))</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Сначала мы добавляем одну строку импорта: библиотеку Random.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В бесконечном цикле («while True») мы сначала читаем один байт из Serial. Тайм-аут установлен на 1 секунду. Если через секунду ничего не получено, функция read () вернет b».</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Поэтому мы проверяем, было ли то, что мы получили, просто пустым (b”) или что-то ещё. В последнем случае мы преобразуем полученные данные в целое число, чтобы их можно было использовать в коде. Для этого мы используем функцию int.from_bytes (), которая преобразует b’0x12′ (шестнадцатеричное представление 18 – 0x12) в 18.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Как видите, мы проверяем, что число 18, чтобы продолжить действие. Если нужно обрабатывать разные команды, рекомендуется использовать разные номера для каждой команды.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Мы выбираем случайное число от 1 до 4, чтобы определить, какой светодиод включить. Затем мы отправляем его с помощью функции pySerial write (). Чтобы отправить целое число через Serial, мы сначала преобразуем его в строку с помощью str (), а затем кодируем с помощью encode («utf-8»).</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ТЕСТИРОВАНИЕ ПРИЛОЖЕНИЯ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Теперь вы можете подключить Arduino к Raspberry Pi с помощью USB-кабеля. Затем Raspberry Pi будет подавать питание как на Arduino, так и на 4 светодиода.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Если у вас есть много устройств, подключенных к вашему Arduino, вы можете добавить внешний источник питания к разъему источника питания Arduino. Например, если вы хотите использовать шаговый двигатель, Raspberry Pi однозначно не хватит тока для себя, Arduino и двигателя. В данном случае с 4 светодиодами все будет работать.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Запустите свой скрипт Python и нажмите кнопку. Вы увидите лог, и один из светодиодов на Arduino будет включен.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:14px; font-weight:496; color:#444444;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#eeeeee" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">13</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#aaaaaa;">14</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-1"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">chmod</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> +</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">x</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">arduino_raspberry_pi_leds_button</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">py</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-2"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">$</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;">/</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">arduino_raspberry_pi_leds_button</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">py </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-3"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">B</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">utton </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">has been </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pressed</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-4"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ending </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">to</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-5"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">B</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">utton </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">has been </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pressed</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-6"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ending </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">2</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">to</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-7"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">B</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">utton </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">has been </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pressed</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-8"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ending </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">4</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">to</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-9"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">B</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">utton </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">has been </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pressed</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-10"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ending </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">1</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">to</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-11"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">B</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">utton </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">has been </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pressed</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-12"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ending </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">to</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-13"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">B</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">utton </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">has been </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">pressed</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-6421edebe087b842716439-14"></a><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">S</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#4abf60;">ending </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#445870;">number</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#ec4444;">3</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#3c9cc9;">to</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#006fe0;"> </span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#002d7a;">Arduino</span><span style=" font-family:'inherit'; font-size:14px; font-weight:496; color:#333333;">.</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Каждый раз, когда вы нажимаете кнопку:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Arduino обнаруживает нажатие и отправляет число 18 на Raspberry Pi.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Raspberry Pi получает данные из последовательного порта и проверяет, равно ли число 18. Если да, то выбирается случайное число (от 1 до 4) на Raspberry Pi и отправляется на Arduino.</span></li>
<li style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Arduino получает этот номер и включает соответствующий светодиод.<br />Примечание: чтобы сделать это приложение быстрее и с меньшим количеством кода, вы также можете выбрать использование протокола Firmata, например, библиотеки pyFirmata на Raspberry и библиотеки StandardFirmata на Arduino.</span></li></ol>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;">ВЫВОД</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В этом руководстве вы узнали, как обмениваться данными между Raspberry Pi и платой Arduino через последовательный интерфейс.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В жизни это вам пригодится? Ответ – да, и довольно часто.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Raspberry Pi отлично подходит для того, чтобы использовать большую электрическую мощность, встроенную в ваше приложение. Вы можете запускать законченное программное обеспечение на многих языках программирования, веб-серверах, приложениях для робототехники и т.д. Raspberry Pi, безусловно, имеет несколько GPIO, которые вы можете использовать, но они не так хороши, как Arduino. Кроме того, у вас больше шансов сжечь свой Pi, если вы сделаете что-то не так с оборудованием.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">Arduino больше подходит для непосредственного управления аппаратными датчиками и исполнительными механизмами: IMU, серводвигателями, шаговыми двигателями, всем, что требует большей мощности и т.д.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;">В целом, две платы могут отлично работать вместе: Raspberry Pi в качестве «мозга» приложения, Arduino в качестве «мускулов» и последовательная связь, для их взаимодействия.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; font-family:'Open Sans,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff; text-transform:uppercase;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:0%; background-color:#ffffff;"><span style=" font-family:'Open Sans,sans-serif'; font-size:15px; color:#444444;"><br /> </span></p></body></html>