<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1186"></a><span style=" font-family:'Ubuntu';">О</span><span style=" font-family:'Ubuntu';">бязательные параметры </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Без них ничего работать не будет! </span><a name="1068"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Идентификатор магазина в </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, который Вы придумали при </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">создании магазина</span></a><span style=" font-family:'Ubuntu';">. </span><a name="1188"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Требуемая к получению сумма (буквально — стоимость заказа, сделанного клиентом). Формат представления — число, разделитель — точка, например: </span><span style=" font-family:'Ubuntu'; font-style:italic;">123.45</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма должна быть указана в рублях. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Но, если стоимость товаров у Вас на сайте указана, например, в долларах, то при выставлении счёта к оплате Вам необходимо указывать уже пересчитанную сумму из долларов в рубли. См. необязательный параметр </span><a href="https://docs.robokassa.ru/#1204"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">OutSumCurrency</span></a><span style=" font-family:'Ubuntu';">. </span><a name="1189"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvDesc</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Описание покупки, можно использовать только символы английского или русского алфавита, цифры и знаки препинания. Максимальная длина — 100 символов. Эта информация отображается в интерфейсе </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> и в Электронной квитанции, которую мы выдаём клиенту после успешного платежа. Корректность отображения зависит от необязательного параметра</span><span style=" font-family:'Ubuntu'; font-weight:600;"> Encoding</span><span style=" font-family:'Ubuntu';"> (см. </span><a href="https://docs.robokassa.ru/#1192"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Необязательные параметры</span></a><span style=" font-family:'Ubuntu';">). </span><a name="1190"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">ignatureValue</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Контрольная сумма - хэш, число в 16-ричной форме и любом регистре (0-9, A-F), рассчитанное методом указанным в </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина. Рассчитывается по базе, содержащей следующие параметры, разделенные символом ':', с добавлением</span><span style=" font-family:'Ubuntu'; font-weight:600;"> Пароль#1</span><span style=" font-family:'Ubuntu';">  — (этот пароль Вы придумали, на этапе заполнения раздела </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">): </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';">  — если параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';"> был передан, и: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">::</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';"> — если параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';"> передан не был.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Это очень важный параметр, который обеспечивает безопасность при прохождении платежа и целостность передаваемых данных. Корректное его составление гарантирует, что злоумышленник не сможет подделать какие-либо данные в операции оплаты. </span><a name="1192"></a><span style=" font-family:'Ubuntu';">Н</span><span style=" font-family:'Ubuntu';">еобязательные параметры Вы можете пропустить этот раздел </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если Вы не планируете делать сложный скрипт или страницу оплаты, то можно сразу перейти к разделу </span><a href="https://docs.robokassa.ru/#2368"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Простейший магазин без формирования уникального номера счета</span></a><span style=" font-family:'Ubuntu';">. </span><a name="1196"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Предлагаемый способ оплаты. Тот вариант оплаты, который Вы рекомендуете использовать своим покупателям. Если параметр указан, то покупатель при переходе на сайт </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> попадёт на страницу оплаты с выбранным способом оплаты.Например:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1186372547.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пользователь может изменить его в процессе оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Доступные значения для параметра </span><span style=" font-family:'Ubuntu'; font-weight:600;">IncCurrLabel</span><span style=" font-family:'Ubuntu';"> — метки валют, Вы можете получить с использованием соответствующего интерфейса описанного в разделе: </span><a href="https://docs.robokassa.ru/#1281"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">XML интерфейсы. Интерфейс получения списка валют.</span></a><span style=" font-family:'Ubuntu';">  </span><a name="1194"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvId</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счета в магазине. Необязательный параметр, но мы настоятельно рекомендуем его использовать.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Значение этого параметра должно быть уникальным для каждой оплаты. Может принимать значения от </span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';"> до </span><span style=" font-family:'Ubuntu'; font-style:italic;">2147483647 (2</span><span style=" font-family:'Ubuntu'; font-style:italic; vertical-align:super;">31</span><span style=" font-family:'Ubuntu'; font-style:italic;">-1)</span><span style=" font-family:'Ubuntu';">. Если значение параметра пустое, или равно </span><span style=" font-family:'Ubuntu'; font-style:italic;">0,</span><span style=" font-family:'Ubuntu';"> или параметр вовсе не указан,  то при создании операции оплаты ему автоматически  будет присвоено уникальное значение.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Используйте данную возможность только в очень простых магазинах, где не требуется какого-либо контроля оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если параметр передан, то он должен быть включён в расчёт контрольной суммы (</span><a href="https://docs.robokassa.ru/#1190"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><span style=" font-family:'Ubuntu';">) </span><a name="1200"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ulture</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Язык общения с клиентом (в соответствии с ISO 3166-1). Определяет на каком языке будет страница </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, на которую попадёт покупатель. Может принимать значения: </span><span style=" font-family:'Ubuntu'; font-style:italic;">en, ru</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если параметр не передан, то используются региональные настройки браузера покупателя. Для значений отличных от </span><span style=" font-family:'Ubuntu'; font-style:italic;">ru</span><span style=" font-family:'Ubuntu';"> или </span><span style=" font-family:'Ubuntu'; font-style:italic;">en</span><span style=" font-family:'Ubuntu';"> используется английский язык. </span><a name="1201"></a><span style=" font-family:'Ubuntu'; font-weight:600;">E</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncoding</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Кодировка, в которой отображается страница </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">. По умолчанию: </span><span style=" font-family:'Ubuntu'; font-style:italic;">windows-1251</span><span style=" font-family:'Ubuntu';">. Этот же параметр влияет на корректность отображения описания покупки </span><span style=" font-family:'Ubuntu'; font-style:italic;">(</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvDesc</span><span style=" font-family:'Ubuntu'; font-style:italic;">)</span><span style=" font-family:'Ubuntu';"> в интерфейсе </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, и на правильность передачи </span><a href="https://docs.robokassa.ru/#1205"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Дополнительных пользовательских параметров</span></a><span style=" font-family:'Ubuntu';">, если в их значениях присутствует язык отличный от английского. </span><a name="1202"></a><span style=" font-family:'Ubuntu'; font-weight:600;">E</span><span style=" font-family:'Ubuntu'; font-weight:600;">mail</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-style:italic;">Email</span><span style=" font-family:'Ubuntu';"> покупателя автоматически подставляется в платёжную форму </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">. Пользователь может изменить его в процессе оплаты. </span><a name="1203"></a><span style=" font-family:'Ubuntu'; font-weight:600;">E</span><span style=" font-family:'Ubuntu'; font-weight:600;">xpirationDate</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Срок действия счета. Этот параметр необходим, чтобы запретить пользователю оплату позже указанной магазином даты при выставлении счета. Следует обратить внимание, что в некоторых случаях, если оплата производится в оффлайне, например через терминал или в салоне связи, то оплата может произойти и позже указанного срока действия счета.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата передаётся в формате, рекомендованном стандартом ISO 8601 (YYYY-MM-DDThh:mm:ss.fffffffZZZZZ), где:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">YYYY —  год, 4 цифры;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">MM — месяц, 2 цифры;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DD  — день месяца, 2 цифры (от 01 до 31);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">T  — латинский символ «T» в верхнем регистре;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">hh —  часы, 2 цифры (24-часовой формат, от 00 до 23);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">mm  — минуты, 2 цифры (от 00 до 59);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ss  — секунды, 2 цифры (от 00 до 59) (необязательно);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">fffffff  — от 1 до 7 цифр дробной части секунд (необязательно);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ZZZZZ  — описатель временной зоны (необязательно). Если он отсутсвует, подразумевается московское время (UTC+03). Может принимать значения: </li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">+hh:mm или — hh:mm — смещение относительно UTC (показывает, что указано локальное время, которое на данное число часов и минут опережает или отстает от UTC);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">символ «Z» (должен быть в верхнем регистре) означает, что момент времени представлен в UTC зоне (эквивалентно +00:00 и -00:00). <a name="1204"></a><span style=" font-weight:600;">O</span><span style=" font-weight:600;">utSumCurrency</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Способ указать валюту, в которой магазин выставляет стоимость заказа. Этот параметр нужен для того, чтобы избавить магазин от самостоятельного пересчета по курсу. Является дополнительным к обязательному параметру </span><a href="https://docs.robokassa.ru/#1188"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">OutSum</span></a><span style=" font-family:'Ubuntu';">. Если этот параметр присутствует, то </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';"> показывает полную сумму заказа, конвертированную из той валюты, которая указана в параметре </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSumCurrency</span><span style=" font-family:'Ubuntu';">,</span><span style=" font-family:'Ubuntu'; font-weight:600;"> </span><span style=" font-family:'Ubuntu';">в рубли по курсу ЦБ на момент оплаты. Принимает значения: </span><span style=" font-family:'Ubuntu'; font-style:italic;">USD,</span><span style=" font-family:'Ubuntu';"> </span><span style=" font-family:'Ubuntu'; font-style:italic;">EUR и KZT</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если передается параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSumCurrency</span><span style=" font-family:'Ubuntu';">, то он должен быть включен в расчет  контрольной суммы (</span><a href="https://docs.robokassa.ru/#1190"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><span style=" font-family:'Ubuntu';">).  В этом случае база для  расчёта будет выглядеть так: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSumCurrency</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';"> </span><a name="6415"></a><span style=" font-family:'Ubuntu'; font-weight:600;">U</span><span style=" font-family:'Ubuntu'; font-weight:600;">serIp</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Передача этого параметра (Ip конечного пользователя) желательна для усиления безопасности, предотвращению фрода и противодействию мошенникам. Этот параметр пользователь передает при оплате. При расчете контрольной суммы </span><span style=" font-family:'Ubuntu'; font-weight:600;">UserIp</span><span style=" font-family:'Ubuntu';"> ставится перед </span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';"> (кроме использования параметра </span><a href="https://docs.robokassa.ru/#6872"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Receipt</span></a><span style=" font-family:'Ubuntu';">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если этот параметр передан, то он должен быть встроен в  расчет контрольной суммы </span><a href="https://docs.robokassa.ru/#1190"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><span style=" font-family:'Ubuntu';">.  </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1205"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">Д</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ополнительные пользовательские параметры</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Они также относятся к необязательным параметрам, но несут совершенно другую смысловую нагрузку. Это такие параметры, которые </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA </span><span style=" font-family:'Ubuntu';">никак не обрабатывает, но всегда возвращает магазину в ответных вызовах.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вы собираетесь создавать магазин, в котором предусмотрено большое количество товаров, разделов и типов товара.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ваш сайт будет предоставлять разнообразные услуги, не похожие друг на друга.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">На одном сайте работают несколько ресурсов.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И самое распространённое — Вам требуется использовать дополнительную идентификацию Ваших клиентов, например, знать его ID или Логин у Вас на сайте.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">То при старте операции оплаты Вы можете передавать всю эту информацию.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">При завершении операции оплаты, мы будем возвращать Вам эти дополнительные параметры. Формироваться они должны следующим образом:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Всегда начинаться с: </span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_</span><span style=" font-family:'Ubuntu';">;</span><span style=" font-family:'Ubuntu'; font-style:italic;"> </span><span style=" font-family:'Ubuntu'; font-weight:600;">SHP_</span><span style=" font-family:'Ubuntu';">; </span><span style=" font-family:'Ubuntu'; font-weight:600;">shp_</span><span style=" font-family:'Ubuntu';"> <br />Выглядеть они могут так: </span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_1</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';">;</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_1</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">2</span><span style=" font-family:'Ubuntu';"> —  или так: </span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_oplata</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';">;</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_oplata</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">2</span><span style=" font-family:'Ubuntu';"> — или вот так: </span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_login</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Vasya</span><span style=" font-family:'Ubuntu'; font-weight:600;">; Shp_name</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Вася</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_id</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">126</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_login</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Vasya</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">При получении уведомлений от </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, Вы (Ваши скрипты) сможете использовать их по своему усмотрению. Например, принять решение куда перенаправить покупателя на Вашем сайте.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Очень важно, чтобы все параметры были отсортированы в алфавитном порядке.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_login</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Vasya</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_name</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Вася</span><span style=" font-family:'Ubuntu';"> :</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_oplata</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';"> (l – n – o)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если в значении пользовательского параметра используются русские символы (</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_name</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Вася</span><span style=" font-family:'Ubuntu';">), то значение этого параметра перед использованием в строке для подсчета контрольной суммы и отправкой его формой необходимо </span><a href="https://ru.wikipedia.org/wiki/URL#.D0.9A.D0.BE.D0.B4.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_URL"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">URL-кодировать</span></a><span style=" font-family:'Ubuntu';">. Если Вы осуществляете </span><span style=" font-family:'Ubuntu'; font-style:italic;">GET</span><span style=" font-family:'Ubuntu';"> запрос, то значение этого параметра необходимо еще раз URL-кодировать непосредственно перед формированием ссылки запроса на инициализацию оплаты. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В сумме строка может содержать до 2048 знаков.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Каждый из этих параметров </span><span style=" font-family:'Ubuntu'; font-weight:600;">ОБЯЗАТЕЛЬНО</span><span style=" font-family:'Ubuntu';"> должен быть включён в подсчёт контрольной суммы (</span><a href="https://docs.robokassa.ru/#1190"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><span style=" font-family:'Ubuntu';">). Как при старте операции, так и при её завершении. Все параметры  должны быть обязательно отсортированы в алфавитном порядке. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6865"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">искализация для клиентов Robokassa. Облачное решение. Кассовое решение. Решение Робочеки</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для клиентов Robokassa выбравших для себя </span><a href="http://fiscal.robokassa.ru/#decision_block"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Облачное</span></a><span style=" font-family:'Ubuntu';"> решение, </span><a href="https://fiscal.robokassa.ru/#decision_block"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Кассовое</span></a><span style=" font-family:'Ubuntu';"> решение или </span><a href="https://fiscal.robokassa.ru/?_ga=2.82812181.2070953949.1526290936-380379276.1423060977"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">решение Робочеки</span></a><span style=" font-family:'Ubuntu';">, в протокол добавляется новый параметр.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обращаем Ваше внимание, что для решений Робочеки и Облачное в чеке не может быть более ста товарных позиций. </span><a name="6872"></a><span style=" font-family:'Ubuntu'; font-weight:600;">R</span><span style=" font-family:'Ubuntu'; font-weight:600;">eceipt</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В этом параметре передается информация о перечне товаров/услуг, количестве, цене и ставке налога по каждой позиции.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Формат параметра – </span><span style=" font-family:'Ubuntu'; font-weight:600;">json</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пример передаваемого значения параметра: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &quot;sno&quot;: &quot;osn&quot;,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &quot;items&quot;: [</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;name&quot;: &quot;Название товара 1&quot;,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;quantity&quot;: 1.0,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;sum&quot;: 100.0,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;payment_method&quot;:&quot;full_payment&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;payment_object&quot;:&quot;commodity&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;tax&quot;: &quot;vat10&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    },</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;name&quot;: &quot;Название товара 2&quot;,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;quantity&quot;: 3,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;sum&quot;: 450,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;payment_method&quot;:&quot;full_prepayment&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;payment_object&quot;:&quot;excise&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;tax&quot;: &quot;vat120&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  ]</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">} </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Параметр включается в контрольную подпись запроса (после номера счета магазина и после </span><a href="https://docs.robokassa.ru/#6415"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">UserIp</span></a><span style=" font-family:'Ubuntu';"> (Ip конечного пользователя)). Например: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin:OutSum:InvId:Receipt:Пароль#1.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">Внимание! </span><span style=" font-family:'Ubuntu';">Поле </span><span style=" font-family:'Ubuntu'; font-weight:600;">sum</span><span style=" font-family:'Ubuntu';"> содержит полную стоимость за все единицы данного товара вместе, учитывая (если есть) скидки, бонусы и специальные/премиальные цены на отдельные единицы товара (например, третий товар за половину стоимости или за пять единиц товара скидка 12%).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">Внимание!</span><span style=" font-family:'Ubuntu';"> В связи с тем, что значение этого параметра может иметь большую длину, мы рекомендуем передавать запросы с этим параметром только методом POST, во избежание превышения максимальной длины строки запроса.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">ВАЖНО!</span><span style=" font-family:'Ubuntu';"> Значение параметра </span><span style=" font-family:'Ubuntu'; font-weight:600;">Receipt</span><span style=" font-family:'Ubuntu';"> перед использованием в строке для подсчета контрольной суммы и отправкой его формой необходимо </span><a href="https://ru.wikipedia.org/wiki/URL#.D0.9A.D0.BE.D0.B4.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_URL"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">URL-кодировать</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">Важно!</span><span style=" font-family:'Ubuntu';"> Согласно 54-ФЗ необязательно передавать номенклатуру до 1 февраля 2021 года, если к бизнесу применяются следующие системы налогообложения:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Единый налог на вменённый доход для отдельных видов деятельности (ЕНВД);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Единый сельскохозяйственный налог (ЕСХН);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Патентная система налогообложения (ПСН);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Упрощенная система налогообложения (УСН).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Это упрощает техническую подготовку проекта, поскольку не требует реализации параметра </span><span style=" font-family:'Ubuntu'; font-weight:600;">Receipt</span><span style=" font-family:'Ubuntu';">, однако не освобождает как от необходимости отчитываться перед налоговыми органами так и от обязанности использовать обновлённые ККТ. </span><a name="6866"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">оля </span><a name="6875"></a><span style=" font-family:'Ubuntu'; font-weight:600;">s</span><span style=" font-family:'Ubuntu'; font-weight:600;">no</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Система налогообложения.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Необязательное поле, если у организации имеется только один тип налогообложения.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Перечисление со значениями:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«osn» – общая СН;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«usn_income» – упрощенная СН (доходы);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«usn_income_outcome» – упрощенная СН (доходы минус расходы);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«envd» – единый налог на вмененный доход;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«esn» – единый сельскохозяйственный налог;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«patent» – патентная СН. <a name="6867"></a><span style=" font-weight:600;">i</span><span style=" font-weight:600;">tems</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Массив данных о позициях чека. </span><a name="6868"></a><span style=" font-family:'Ubuntu'; font-weight:600;">n</span><span style=" font-family:'Ubuntu'; font-weight:600;">ame</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обязательное поле. Наименование товара. Строка, максимальная длина 64 символа. Если в наименовании товара Вы используете специальные символы, например кавычки, то их обязательно необходимо экранировать. О том, как это сделать, читайте </span><a href="http://www.helpful-stuff.ru/2010/10/html-html-entities.html"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'Ubuntu';">. </span><a name="6869"></a><span style=" font-family:'Ubuntu'; font-weight:600;">s</span><span style=" font-family:'Ubuntu'; font-weight:600;">um</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обязательное поле. Полная сумма в рублях за все количество данного товара с учетом всех возможных скидок, бонусов и специальных цен.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Десятичное число: целая часть не более 8 знаков, дробная часть не более 2 знаков. </span><a name="6870"></a><span style=" font-family:'Ubuntu'; font-weight:600;">q</span><span style=" font-family:'Ubuntu'; font-weight:600;">uantity</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обязательное поле. Количество/вес конкретной товарной позиции.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Десятичное число: целая часть не более 5 знаков, дробная часть не более 3 знаков. </span><a name="7508"></a><span style=" font-family:'Ubuntu'; font-weight:600;">p</span><span style=" font-family:'Ubuntu'; font-weight:600;">ayment_method</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Признак способа расчёта.<br />Возможные значения параметра:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">full_prepayment — предоплата 100%. Полная предварительная оплата до момента передачи предмета расчёта;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">prepayment — предоплата. Частичная предварительная оплата до момента передачи предмета расчёта;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">advance — аванс;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">full_payment — полный расчёт. Полная оплата, в том числе с учетом аванса (предварительной оплаты) в момент передачи предмета расчёта;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">partial_payment — частичный расчёт и кредит. Частичная оплата предмета расчёта в момент его передачи с последующей оплатой в кредит;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">credit — передача в кредит. Передача предмета расчёта без его оплаты в момент его передачи с последующей оплатой в кредит;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">credit_payment — оплата кредита. Оплата предмета расчёта после его передачи с оплатой в кредит (оплата кредита).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Этот параметр необязательный. Если этот параметр не передан клиентом, то в чеке будет указано значение параметра по умолчанию из Личного кабинета, если же параметр передан клиентом, то именно эти значения параметра будут переданы в АТОЛ. </span><a name="7509"></a><span style=" font-family:'Ubuntu'; font-weight:600;">p</span><span style=" font-family:'Ubuntu'; font-weight:600;">ayment_object</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Признак предмета расчёта. <br />Возможные значения параметра:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">commodity — товар. О реализуемом товаре, за исключением подакцизного товара (наименование и иные сведения, описывающие товар);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">excise — подакцизный товар. О реализуемом подакцизном товаре (наименование и иные сведения, описывающие товар);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">job — работа. О выполняемой работе (наименование и иные сведения, описывающие работу);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">service — услуга. Об оказываемой услуге (наименование и иные сведения, описывающие услугу);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">gambling_bet — ставка азартной игры. О приеме ставок при осуществлении деятельности по проведению азартных игр;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">gambling_prize — выигрыш азартной игры. О выплате денежных средств в виде выигрыша при осуществлении деятельности по проведению азартных игр;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">lottery — лотерейный билет. О приеме денежных средств при реализации лотерейных билетов, электронных лотерейных билетов, приеме лотерейных ставок при осуществлении деятельности по проведению лотерей;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">lottery_prize — выигрыш лотереи. О выплате денежных средств в виде выигрыша при осуществлении деятельности по проведению лотерей;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">intellectual_activity — предоставление результатов интеллектуальной деятельности. О предоставлении прав на использование результатов интеллектуальной деятельности или средств индивидуализации;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">payment — платеж. Об авансе, задатке, предоплате, кредите, взносе в счет оплаты, пени, штрафе, вознаграждении, бонусе и ином аналогичном предмете расчета;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">agent_commission — агентское вознаграждение. О вознаграждении пользователя, являющегося платежным агентом (субагентом), банковским платежным агентом (субагентом), комиссионером, поверенным или иным агентом;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">composite — составной предмет расчета. О предмете расчета, состоящем из предметов, каждому из которых может быть присвоено значение выше перечисленных признаков;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">another — иной предмет расчета. О предмете расчета, не относящемуся к выше перечисленным предметам расчетаproperty_right – имущественное право; </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">property_right – имущественное право;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">non-operating_gain – внереализационный доход; </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">insurance_premium – страховые взносы; </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sales_tax – торговый сбор;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">resort_fee – курортный сбор.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Этот параметр необязательный. Если этот параметр не передан клиентом, то в чеке будет указано значение параметра из Личного кабинета, если же параметр передан клиентом, то именно это значение параметра будут переданы в АТОЛ. </span><a name="6871"></a><span style=" font-family:'Ubuntu'; font-weight:600;">t</span><span style=" font-family:'Ubuntu'; font-weight:600;">ax</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Это поле устанавливает номер налога в ККТ. Определяется для каждого вида товара по отдельности, но за все единицы конкретного товара вместе.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Перечисление со значениями:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«none» – без НДС;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«vat0» – НДС по ставке 0%;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«vat10» – НДС чека по ставке 10%;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«vat110» – НДС чека по расчетной ставке 10/110;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«vat20» – НДС чека по ставке 20%; </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«vat120» – НДС чека по расчетной ставке 20/120.  </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1216"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ериодические платежи</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Некоторым магазинам необходимо получать от пользователей повторяющиеся платежи — например оплату за периодические издания, ежемесячные подписки на новости и т.д. Для упрощения проведения таких платежей предусмотрен специальный сценарий.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">На первом этапе пользователь производит обычный платеж по выставленному счету, но помимо всех остальных параметров необходимо передать еще один специальный параметр, указывающий, что в дальнейшем платеж будет периодически повторяться. После успешной оплаты такого счета с помощью банковской карты, магазин получает возможность периодически повторять платеж уже без участия пользователя. Для этого магазин делает запросы на специальный </span><span style=" font-family:'Ubuntu'; font-weight:600;">URL</span><span style=" font-family:'Ubuntu';"> (https://auth.robokassa.ru/Merchant/Recurring), передавая обычные параметры и указывая номер счета, оплаченного на первом этапе. </span><a name="1217"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры </span><a name="1218"></a><span style=" font-family:'Ubuntu'; font-weight:600;">R</span><span style=" font-family:'Ubuntu'; font-weight:600;">ecurring</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Этот параметр показывает, что выставление данного счета будет повторяющимся. Принимает значение </span><span style=" font-family:'Ubuntu'; font-style:italic;">true</span><span style=" font-family:'Ubuntu';">. </span><a name="1219"></a><span style=" font-family:'Ubuntu'; font-weight:600;">P</span><span style=" font-family:'Ubuntu'; font-weight:600;">reviousInvoiceID</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Магазин передает это параметр в вызове, направляемом на </span><span style=" font-family:'Ubuntu'; font-weight:600;">URL</span><span style=" font-family:'Ubuntu';"> https://auth.robokassa.ru/Merchant/Recurring и указывает в нем номер счета первого платежа в серии повторяющихся платежей. Кроме того, в этом вызове передаются обычные обязательные и необязательные параметры, со следующими исключениями:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">параметры <span style=" font-weight:600;">PreviousInvoiceID</span> и <span style=" font-weight:600;">InvoiceID</span> обязательно должны быть указаны в запросе;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">параметров <span style=" font-weight:600;">IncCurrLabe</span>l, <span style=" font-weight:600;">ExpirationDate</span>, <span style=" font-weight:600;">Recurring</span> не должно быть в запросе. </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1222"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">нтерфейс оплаты</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1224"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">К</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">од кассы с одной кнопкой «Оплатить»</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Интерфейс </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, предлагающий перейти к оплате, нажав одну кнопку. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Предварительно магазин должен сохранить у себя передаваемую информацию (номер счёта, сумма, дата формирования и дополнительные параметры, если они используются). Адрес для отправки запроса на проведение оплаты: https://auth.robokassa.ru/Merchant/PaymentForm/FormMS.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Результатом является изображенная на иллюстрации форма:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1953419017.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Варианты кнопок Вы можете увидеть </span><a href="https://docs.robokassa.ru/#1246"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Параметры запроса: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">, </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">, </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">, </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvDesc</span><span style=" font-family:'Ubuntu';"> и </span><span style=" font-family:'Ubuntu'; font-weight:600;">SignatureValue</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">База для расчёта контрольной суммы: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1 </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">где:</span><span style=" font-family:'Ubuntu'; font-weight:600;"> Пароль#1 </span><span style=" font-family:'Ubuntu';"> – это тот самый пароль, который Вы указали в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если Вы хотите передавать нам </span><a href="https://docs.robokassa.ru/#1061"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">пользовательские параметры</span></a><span style=" font-family:'Ubuntu';">, например: </span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_login</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Vasya</span><span style=" font-family:'Ubuntu';"> и </span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_oplata</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';">, то база для расчёта контрольной суммы должна выглядеть так:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin:OutSum:InvId:Пароль#1:</span><span style=" font-family:'Ubuntu'; font-weight:600; font-style:italic;">Shp_login=</span><span style=" font-family:'Ubuntu';">Vasya</span><span style=" font-family:'Ubuntu'; font-weight:600; font-style:italic;">:Shp_oplata=</span><span style=" font-family:'Ubuntu';">1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> Пример кода (PHP), для установки на сайте, с использованием только </span><a href="https://docs.robokassa.ru/#1061"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">обязательных параметров</span></a><span style=" font-family:'Ubuntu';">: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $mrh_login = &quot;demo&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $mrh_pass1 = &quot;password_1&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $inv_id = 0;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $inv_desc = &quot;Техническая документация по ROBOKASSA&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $out_summ = &quot;8.96&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $crc = md5(&quot;$mrh_login:$out_summ:$inv_id:$mrh_pass1&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  print &quot;&lt;html&gt;&lt;script language=JavaScript &quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;src='https://auth.robokassa.ru/Merchant/PaymentForm/FormMS.js?&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;MerchantLogin=$mrh_login&amp;OutSum=$out_summ&amp;InvoiceID=$inv_id&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;&amp;Description=$inv_desc&amp;SignatureValue=$crc'&gt;&lt;/script&gt;&lt;/html&gt;&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">?&gt; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Подробное описание всех использованных параметров и их значений можно посмотреть </span><a href="https://docs.robokassa.ru/#1061"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'Ubuntu';">. Обратите внимание, что приведённый пример предполагает, что в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина выбран </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">алгоритм расчёта хэша</span></a><span style=" font-family:'Ubuntu';"> </span><span style=" font-family:'Ubuntu'; font-style:italic;">MD5.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Покупатель отправляется для оплаты в платёжный интерфейс </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, выбирает способ оплаты и совершает платёж. После чего средства перечисляются на Ваш баланс в системе </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, а на зарегистрированные Вами  </span><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a><span style=" font-family:'Ubuntu';"> мы пришлём уведомление об оплате.<br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1232"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">О</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">плата произвольной суммы</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В случае, если нужно предоставить покупателям возможность самостоятельно указывать сумму оплаты (например, для пополнения счетов или внесения пожертвований), Вы можете разместить на сайте форму с полем ввода суммы. Вы можете также указать сумму, которая будет предлагаться в форме по умолчанию.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">На странице оплаты сайта продавца размещается код, выполняющий запрос на сайт </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">. </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> возвращает в качестве ответа на запрос html код формы:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1384027537.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Примеры кода для сайта: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $mrh_login = &quot;demo&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $mrh_pass1 = &quot;password_1&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $inv_id = 0;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $inv_desc = &quot;Техническая документация по ROBOKASSA&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $def_sum = &quot;10&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $crc = md5(&quot;$mrh_login::$inv_id:$mrh_pass1&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  print &quot;&lt;html&gt;&lt;script language=JavaScript &quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;src='https://auth.robokassa.ru/Merchant/PaymentForm/FormFLS.js?&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;MerchantLogin=$mrh_login&amp;DefaultSum=$def_sum&amp;InvoiceID=$inv_id&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;&amp;Description=$inv_desc&amp;SignatureValue=$crc'&gt;&lt;/script&gt;&lt;/html&gt;&quot;; </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">?&gt; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Приведённый пример предполагает, что в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина выбран </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">алгоритм расчёта хэша</span></a><span style=" font-family:'Ubuntu';"> </span><span style=" font-family:'Ubuntu'; font-style:italic;">MD5.</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Параметр </span><a href="https://docs.robokassa.ru/#1188"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">OutSum</span></a><span style=" font-family:'Ubuntu';"> в этом варианте не участвует. Вместо него используется: </span><span style=" font-family:'Ubuntu'; font-weight:600;">DefaultSum</span><span style=" font-family:'Ubuntu';"> — сумма, отображаемая (предлагаемая для оплаты) в форме по умолчанию. В отличие от </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">, </span><span style=" font-family:'Ubuntu'; font-weight:600;">DefaultSum</span><span style=" font-family:'Ubuntu';"> не участвует в  расчёте контрольной суммы </span><a href="https://docs.robokassa.ru/#1190"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">База для расчёта контрольной суммы </span><span style=" font-family:'Ubuntu'; font-weight:600;">SignatureValue</span><span style=" font-family:'Ubuntu';">, будет выглядеть так:&quot;$mrh_login::$inv_id:$mrh_Пароль#1&quot;. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обратите внимание, что вместо параметра </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';"> пустое место. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Подробное описание всех использованных параметров и их значений можно посмотреть </span><a href="https://docs.robokassa.ru/#1061"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1236"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ример кода с использованием всех параметров</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пример кода на PHP, для установки на сайте.  </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?php</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// регистрационная информация (Идентификатор магазина, пароль #1)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// registration info (Merchant ID, password #1)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$mrh_login = &quot;demo&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$mrh_pass1 = &quot;Password_1&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// номер заказа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// number of order</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$inv_id = 12345;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// описание заказа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// order description</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$inv_desc = &quot;Техническая документация по ROBOKASSA&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// сумма заказа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// sum of order</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$out_summ = &quot;8.96&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// тип товара</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// code of goods</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$shp_item = 1;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// предлагаемая валюта платежа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// default payment e-currency</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$in_curr = &quot;BANKOCEAN2R&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// язык</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// language</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$culture = &quot;ru&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// кодировка</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// encoding</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$encoding = &quot;utf-8&quot;; </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// Адрес электронной почты покупателя</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// E-mail</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$Email = &quot;test@test.ru&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// Срок действия счёта</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// Expiration Date</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$ExpirationDate = &quot;2029-01-16T12:00&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// Валюта счёта</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// OutSum Currency</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$OutSumCurrency = &quot;USD&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// формирование подписи</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// generate signature</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$crc  = md5(&quot;$mrh_login:$out_summ:$inv_id:$OutSumCurrency:$mrh_pass1:Shp_item=$shp_item&quot;);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// форма оплаты товара</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// payment form</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  print</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;html&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;form action='https://auth.robokassa.ru/Merchant/Index.aspx' method=POST&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=MrchLogin value=$mrh_login&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=OutSum value=$out_summ&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=InvId value=$inv_id&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=Desc value='$inv_desc'&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=SignatureValue value=$crc&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=Shp_item value='$shp_item'&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=IncCurrLabel value=$in_curr&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=Culture value=$culture&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=Email value=$Email&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=ExpirationDate value=$ExpirationDate&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=hidden name=OutSumCurrency value=$OutSumCurrency&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;input type=submit value='Оплатить'&gt;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   &quot;&lt;/form&gt;&lt;/html&gt;&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">?&gt; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Подробное описание всех использованных параметров и их значений можно посмотреть </span><a href="https://docs.robokassa.ru/#1061"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'Ubuntu';">. Обратите внимание, что приведённый пример предполагает, что в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина выбран </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">алгоритм расчёта хэша</span></a><span style=" font-family:'Ubuntu';"> </span><span style=" font-family:'Ubuntu'; font-style:italic;">MD5.</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1239"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">В</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">арианты кнопок и форм</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Вы можете выбрать размер и внешний вид кнопки оплаты или формы ввода суммы. Ниже приведены возможные варианты кнопок и форм, а также </span><span style=" font-family:'Ubuntu'; font-weight:600;">URL</span><span style=" font-family:'Ubuntu';">-ы, которые нужно использовать для получения соответствующей кнопки/формы. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1246"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">В</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">арианты кнопки оплаты</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1563706145.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormM.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image891195935.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormMS.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image398941244.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormS.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image291915.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormSS.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1097744488.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormL.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1168053061.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormV.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">  </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1249"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">В</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">арианты формы со вводом суммы</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image908607055.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormFL.js</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image846713965.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/PaymentForm/FormFLS.js </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1250"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">О</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">повещение об оплате на ResultURL</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a><span style=" font-family:'Ubuntu';"> предназначен для получения Вашим сайтом оповещения об успешном платеже в автоматическом режиме.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В случае успешного проведения оплаты </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> делает запрос на </span><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a><span style=" font-family:'Ubuntu';"> (см. раздел </span><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">) с указанием параметров </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum, InvId </span><span style=" font-family:'Ubuntu';">и</span><span style=" font-family:'Ubuntu'; font-weight:600;"> SignatureValue.</span><span style=" font-family:'Ubuntu';"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Данные всегда передаются в кодировке UTF-8. </span><a name="3735"></a><span style=" font-family:'Ubuntu';">О</span><span style=" font-family:'Ubuntu';">писание параметров </span><a name="1251"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, оплаченная покупателем (та самая сумма, которую Вы прислали в </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> на страницу оплаты). </span><a name="1252"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvId</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счета в магазине. </span><a name="7050"></a><span style=" font-family:'Ubuntu'; font-weight:600;">E</span><span style=" font-family:'Ubuntu'; font-weight:600;">mail</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Email, указанный покупателем в процессе оплаты. </span><a name="7052"></a><span style=" font-family:'Ubuntu'; font-weight:600;">F</span><span style=" font-family:'Ubuntu'; font-weight:600;">ee</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Комиссия </span><a href="https://www.robokassa.ru/ru/Index.aspx"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Robokassa</span></a><span style=" font-family:'Ubuntu';"> за совершение операции. Комиссия удерживается согласно тарифу клиента. Таким образом из суммы, оплаченной покупателем (параметр </span><a href="https://docs.robokassa.ru/#1251"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">OutSum</span></a><span style=" font-family:'Ubuntu';">) вычитается комиссия </span><span style=" font-family:'Ubuntu'; font-weight:600;">Robokassa</span><span style=" font-family:'Ubuntu';">, и на расчетный счет поступит сумма </span><a href="https://docs.robokassa.ru/#1251"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">OutSum</span></a><span style=" font-family:'Ubuntu';"> минус </span><span style=" font-family:'Ubuntu'; font-weight:600;">Fee</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для клиентов, подключенных как физическое лицо параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">Fee</span><span style=" font-family:'Ubuntu';"> всегда =0. </span><a name="1253"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">ignatureValue</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Контрольная сумма - хэш, число в 16-ричной форме и любом регистре (0-9, A-F), рассчитанное методом указанным в </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">База для расчёта контрольной суммы: </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#2</span><span style=" font-family:'Ubuntu';"> — если Вы не передавали пользовательские параметры, и: </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#2</span><span style=" font-family:'Ubuntu';">:[</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пользовательские параметры</span><span style=" font-family:'Ubuntu';">].</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например: если Вы передали нам параметры с вот такими значениями:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">OutSum</span> = <span style=" font-style:italic;">100.26</span></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">InvId</span> = <span style=" font-style:italic;">450009</span></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Shp_login</span> = <span style=" font-style:italic;">Vasya</span></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Shp_oplata</span> = <span style=" font-style:italic;">1</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">— то база для расчёта контрольной суммы будет выглядеть так: </span><span style=" font-family:'Ubuntu'; font-style:italic;">100.26</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-style:italic;">450009</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-style:italic;">Пароль#2</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_login=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Vasya</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_oplata=</span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu'; font-weight:600;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Про </span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#2</span><span style=" font-family:'Ubuntu';"> можно  можно прочитать в разделе </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Ваш скрипт, находящийся по </span><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a><span style=" font-family:'Ubuntu';">, обязан проверить равенство полученной контрольной суммы и контрольной суммы, рассчитанной Вашим скриптом по параметрам, полученным от </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, а не по локальным данным магазина.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если контрольные суммы совпали, то Ваш скрипт должен ответить </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, чтобы мы поняли, что Ваш скрипт работает правильно и повторное уведомление с нашей стороны не требуется. Результат должен содержать  текст </span><span style=" font-family:'Ubuntu'; font-weight:600;">OK</span><span style=" font-family:'Ubuntu';"> и параметр </span><a href="https://docs.robokassa.ru/#1194"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">InvId</span></a><span style=" font-family:'Ubuntu';">. Например, для номера счёта </span><span style=" font-family:'Ubuntu'; font-weight:600;">5</span><span style=" font-family:'Ubuntu';"> должен быть возвращён вот такой ответ: </span><span style=" font-family:'Ubuntu'; font-weight:600;">OK5</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если контрольные суммы не совпали, то полученное оповещение некорректно, и ситуация требует разбора </span><span style=" font-family:'Ubuntu'; text-decoration: underline;">магазином</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если в настройках в качестве метода отсылки данных был выбран </span><span style=" font-family:'Ubuntu'; font-style:italic;">E-Mail</span><span style=" font-family:'Ubuntu';">, то в случае успешного проведения оплаты </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA </span><span style=" font-family:'Ubuntu';"> отправит Вам письмо на электронный адрес, указанный в поле </span><span style=" font-family:'Ubuntu'; font-weight:600;">ResultURL</span><span style=" font-family:'Ubuntu';">, со всеми выше перечисленными параметрами.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Получена оплата:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Цена: </span><span style=" font-family:'Ubuntu'; font-style:italic;">OutSum</span><span style=" font-family:'Ubuntu';"><br />inv_id: </span><span style=" font-family:'Ubuntu'; font-style:italic;">InvId</span><span style=" font-family:'Ubuntu';"><br />Метод оплаты: PaymentMethod<br /></span><span style=" font-family:'Ubuntu'; font-style:italic;">[Пользовательские параметры]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">С уважением,<br />Проект </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1261"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ереадресация пользователя при успешной оплате на SuccessURL</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В случае успешного исполнения платежа Покупатель сможет перейти по адресу, указанному Вами в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';">, там же Вы указали метод (GET или POST).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Переход пользователя по данному адресу с корректными параметрами (правильной </span><span style=" font-family:'Ubuntu'; font-weight:600;">Контрольной суммой</span><span style=" font-family:'Ubuntu';">) означает, что оплата Вашего заказа успешно выполнена.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Однако для дополнительной защиты желательно, чтобы факт оплаты проверялся скриптом, исполняемым при переходе на </span><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a><span style=" font-family:'Ubuntu';">, или путем запроса </span><a href="https://docs.robokassa.ru/#2338"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">XML-интерфейса получения состояния оплаты счета</span></a><span style=" font-family:'Ubuntu';">, и только при реальном наличии счета с номером </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';"> в БД магазина.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">На самом деле, переход пользователя по ссылке </span><a href="https://docs.robokassa.ru/#1172"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SuccessURL</span></a><span style=" font-family:'Ubuntu';"> – это формальность, которая нужна только для того, чтобы пользователь вернулся обратно к Вам и получил информацию о том, что он сделал всё правильно, и его заказ ждёт его там-то и там-то. Проводить подтверждение оплаты у себя по базе и все остальные действия, связанные с выдачей покупки, Вам нужно при получении уведомления на </span><span style=" font-family:'Ubuntu'; font-weight:600;">ResultURL</span><span style=" font-family:'Ubuntu';">, потому что</span><span style=" font-family:'Ubuntu'; font-weight:600;"> </span><span style=" font-family:'Ubuntu';">именно на него </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> передаёт подтверждающие данные об оплате в автоматическом режиме (т. е. в любом случае и без участия пользователя). </span><a name="3736"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры, передающиеся при переходе </span><a name="1262"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, оплаченная покупателем (та самая, которую Вы прислали в </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, на страницу оплаты). </span><a name="1263"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvId</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счета в магазине. </span><a name="1264"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">ignatureValue</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Контрольная сумма - хэш, число в 16-ричной форме и любом регистре (0-9, A-F), рассчитанное методом указанным в </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">База для расчёта контрольной суммы: </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';"> – если Вы не передавали пользовательские параметры, и: </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';">:[</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пользовательские параметры</span><span style=" font-family:'Ubuntu';">].</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например: если Вы передали нам параметры с вот такими значениями:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">OutSum</span> = <span style=" font-style:italic;">100.26</span></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">InvId</span> =<span style=" font-style:italic;"> 450009</span></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Shp_login</span> = <span style=" font-style:italic;">Vasya</span></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Shp_oplata</span> = <span style=" font-style:italic;">1</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">– то база для расчёта контрольной суммы будет выглядеть так: </span><span style=" font-family:'Ubuntu'; font-style:italic;">100.26</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-style:italic;">450009</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-style:italic;">Пароль#1</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_login</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Vasya</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Shp_oplata</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Про </span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';"> можно  можно прочитать в разделе </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Контрольная сумма считается от значений, пришедших в запросе без каких-либо преобразований, округления и т. п. Это сделано для того, чтобы рассчитанное значение Контрольной суммы не зависело от способов округления, используемых магазином, форматов представления чисел, разделителей целой и дробной части и т. д. </span><a name="1266"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ulture</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Язык, использовавшийся при совершении оплаты. В соответствии с </span><a href="https://ru.wikipedia.org/wiki/ISO_3166-1"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">ISO 3166-1</span></a><span style=" font-family:'Ubuntu';">. </span><a name="1269"></a><span style=" font-family:'Ubuntu'; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-weight:600;">ользовательские параметры</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">подробнее см. раздел </span><a href="https://docs.robokassa.ru/#1205"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Дополнительные пользовательские параметры</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1268"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ереадресация пользователя при отказе от оплаты на FailURL</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В случае отказа от исполнения платежа Покупатель перенаправляется по данному адресу.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Необходимо для того, чтобы Продавец мог, например, разблокировать заказанный товар на складе. При отказе от оплаты, магазину на </span><a href="https://docs.robokassa.ru/#1174"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">FailURL</span></a><span style=" font-family:'Ubuntu';"> методом, выбранным при регистрации, будут переданы параметры: </span><a name="3737"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры, передающиеся при отказе от оплаты </span><a name="1270"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, оплаченная покупателем (та самая, которую Вы прислали в </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, на страницу оплаты). </span><a name="1271"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvId</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счета в магазине. </span><a name="1272"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ulture</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Язык, использовавшийся при совершении оплаты. В соответствии с ISO 3166-1. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Переход пользователя по данному адресу, строго говоря, не означает окончательного отказа Покупателя от оплаты, нажав кнопку «Back» в браузере он может вернуться на страницы </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">. Поэтому в случае блокировки товара на складе под заказ, для его разблокирования желательно проверять факт отказа от платежа запросом запроса </span><a href="https://docs.robokassa.ru/#2338"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">XML-интерфейса получения состояния оплаты счета</span></a><span style=" font-family:'Ubuntu';">, используя в запросе номер счета </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';"> имеющийся в БД магазина (Продавца). </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7061"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Г</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">отовое решение для оплаты на сайте</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.robokassa.ru/ru/Index.aspx"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Robokassa</span></a><span style=" font-family:'Ubuntu';"> предоставляет возможность поставить на свой сайт кнопку/ссылку для оплаты товара через </span><a href="https://www.robokassa.ru/ru/Index.aspx"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Robokassa</span></a><span style=" font-family:'Ubuntu';">. Кнопка может быть как с фиксированной суммой (опция &quot;Оплатить&quot;), так и с произвольной суммой.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для настройки такой кнопки/ссылки зайдите в раздел </span><span style=" font-family:'Ubuntu'; font-weight:600;">Кнопка/ссылка на сайт</span><span style=" font-family:'Ubuntu';"> в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина. Выберите способ перехода к оплате. Проставьте нужную сумму оплаты. Добавьте описание и/или номенклатуру заказа, если нужно. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image989917486.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Скопируйте код и вставьте его на свой сайт.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image884438747.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">При клике на кнопку &quot;</span><span style=" font-family:'Ubuntu'; font-weight:600;">Оплатить</span><span style=" font-family:'Ubuntu';">&quot; плательщик будет перенаправлен на платежную страницу </span><a href="https://www.robokassa.ru/ru/Index.aspx"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Robokassa</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image222259327.png" /><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6199"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">С</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">ервис отправки SMS</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сервис SMS-сообщений поможет быстро и оперативно получать информацию о поступлении оплаты в Ваш магазин, а также передавать информацию для Ваших клиентов – сообщать о порядке прохождения и формирования заказа. После каждой покупки, совершённой в Вашем магазине, </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> предоставляет возможность отправить 3 SMS-сообщения покупателю. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для подключения сервиса SMS-рассылок информирования  об оплате заказа в магазине следует:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">активировать магазин (подключение сервиса к еще неактивированному магазину невозможно);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">перейти в</li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Меню</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Управление</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Дополнительные сервисы</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">SMS-рассылки</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1783832614.png" /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выбрать магазин из выпадающего списка;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В <a href="https://docs.robokassa.ru/#3733"><span style=" text-decoration: underline; color:#0000ff;">Технических настройках </span></a>данного магазина прописать номер телефона, на который Вы хотите получать  SMS-сообщения об оплате заказа. </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для подключения сервиса SMS-рассылок  для информирования покупателей следует:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">активировать магазин (в неактивированном магазине сервис работать не будет);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">подключить на своей стороне сервис, осуществляющий отправку SMS-сообщений. Сервис расположен по адресу: https://services.robokassa.ru/SMS/. Сервис принимает запросы методом GET. Пример запроса можно посмотреть <a href="https://docs.robokassa.ru/#7009"><span style=" text-decoration: underline; color:#0000ff;">здесь</span></a>.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">К сервису отправки SMS  подключется каждый магазин по отдельности (если их несколько).Стоимость услуги можно посмотреть </span><a href="https://docs.robokassa.ru/media/1285/dogovor_robokassa.pdf?_ga=2.35050977.1574866373.1506325863-1690336568.1464253657"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">здесь</span></a><span style=" font-family:'Ubuntu';"> (стр.25). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">SMS-сообщения могут быть отправлены только в том случае, если у Вас на балансе хватает денежных средств для осуществления отправки. </span><a name="6200"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="6201"></a><span style=" font-family:'Ubuntu'; font-weight:600;">l</span><span style=" font-family:'Ubuntu'; font-weight:600;">ogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">строка, содержащая Ваш </span><a href="https://docs.robokassa.ru/#1145"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Идентификатор магазина</span></a><span style=" font-family:'Ubuntu';"> в Личном кабинете клиента на сайте </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA.</span><span style=" font-family:'Ubuntu';"> </span><a name="6202"></a><span style=" font-family:'Ubuntu'; font-weight:600;">p</span><span style=" font-family:'Ubuntu'; font-weight:600;">hone</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">строка, содержащая номер телефона в международном формате без символа «+» (79051234567). </span><a name="6203"></a><span style=" font-family:'Ubuntu'; font-weight:600;">m</span><span style=" font-family:'Ubuntu'; font-weight:600;">essage</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">строка в кодировке UTF-8 длиной до 128 символов, содержащая текст отправляемого SMS. </span><a name="6204"></a><span style=" font-family:'Ubuntu'; font-weight:600;">s</span><span style=" font-family:'Ubuntu'; font-weight:600;">ignature</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">строка, содержащая электронную подпись подпись — хеш, рассчитываемый при отправке SMS-сообщения. Алгоритм расчёта расчёта хеша см.  в  </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках магазина</span></a><span style=" font-family:'Ubuntu';">.  Электронная подпись рассчитывается от строки содержащей следующие параметры, разделенные символом ':'  </span><span style=" font-family:'Ubuntu'; font-weight:600;">login:phone:message:Пароль#1</span><span style=" font-family:'Ubuntu';">, где </span><a href="https://docs.robokassa.ru/#1165"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;"> Пароль#1</span></a><span style=" font-family:'Ubuntu';">  — этот тот пароль, который Вы придумали на этапе заполнения раздела </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Не следует путать этот параметр с </span><a href="https://docs.robokassa.ru/#1190"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><span style=" font-family:'Ubuntu';">! </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Допустим, необходимо отправить SMS для магазина с логином </span><span style=" font-family:'Ubuntu'; font-weight:600;">demo_merchant</span><span style=" font-family:'Ubuntu';"> на номер 79051234567 с текстом «All work fine!».</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1165"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Пароль#1</span></a><span style=" font-family:'Ubuntu';"> находится в Личном кабинете клиента в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> данного магазина ( у клиента может быть несколько магазинов). Например, значение </span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#1</span><span style=" font-family:'Ubuntu';"> будет </span><span style=" font-family:'Ubuntu'; font-style:italic;">Password1drowssaP</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Таким образом строка для подписи будет выглядеть как </span><span style=" font-family:'Ubuntu'; font-style:italic;">demo_merchant:79051234567:All work fine!:Password1drowssaP</span><span style=" font-family:'Ubuntu';">. Подпись MD5 такого запроса будет следующей: 6f0ed2dbb08da5a50124a3ee0581a7f6. Подпись SHA1 будет: 271f256595a8adc63438a3d75e14c20bc3fabe85. </span><a name="6206"></a><span style=" font-family:'Ubuntu';">О</span><span style=" font-family:'Ubuntu';">писание возвращаемых данных </span><a name="6207"></a><span style=" font-family:'Ubuntu'; font-weight:600;">r</span><span style=" font-family:'Ubuntu'; font-weight:600;">esult</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">значение логического типа, указывающее на общий успех или неуспех обработки запроса.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обращаем ваше внимание, что этот параметр никак не связан с с </span><a href="https://docs.robokassa.ru/#1168"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a><span style=" font-family:'Ubuntu';">! </span><a name="6208"></a><span style=" font-family:'Ubuntu'; font-weight:600;">c</span><span style=" font-family:'Ubuntu'; font-weight:600;">ount</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">целочисленное значение, указывающее на количество SMS, доступное после этого запроса  (данное значение заполняется только в случае успешного исполнения запроса). </span><a name="6209"></a><span style=" font-family:'Ubuntu'; font-weight:600;">e</span><span style=" font-family:'Ubuntu'; font-weight:600;">rrorCode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">целочисленное значение кода ошибки обработки (0 – успешная  обработка). </span><a name="6210"></a><span style=" font-family:'Ubuntu'; font-weight:600;">e</span><span style=" font-family:'Ubuntu'; font-weight:600;">rrorMessage</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">текстовое описание возникшей в процессе обработки запроса ошибки. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Запрос можно считать успешно исполненным если поле </span><span style=" font-family:'Ubuntu'; font-weight:600;">result</span><span style=" font-family:'Ubuntu';"> = </span><span style=" font-family:'Ubuntu'; font-style:italic;">true</span><span style=" font-family:'Ubuntu';"> и </span><span style=" font-family:'Ubuntu'; font-weight:600;">errorCode</span><span style=" font-family:'Ubuntu';"> = </span><span style=" font-family:'Ubuntu'; font-style:italic;">0</span><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7009"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ример запроса методом HTTP GET</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://services.robokassa.ru/SMS/?login=demo_merchant&amp;phone=79051234567&amp;message=All%20work%20fine!&amp;signature=6f0ed2dbb08da5a50124a3ee0581a7f6 </span><a name="6212"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">0</span> – запрос обработан успешно;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">1</span> – отсутствует параметр запроса;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">2</span> – указанный партнер не найден;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">3</span> – партнер неактивен;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">4</span> – отправка SMS-сообщений для данного партнера недоступна (партнер не активировал данную услугу в личном кабинете);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">5</span> – в данный момент отправка SMS-сообщений указанным партнером невозможна;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">6</span> – первышен лимит SMS-сообщений;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">1000</span> – неверная подпись запроса;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">9999</span> – внутренняя ошибка. </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7020"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">У</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">ведомления</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Уведомления предназначены для информирования владельца магазина о поступившей оплате за заказ. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для подключения Уведомлений перейдите в </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">МЕНЮ</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Настройки</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Мой доступ</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Уведомления</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image713029694.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Подпишитесь на Уведомления в Telegram или браузере.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1481454401.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> и получайте мгновенное Уведомление об оплаченном заказе:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1145633756.png" /><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1274"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">X</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">ML интерфейсы</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1275"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">О</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">бщая информация</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">XML интерфейсы предназначены для создания развёрнутого интерфейса </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, со всевозможными информационными блоками для клиентов Вашего магазина/сайта, а также для построения более глубокой системы взаимодействия Вашего магазина/сайта с </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Запросы к интерфейсам можно отправлять методом HTTP GET или HTTP POST, либо их можно использовать как методы XML web-сервиса:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">URL для запросов HTTP GET/POST:<br />https://auth.robokassa.ru/Merchant/WebService/Service.asmx/&lt;название метода&gt;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">URL web-сервиса:<br /><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx"><span style=" text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">WSDL-описание web-сервиса находится по адресу:<br /><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx?WSDL"><span style=" text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx?WSDL</span></a></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Ответ на запрос, переданный методом HTTP GET/POST, возвращается в формате XML-документа. Документ имеет следующую структуру: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;...&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Description&gt;string&lt;/Description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;...&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    Запрошенные данные (возвращаются только в случае успешного выполнения запроса)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    Required data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/...&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/...&gt; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Элемент </span><span style=" font-family:'Ubuntu'; font-weight:600;">Result</span><span style=" font-family:'Ubuntu';"> содержит информацию о результате выполнения запроса: </span><a name="3738"></a><span style=" font-family:'Ubuntu';">И</span><span style=" font-family:'Ubuntu';">нформация о результате в элементе Result </span><a name="1278"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Результат выполнения запроса. В случае успешного выполнения – </span><span style=" font-family:'Ubuntu'; font-style:italic;">0</span><span style=" font-family:'Ubuntu';">, в противном случае код ошибки. Если во время выполнения запроса произошла ошибка, то в ответе не будет содержаться дополнительных элементов с запрашиваемыми данными. </span><a name="1279"></a><span style=" font-family:'Ubuntu'; font-weight:600;">D</span><span style=" font-family:'Ubuntu'; font-weight:600;">escription</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текстовое описание результата выполнения запроса. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1301"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">О</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">бщие коды ошибок</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Общие коды ошибок, которые могут возвращаться всеми запросами</span><span style=" font-family:'Ubuntu'; font-weight:600;">:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">2</span> – информация о магазине с таким MerchantLogin не найдена или магазин не активирован;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">1000</span> – внутренняя ошибка сервиса. </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1281"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">нтерфейс получения списка валют</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Возвращает список валют, доступных для оплаты заказов указанного магазина/сайта.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Используется для указания значений параметра </span><span style=" font-family:'Ubuntu'; font-weight:600;">IncCurrLabel</span><span style=" font-family:'Ubuntu';">, также используется для отображения доступных вариантов оплаты непосредственно на Вашем сайте, если Вы желаете дать больше информации своим клиентам. </span><a name="1282"></a><span style=" font-family:'Ubuntu'; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-weight:600;">азвание метода</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">GetCurrencies </span><a name="1283"></a><span style=" font-family:'Ubuntu'; font-weight:600;">U</span><span style=" font-family:'Ubuntu'; font-weight:600;">RL для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetCurrencies </span><a name="1284"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="1285"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1145"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Идентификатор магазина</span></a><span style=" font-family:'Ubuntu';">, строка. Подробнее см. </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">&quot;Создание Магазина&quot;</span></a><span style=" font-family:'Ubuntu';">.<br /></span><a name="1286"></a><span style=" font-family:'Ubuntu'; font-weight:600;">L</span><span style=" font-family:'Ubuntu'; font-weight:600;">anguage</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Язык для локализованных значений в ответе (названий валют, методов оплаты и т. д.). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Возможные значения:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">ru</span> – русский;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">en</span> – английский. <a name="1287"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример запроса методом HTTP GET</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetCurrencies?MerchantLogin=demo&amp;Language=ru"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetCurrencies?MerchantLogin=demo&amp;Language=ru</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1288"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат ответа для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;CurrenciesList xmlns=&quot;http://auth.robokassa.ru/Merchant/WebService/&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Description&gt;string&lt;/Description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Groups&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Group Code=&quot;string&quot; Description=&quot;string&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &lt;Items&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;Currency Label=&quot;string&quot; Name=&quot;string&quot; /&gt; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &lt;/Items&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;/Group&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Groups&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/CurrenciesList&gt; </span><a name="1290"></a><span style=" font-family:'Courier New,courier';">О</span><span style=" font-family:'Courier New,courier';">писание возвращаемых данных </span><a name="1291"></a><span style=" font-family:'Courier New,courier'; font-weight:600;">G</span><span style=" font-family:'Courier New,courier'; font-weight:600;">roups</span><span style=" font-family:'Courier New,courier';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Группы валют; могут использоваться для более удобного отображения валют в пользовательском интерфейсе. </span><a name="1292"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код группы. </span><a name="1293"></a><span style=" font-family:'Ubuntu'; font-weight:600;">D</span><span style=" font-family:'Ubuntu'; font-weight:600;">escription</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текстовое описание группы. </span><a name="1294"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">tems</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Валюты, входящие в группу. </span><a name="1295"></a><span style=" font-family:'Ubuntu'; font-weight:600;">L</span><span style=" font-family:'Ubuntu'; font-weight:600;">abel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код валюты. </span><a name="1296"></a><span style=" font-family:'Ubuntu'; font-weight:600;">N</span><span style=" font-family:'Ubuntu'; font-weight:600;">ame</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Наименование валюты. </span><a name="1299"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Нет. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1300"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">нтерфейс получения списка доступных способов оплаты</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Возвращает список способов оплаты, доступных для оплаты заказов указанного магазина/сайта. <br />Используется для отображения доступных способов оплаты непосредственно на Вашем сайте, если Вы желаете дать больше информации своим клиентам. Основное отличие от </span><a href="https://docs.robokassa.ru/#1281"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Списка валют</span></a><span style=" font-family:'Ubuntu';"> – здесь не показывается детальная информация по всем вариантам оплаты, здесь отображаются группы/методы оплаты. </span><a name="1302"></a><span style=" font-family:'Ubuntu'; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-weight:600;">азвание метода</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">GetPaymentMethods </span><a name="1303"></a><span style=" font-family:'Ubuntu'; font-weight:600;">U</span><span style=" font-family:'Ubuntu'; font-weight:600;">RL для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetPaymentMethods </span><a name="1304"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="1305"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1145"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Идентификатор магазина</span></a><span style=" font-family:'Ubuntu';">, строка. Подробнее см. </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Создание Магазина</span></a><span style=" font-family:'Ubuntu';">. </span><a name="1306"></a><span style=" font-family:'Ubuntu'; font-weight:600;">L</span><span style=" font-family:'Ubuntu'; font-weight:600;">anguage</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Язык для локализованных значений в ответе (названий валют, методов оплаты и т. д.). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Возможные значения:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">ru</span> - русский, </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">en</span> – английский. <a name="1318"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример запроса методом HTTP GET</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetPaymentMethods?MerchantLogin=demo&amp;Language=ru"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetPaymentMethods?MerchantLogin=demo&amp;Language=ru</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1313"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат ответа для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;PaymentMethodsList xmlns=&quot;http://auth.robokassa.ru/Merchant/WebService/&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Description&gt;string&lt;/Description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Methods&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Method Code=&quot;string&quot; Description=&quot;string&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Method Code=&quot;string&quot; Description=&quot;string&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Methods&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/PaymentMethodsList&gt; </span><a name="1308"></a><span style=" font-family:'Courier New,courier';">О</span><span style=" font-family:'Courier New,courier';">писание возвращаемых данных </span><a name="1309"></a><span style=" font-family:'Courier New,courier'; font-weight:600;">M</span><span style=" font-family:'Courier New,courier'; font-weight:600;">ethods</span><span style=" font-family:'Courier New,courier';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Доступные способы оплаты. </span><a name="1310"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код способа оплаты. </span><a name="1311"></a><span style=" font-family:'Ubuntu'; font-weight:600;">D</span><span style=" font-family:'Ubuntu'; font-weight:600;">escription</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текстовое описание способа оплаты. </span><a name="1312"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Нет. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1315"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">нтерфейс расчёта суммы к оплате с учётом комиссии сервиса</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Позволяет рассчитать сумму, которую должен будет заплатить покупатель, с учётом комиссий </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> (согласно тарифам) и тех систем, через которые покупатель решил совершать оплату заказа. Может быть использован как для Ваших внутренних расчётов, так и для дополнительного информирования клиентов на Вашем сайте.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Только для физических лиц. </span><a name="1316"></a><span style=" font-family:'Ubuntu'; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-weight:600;">азвание метода</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">GetRates </span><a name="1317"></a><span style=" font-family:'Ubuntu'; font-weight:600;">U</span><span style=" font-family:'Ubuntu'; font-weight:600;">RL для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetRates </span><a name="1319"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="1320"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1145"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Идентификатор магазина</span></a><span style=" font-family:'Ubuntu';">, строка. Подробнее см. </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Создание Магазина</span></a><span style=" font-family:'Ubuntu';">. </span><a name="1322"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код валюты, для которой нужно произвести расчет суммы к оплате. Если оставить этот параметр пустым, расчет будет произведен для всех доступных валют. </span><a name="1323"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, которую хочет получить магазин. Исходя из этой суммы и текущих курсов валют для каждой валюты/варианта оплаты в списке будет рассчитана сумма, которую должен будет заплатить клиент. </span><a name="1321"></a><span style=" font-family:'Ubuntu'; font-weight:600;">L</span><span style=" font-family:'Ubuntu'; font-weight:600;">anguage</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Язык для локализованных значений в ответе (названий валют, методов оплаты и т. д.). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Возможные значения:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">ru</span> - русский, </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">en</span> – английский. <a name="1324"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример запроса методом HTTP GET</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetRates?MerchantLogin=demo&amp;IncCurrLabel=&amp;OutSum=10.45&amp;Language=ru"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/GetRates?MerchantLogin=demo&amp;IncCurrLabel=&amp;OutSum=10.45&amp;Language=ru</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1325"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат ответа для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;RatesList xmlns=&quot;http://auth.robokassa.ru/Merchant/WebService/&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Description&gt;string&lt;/Description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Groups&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Group Code=&quot;string&quot; Description=&quot;string&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &lt;Items&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;Currency Label=&quot;string&quot; Name=&quot;string&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">          &lt;Rate IncSum=&quot;decimal&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;/Currency&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &lt;/Items&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;/Group&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Groups&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/RatesList&gt; </span><a name="1327"></a><span style=" font-family:'Courier New,courier';">О</span><span style=" font-family:'Courier New,courier';">писание возвращаемых данных </span><a name="1328"></a><span style=" font-family:'Courier New,courier'; font-weight:600;">G</span><span style=" font-family:'Courier New,courier'; font-weight:600;">roups</span><span style=" font-family:'Courier New,courier';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Группы валют. Могут использоваться для более удобного отображения валют в пользовательском интерфейсе. </span><a name="2313"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код группы. </span><a name="2314"></a><span style=" font-family:'Ubuntu'; font-weight:600;">D</span><span style=" font-family:'Ubuntu'; font-weight:600;">escription</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текстовое описание группы. </span><a name="2315"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">tems</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Валюты, входящие в группу. </span><a name="2316"></a><span style=" font-family:'Ubuntu'; font-weight:600;">L</span><span style=" font-family:'Ubuntu'; font-weight:600;">abel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код валюты. </span><a name="2317"></a><span style=" font-family:'Ubuntu'; font-weight:600;">N</span><span style=" font-family:'Ubuntu'; font-weight:600;">ame</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Наименование валюты. </span><a name="2318"></a><span style=" font-family:'Ubuntu'; font-weight:600;">R</span><span style=" font-family:'Ubuntu'; font-weight:600;">ate/IncSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, которую должен будет заплатить пользователь с учетом комиссии сервиса. </span><a name="3756"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Нет. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2320"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">нтерфейс расчёта суммы к получению магазином</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Позволяет рассчитать сумму к получению, исходя из текущих курсов </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, по сумме, которую заплатит пользователь.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Только для физических лиц. </span><a name="2321"></a><span style=" font-family:'Ubuntu'; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-weight:600;">азвание метода</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">CalcOutSumm </span><a name="2322"></a><span style=" font-family:'Ubuntu'; font-weight:600;">U</span><span style=" font-family:'Ubuntu'; font-weight:600;">RL для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/CalcOutSumm </span><a name="2323"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="2324"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1145"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Идентификатор магазина</span></a><span style=" font-family:'Ubuntu';">, строка. Подробнее см. </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Создание Магазина</span></a><span style=" font-family:'Ubuntu';">. </span><a name="2325"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код валюты, для которой нужно произвести расчет суммы к оплате. </span><a name="2329"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, которую должен будет заплатить пользователь. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx/CalcOutSumm?MerchantLogin=demo&amp;IncCurrLabel=YandexMerchantOceanR&amp;IncSum=100"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/CalcOutSumm?MerchantLogin=demo&amp;IncCurrLabel=YandexMerchantOceanR&amp;IncSum=100</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2327"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат ответа для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;CalcSummsResponseData xmlns=&quot;http://auth.robokassa.ru/Merchant/WebService/&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;OutSum&gt;decimal&lt;/OutSum&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/CalcSummsResponseData&gt; </span><a name="2330"></a><span style=" font-family:'Courier New,courier';">О</span><span style=" font-family:'Courier New,courier';">писание возвращаемых данных </span><a name="2331"></a><span style=" font-family:'Courier New,courier'; font-weight:600;">O</span><span style=" font-family:'Courier New,courier'; font-weight:600;">utSum</span><span style=" font-family:'Courier New,courier';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма к получению интернет магазином.<br /></span><a name="3758"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Нет. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2338"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">нтерфейс получения состояния оплаты счета</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Возвращает детальную информацию о текущем состоянии и реквизитах оплаты. <br />Необходимо помнить, что операция инициируется не в момент ухода пользователя на оплату, а позже – после подтверждения его платежных реквизитов, т.е. Вы вполне можете не находить операцию, которая по Вашему мнению уже должна начаться. </span><a name="2339"></a><span style=" font-family:'Ubuntu'; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-weight:600;">азвание метода</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">OpState </span><a name="2340"></a><span style=" font-family:'Ubuntu'; font-weight:600;">U</span><span style=" font-family:'Ubuntu'; font-weight:600;">RL для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/OpState </span><a name="2341"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="2344"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1145"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Идентификатор магазина</span></a><span style=" font-family:'Ubuntu';">, строка. Подробнее см. </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Создание Магазина</span></a><span style=" font-family:'Ubuntu';">. </span><a name="2345"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvoiceID</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счета магазина, целое число. </span><a name="2346"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">ignature</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Контрольная сумма – хэш, число в 16-ричной форме и любом регистре (0-9, A-F), рассчитанное методом указанным в </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина. Базой для расчёта служат все </span><a href="https://docs.robokassa.ru/#1186"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">обязательные параметры</span></a><span style=" font-family:'Ubuntu';">, разделенные символом «:», с добавлением</span><a href="https://docs.robokassa.ru/#1166"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;"> Пароль#2</span></a><span style=" font-family:'Ubuntu';">, (указывается при заполнении раздела </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настроек</span></a><span style=" font-family:'Ubuntu';">) т. е.: </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvoiceID</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#2</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пример запроса методом HTTP GET</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://auth.robokassa.ru/Merchant/WebService/Service.asmx/OpState?MerchantLogin=demo&amp;InvoiceID=1932809606&amp;Signature=9e2bf657364d25acf5905b4ac4f50e39"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/OpState?MerchantLogin=demo&amp;InvoiceID=1932809606&amp;Signature=9e2bf657364d25acf5905b4ac4f50e39</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2348"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат ответа для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;OperationStateResponse xmlns=&quot;http://auth.robokassa.ru/Merchant/WebService/&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Description&gt;string&lt;/Description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;State&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;Code&gt;integer&lt;/Code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;RequestDate&gt;datetime&lt;/RequestDate&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;StateDate&gt;datetime&lt;/StateDate&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/State&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;Info&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;IncCurrLabel&gt;string&lt;/IncCurrLabel&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;IncSum&gt;decimal&lt;/IncSum&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;IncAccount&gt;string&lt;/IncAccount&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;PaymentMethod&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &lt;Code&gt;string&lt;/Code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &lt;Description&gt;string&lt;/Description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;/PaymentMethod&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;OutCurrLabel&gt;string&lt;/OutCurrLabel&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;OutSum&gt;decimal&lt;/OutSum&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  &lt;/Info&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/OperationStateResponse&gt; </span><a name="2350"></a><span style=" font-family:'Courier New,courier';">О</span><span style=" font-family:'Courier New,courier';">писание возвращаемых данных </span><a name="2351"></a><span style=" font-family:'Courier New,courier'; font-weight:600;">S</span><span style=" font-family:'Courier New,courier'; font-weight:600;">tate</span><span style=" font-family:'Courier New,courier';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текущее состояние оплаты. </span><a name="2352"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код текущего состояния операции оплаты счета. Возможные значения:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">5</span> – операция только инициализирована, деньги от покупателя не получены. </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">От пользователя ещё не поступила оплата по выставленному ему счёту или платёжная система, через которую пользователь совершает оплату, ещё не подтвердила факт оплаты.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">10</span> – операция отменена, деньги от покупателя не были получены. </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Оплата не была произведена. Покупатель отказался от оплаты или не совершил платеж, и операция отменилась по истечении времени ожидания. Либо платёж был совершён после истечения времени ожидания. В случае возникновения спорных моментов по запросу от продавца или покупателя, операция будет перепроверена службой поддержки, и в зависимости от результата может быть переведена в другое состояние.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">50</span> – деньги от покупателя получены, производится зачисление денег на счет магазина. </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Операция перешла в состояние зачисления средств на баланс продавца. В этом статусе платёж может задержаться на некоторое время. Если платёж «висит» в этом состоянии уже долго (более 20 минут), это значит, что возникла проблема с зачислением средств продавцу.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">60 </span>– деньги после получения были возвращены покупателю. </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Полученные от покупателя средства возвращены на его счёт (кошелёк), с которого совершалась оплата.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">80 </span>– исполнение операции приостановлено. </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Внештатная остановка. Произошла внештатная ситуация в процессе совершения операции (недоступны платежные интерфейсы в системе, из которой/в которую совершался платёж и т.д.) Или операция была приостановлена системой безопасности. Операции, находящиеся в этом состоянии, разбираются нашей службой поддержки в ручном режиме.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">100 </span>– операция выполнена, завершена успешно. </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Платёж проведён успешно, деньги зачислены на баланс продавца, уведомление об успешном платеже отправлено продавцу. </span><a name="2353"></a><span style=" font-family:'Ubuntu'; font-weight:600;">R</span><span style=" font-family:'Ubuntu'; font-weight:600;">equestDate</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата/время ответа на запрос. </span><a name="2354"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">tateDate</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата/время последнего изменения состояния операции. </span><a name="2355"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nfo</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Информация об операции оплаты счета. </span><a name="2356"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Валюта, которой платил клиент. </span><a name="2357"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, оплаченная клиентом, в единицах валюты </span><span style=" font-family:'Ubuntu'; font-weight:600;">IncCurrLabel</span><span style=" font-family:'Ubuntu';">. </span><a name="2358"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncAccount</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счёта (кошелёк, номер банковской карты) клиента в платежной системе, через которую производилась оплата. </span><a name="2359"></a><span style=" font-family:'Ubuntu'; font-weight:600;">P</span><span style=" font-family:'Ubuntu'; font-weight:600;">aymentMethod</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Способ оплаты, выбранный клиентом. </span><a name="2360"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode (способа оплаты)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код способа оплаты. </span><a name="2361"></a><span style=" font-family:'Ubuntu'; font-weight:600;">D</span><span style=" font-family:'Ubuntu'; font-weight:600;">escription</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текстовое описание. </span><a name="2362"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Валюта, в которой получает средства магазин. </span><a name="2363"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, зачисленная на счет магазина, в единицах валюты </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutCurrLabel</span><span style=" font-family:'Ubuntu';">. </span><a name="3760"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">1 </span>– неверная цифровая подпись запроса;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">3 </span>– информация об операции с таким <span style=" font-weight:600;">InvoiceID</span> не найдена.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">4 –</span> найдено две операции с таким <span style=" font-weight:600;">InvoiceID</span>. Такая ошибка возникает когда есть тестовая оплата с тем же <span style=" font-weight:600;">InvoiceID</span>. </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2364"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат данных типа дата/время</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата/время передаются в формате, рекомендованном стандартом ISO 8601 (YYYY-MM-DDThh:mm:ss.fffffff;ZZZZZ), где:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">YYYY - год, 4 цифры;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">MM - месяц, 2 цифры;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DD - день месяца, 2 цифры (от 01 до 31);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">T – латинский символ «T» в верхнем регистре;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">hh - часы, 2 цифры (24-часовой формат, от 00 до 23);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">mm - минуты, 2 цифры (от 00 до 59);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ss - секунды, 2 цифры (от 00 до 59);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">fffffff – от 1 до 7 цифр дробной части секунд;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ZZZZZ - описатель временной зоны, может принимать значения: </li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">+hh:mm или -hh:mm – смещение относительно UTC (показывает, что указано локальное время, которое на данное число часов и минут опережает или отстает от UTC);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">символ «Z» (должен быть в верхнем регистре), означает, что момент времени представлен в UTC зоне (эквивалентно +00:00 и -00:00).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например: </span><span style=" font-family:'Ubuntu'; font-weight:600;">2010-02-11T16:07:11.6973153+03:00</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6334"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">К</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ак заплатить комиссию за покупателя?</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">С помощью </span><a href="https://docs.robokassa.ru/#2320"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">XML-интерфейса расчёта суммы к получению</span></a><span style=" font-family:'Ubuntu';">, можно заплатить комиссию </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> за покупателя.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Только для физических лиц.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"><br />Механизм выставления счета в </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> остаётся неизменным, система всё так же будет прибавлять свою комиссию к сумме, которую Вы передаете нам для выставления счета. <br />Интерфейс позволяет рассчитать сумму, которую получит магазин, чтобы покупатель не оплачивал комиссию </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Рассмотрим пример.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пусть товар или услуга на Вашем сайте стоит 100 рублей. Если Вы переадресуете покупателя на страницу оплаты </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> с этой суммой, то наша система прибавит к 100 рублям свою комиссию, для примера – 5%. В результате покупателю будет выставлен счёт на 105 рублей. Теперь  воспользуемся данным XML интерфейсом и сделаем так, чтобы покупатель заплатил 100 рублей, а не 105, то есть, чтобы Ваш магазин компенсировал </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> 5% комиссии.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Расчёт должен выполняться до переадресации клиента.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если товар или услуга на Вашем сайте стоит 100 рублей, то сначала Вы, с помощью XML интерфейса, рассчитываете сумму, которую получит Ваш магазин, если покупатель заплатит ровно 100 рублей выбранным способом оплаты. Пример запроса для магазина:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/CalcOutSumm?MerchantLogin=$mrh_login&amp;IncCurrLabel=$inccurrlabel&amp;IncSum=100</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> возвращает Вам рассчитанную сумму, пусть это будет 95.24 рублей.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обратите внимание, что расчёт будет правильным только для выбранного способа оплаты!</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Теперь Вы можете сформировать запрос на инициализацию оплаты и указать в качестве параметра </span><a href="https://docs.robokassa.ru/#1186"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">OutSum</span></a><span style=" font-family:'Ubuntu';"> значение 95.24, а в качестве </span><a href="https://docs.robokassa.ru/#1192"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">IncCurrLabel</span></a><span style=" font-family:'Ubuntu';"> – $inccurrlabel.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Не забудьте, что в  запросе на инициализацию оплаты необходимо указывать параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">IncCurrLabel</span><span style=" font-family:'Ubuntu';"> с той же меткой валюты, которую Вы использовали при расчёте суммы. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2367"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">В</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">иды магазинов</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2368"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ростейший магазин без формирования уникального номера счета</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Такой магазин не может каким-либо способом контролировать процесс получения платежей и Вам, скорее всего, придется в ручном режиме проставлять статусы оплаты заказов в магазине и отгружать товар покупателям.<br />Основная схема работы магазина:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">пользователь, выбрав способ оплаты и нажав кнопку &quot;Оплатить&quot;, попадает на страницу <span style=" font-weight:600;">ROBOKASSA</span>, где производит оплату (на счёт магазина при этом поступают средства в Вашей валюте).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">по окончании процесса на e-mail адрес оператора магазина посылается сообщение о произведенной операции.  </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В разделе </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';"> необходимо заполнить поля:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Алгоритм расчёта хэша</span> – <span style=" font-style:italic;">MD5</span> (значение по умолчанию).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1168"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a> – e-mail адрес оператора магазина, метод отправки данных – e-mail.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1172"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">SuccessURL</span></a>  – адрес страницы, на которую отправится покупатель после оплаты, метод отправки данных не имеет значения (можно оставить главную страницу сайта, либо разместить по этому адресу страницу с текстом, говорящим клиенту, что его платёж успешно проведён).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#1174"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">FailURL</span></a> – адрес страницы, на которую направляется покупатель после неудачной оплаты, метод отправки данных не имеет значения (можно оставить главную страницу сайта, либо разместить по этому адресу страницу с текстом, говорящим клиенту, что его платёж не проведён).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для такого магазина и скрипт необходим самый простой. В принципе необходим даже не скрипт, а ссылка для перехода на совершение оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для работы Вам понадобится самый простой текстовый редактор, например - Блокнот.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Рассмотрим процедуру создания такой ссылки по шагам:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Воспользуемся шаблоном запроса для перехода на оплату:</li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/Index.aspx?</span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">[значение]</span><span style=" font-family:'Ubuntu';">&amp;</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">[значение]</span><span style=" font-family:'Ubuntu';">&amp;</span><span style=" font-family:'Ubuntu'; font-weight:600;">Description</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">[значение]</span><span style=" font-family:'Ubuntu';">&amp;</span><span style=" font-family:'Ubuntu'; font-weight:600;">SignatureValue</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">[значение]</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Заменим <span style=" font-style:italic;">[значение]</span> соответствующими данными, (подробнее можно почитать <a href="https://docs.robokassa.ru/#1186"><span style=" text-decoration: underline; color:#0000ff;">тут</span></a>).</li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например, для исходных данных:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">MerchantLogin</span> = <span style=" font-style:italic;">demo</span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(идентификатор Вашего магазина из раздела </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">)</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">OutSum</span> = <span style=" font-style:italic;">11</span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(cтоимость товара у Вас на сайте, рубли)</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Description</span> =<span style=" font-style:italic;"> Покупка в демо магазине</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(описание покупки)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">В результате получаем ссылку:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/Index.aspx?</span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">demo</span><span style=" font-family:'Ubuntu';">&amp;</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">11</span><span style=" font-family:'Ubuntu';">&amp;</span><span style=" font-family:'Ubuntu'; font-weight:600;">Description</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">Покупка в демо магазине</span><span style=" font-family:'Ubuntu';">&amp;</span><span style=" font-family:'Ubuntu'; font-weight:600;">SignatureValue</span><span style=" font-family:'Ubuntu';">=</span><span style=" font-family:'Ubuntu'; font-style:italic;">[значение]</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В полученной ссылке отсутствует только последнее значение – <a href="https://docs.robokassa.ru/#1190"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a>. Его необходимо вычислить.</li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Строка данных, от которой его считают выглядит так:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">OutSum</span><span style=" font-family:'Ubuntu';">::</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль #1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';"> – подставляем в неё соответствующие значения и получаем:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-style:italic;">demo</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-style:italic;">11</span><span style=" font-family:'Ubuntu';">::</span><span style=" font-family:'Ubuntu'; font-style:italic;">[Пароль #1]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-style:italic;">[Пароль #1]</span><span style=" font-family:'Ubuntu';"> – это пароль, придуманный Вами при заполнении раздела </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обратите внимание,что обязательный параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">InvId</span><span style=" font-family:'Ubuntu';"> присутствует в подсчете </span><span style=" font-family:'Ubuntu'; font-weight:600;">SignatureValue</span><span style=" font-family:'Ubuntu';">, хотя и с пустым значением.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> Для вычисления Контрольной суммы, <span style=" font-weight:600;">SignatureValue</span>, по алгоритму MD5 можно использовать один из on-line калькуляторов, например, </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="http://sgeneri.ru/"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">http://sgeneri.ru</span></a><span style=" font-family:'Ubuntu';"> – или подобный.</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Собираем готовую ссылку для размещения на Вашем сайте:</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">https://auth.robokassa.ru/Merchant/Index.aspx?</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">MerchantLogin</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">=</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-style:italic; text-decoration: underline; color:#0000ff;">demo</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">&amp;</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">OutSum</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">=</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-style:italic; text-decoration: underline; color:#0000ff;">11</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">&amp;</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Description</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">=</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-style:italic; text-decoration: underline; color:#0000ff;">Покупка в демо магазине</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">&amp;</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">=</span></a><a href="https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;&amp;Description=Покупка%20в демо магазине&amp;SignatureValue=2c113e992e2c985e43e348ff3c12f32b"><span style=" font-family:'Ubuntu'; font-style:italic; text-decoration: underline; color:#0000ff;">2c113e992e2c985e43e348ff3c12f32b</span></a></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">(По этой ссылке Вы можете совершить настоящий платёж на 11 рублей в нашем Демонстрационном магазине.)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В результате всех этих действий Вы получите ссылку для размещения на своём сайте без какого-либо дополнительного программирования. И начинайте принимать платежи. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2372"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">М</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">агазин формирующий уникальный номер счета</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Схема работы магазина:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">скрипт магазина, сформировав уникальный номер счета и подпись, направляет пользователя на оплату;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">после оплаты <span style=" font-weight:600;">ROBOKASSA</span> уведомляет магазин, что платёж совершён, вызывая скрипт, находящийся по адресу <a href="https://docs.robokassa.ru/#1168"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a>. Скрипту передаются параметры платежа, подписанные <span style=" font-weight:600;">ROBOKASSA</span> с использованием <a href="https://docs.robokassa.ru/#1166"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">Пароля/#2</span></a>. Если в момент оповещения между <span style=" font-weight:600;">ROBOKASSA</span> и магазином отсутствует связь, <span style=" font-weight:600;">ROBOKASSA</span> будет повторять попытки ещё три раза, а в случае неудачи администратору магазина будет отправлен e-mail следующего вида:</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Получена оплата:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">Цена</span><span style=" font-family:'Ubuntu';">: </span><span style=" font-family:'Ubuntu'; font-style:italic;">стоимость заказа</span><span style=" font-family:'Ubuntu';"><br /></span><span style=" font-family:'Ubuntu'; font-weight:600;">inv_id</span><span style=" font-family:'Ubuntu';">: </span><span style=" font-family:'Ubuntu'; font-style:italic;">номер заказа</span><span style=" font-family:'Ubuntu';"><br /></span><span style=" font-family:'Ubuntu'; font-weight:600;">Метод оплаты</span><span style=" font-family:'Ubuntu';">: </span><span style=" font-family:'Ubuntu'; font-style:italic;">метод, которым был оплачен заказ</span><span style=" font-family:'Ubuntu';"><br /></span><span style=" font-family:'Ubuntu'; font-weight:600;">shp_</span><span style=" font-family:'Ubuntu';">...</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">С уважением,<br />Проект </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">после оплаты пользователь перенаправляется на страницу по адресу <a href="https://docs.robokassa.ru/#1172"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">SuccessURL</span></a> – <span style=" font-weight:600;">ROBOKASSA</span> передаёт те же параметры, что и на <span style=" font-weight:600;">ResultURL</span>, но подписанные с использованием <a href="https://docs.robokassa.ru/#1165"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">Пароля/#1</span></a>.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В разделе </span><a href="https://docs.robokassa.ru/#3733"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';"> следует прописать:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Алгоритм расчёта хэша</span> – <span style=" font-style:italic;">MD5</span> (значение по умолчанию).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">ResultURL</span> – e-mail адрес оператора магазина, метод отправки данных – e-mail.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">SuccessURL</span>  – адрес страницы, на которую отправится покупатель после оплаты, метод отправки данных не имеет значения (можно оставить главную страницу сайта, либо разместить по этому адресу страницу с текстом, говорящим клиенту, что его платёж успешно проведён).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">FailURL</span> – адрес страницы, на которую направляется покупатель после неудачной оплаты, метод отправки данных не имеет значения (можно оставить главную страницу сайта, либо разместить по этому адресу страницу с текстом, говорящим клиенту, что его платёж не проведён).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для такого магазина необходим несложный скрипт.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для работы Вам понадобится самый простой текстовый редактор, например - Блокнот.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Рассмотрим процедуру создания такой ссылки по шагам.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Воспользуемся шаблоном запроса для перехода на оплату.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В работе рекомендуется использовать самый простой текстовый редактор – Блокнот.</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Возьмём готовый запрос для перехода на оплату: <br />https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=$mrh_login&amp;OutSum=$out_summ&amp;InvoiceID=$inv_id&amp;Description=$inv_desc&amp;SignatureValue=$crc</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Подставим в него все уже имеющиеся у нас в наличии данные, исхода из описания <a href="https://docs.robokassa.ru/#1186"><span style=" text-decoration: underline; color:#0000ff;">Обязательных параметров</span></a>. <br />Делается это путём замены переменных вида «$mrh_login» на соответствующие им значения. <br />Исходные данные: <br />$mrh_login =<span style=" font-style:italic;"> demo</span> (Идентификатор магазина, прописанный в разделе «Технические настройки» Вашего магазина);<br />$out_summ = <span style=" font-style:italic;">11</span> (Стоимость товара у Вас на сайте, кол-во рублей);<br />$inv_id = <span style=" font-style:italic;">0</span> (Уникальный номер заказа в Вашем магазине. Указываем именно <span style=" font-weight:600;">ноль</span>, чтобы <span style=" font-weight:600;">ROBOKASSA</span> сама вела нумерацию заказов); <br />$inv_desc = <span style=" font-style:italic;">Покупка в демо магазине</span> (Описание покупки);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получаем ссылку вида:<br />https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=<span style=" font-style:italic;">demo</span>&amp;OutSum=<span style=" font-style:italic;">11</span>&amp;InvoiceID=0&amp;Description=<span style=" font-style:italic;">Покупка в демо магазине</span>&amp;SignatureValue=$crc</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В полученной ссылке отсутствует только последнее значение <span style=" font-weight:600;">SignatureValue</span>. И его нам необходимо вычислить.<br />Строка данных, из которой мы будем его считать:<br />$mrh_login:$out_summ:$inv_id:$mrh_pass1<br />Подставляем в неё соответствующие значения:<br /><span style=" font-style:italic;">demo</span>:<span style=" font-style:italic;">11</span>:<span style=" font-style:italic;">0</span>:Пароль#<span style=" font-style:italic;">1 </span><br /><a href="https://docs.robokassa.ru/#1165"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">Пароль/#1</span></a><a href="https://docs.robokassa.ru/#1165"><span style=" text-decoration: underline; color:#0000ff;"> </span></a>– Это пароль, придуманный Вами при заполнении раздела <a href="https://docs.robokassa.ru/#1160"><span style=" text-decoration: underline; color:#0000ff;">Технические настройки</span></a>. Здесь умышлено не показан реальный пароль.<br />Для вычисления Контрольной суммы SignatureValue по алгоритму MD5 можно использовать один из on-line калькуляторов. Например, <br /><a href="http://sgeneri.ru/"><span style=" text-decoration: underline; color:#0000ff;">http://sgeneri.ru/ </span></a><br />Теперь берём строку с данными <span style=" font-style:italic;">demo</span>:<span style=" font-style:italic;">11</span>:<span style=" font-style:italic;">0</span>:Пароль#<span style=" font-style:italic;">1 </span>  и вычисляем по ней Контрольную сумму. (Не забудьте указать правильный пароль!!!)<br />Результат для нашего примера: 56f978e24d1b51fa7b5ace90a4f4ba53</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Собираем готовую ссылку для размещения на Вашем сайте: <br />https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=demo&amp;OutSum=11&amp;InvoiceID=0&amp;Description=Покупка в демо<br />магазине&amp;SignatureValue=56f978e24d1b51fa7b5ace90a4f4ba53 <br />(По этой ссылке Вы можете совершить платёж на 11 рублей в нашем Демонстрационном магазине.)</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В результате всех этих действий Вы получите ссылку для размещения на своём сайте, без какого-либо дополнительного программирования. И можете начинать принимать платежи. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2384"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">М</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">агазин с применением всех интерфейсов</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Использование всех возможностей </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, таких как </span><a href="https://docs.robokassa.ru/#1205"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Дополнительные пользовательские параметры</span></a><span style=" font-family:'Ubuntu';"> и </span><a href="https://docs.robokassa.ru/#1274"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">XML-интерфейсы</span></a><span style=" font-family:'Ubuntu';">, позволит Вам настроить максимально глубокую интеграцию между нашей системой и Вашим интернет-магазином. Это позволит обеспечить большую гибкость в использовании </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, и позволит Вам обслуживать своих клиентов на качественно новом уровне. <br /></span><a href="https://docs.robokassa.ru/#1274"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">XML-интерфейсы</span></a><span style=" font-family:'Ubuntu';"> позволяют предварительно получать </span><a href="https://docs.robokassa.ru/#1315"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">курсы валют</span></a><span style=" font-family:'Ubuntu';"> </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> и </span><a href="https://docs.robokassa.ru/#1281"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">список принимаемых валют</span></a><span style=" font-family:'Ubuntu';">,  рассчитывать как сумму к получению магазином, так и сумму к оплате для покупателя. Что значительно расширяет Ваши возможности по построению удобного пользовательского интерфейса Вашего сайта.<br />Также Вы можете в любой момент времени </span><a href="https://docs.robokassa.ru/#2338"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">проверить состояние оплаты</span></a><span style=" font-family:'Ubuntu';"> заказа. Это даст Вам большую стабильность и  повышенную безопасность. К примеру, Ваша система может перед автоматической выдачей товара проверять состояние оплаты заказа непосредственно у </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">А передача </span><a href="https://docs.robokassa.ru/#1205"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Дополнительных пользовательских параметров</span></a><span style=" font-family:'Ubuntu';">, даёт Вам возможность настроить работу своего сайта с максимальным комфортом для Ваших клиентов и сотрудников. Так использование этих параметров позволит Вам распределить денежные потоки внутри своего ресурса относительно тех вариантов услуг или товаров, которые Вы продаёте. <br />Ещё один вариант использования этих параметров – это дополнительная идентификация Ваших клиентов, что очень часто бывает необходимо для корректного зачисления платежа. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2385"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">Р</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">учная обработка заказов</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если Вы хотите, чтобы клиент мог оплатить счет только после проверки заказа менеджером и согласования с клиентом комплекта поставки, а также если Вы не имеете сайта, а работаете, например, по телефону, Вам очень сложно разобраться в технических деталях подключения и не требуется программист –  Вам необходимо использовать следующий вариант работы. В Личном кабинете Вам доступен раздел «Выставление счетов», который представляет собой простой и понятный интерфейс по созданию письма клиенту со ссылкой на оплату конкретного заказа, проверенного Вашим менеджером и согласованного с клиентом. Для реализации такого механизма работы с </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> Вам необходимо:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Зарегистрироваться на нашем сайте <a href="http://robokassa.ru/ru/Index.aspx"><span style=" text-decoration: underline; color:#0000ff;">www.robokassa.ru</span></a>.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После создания магазина, в разделе <a href="https://docs.robokassa.ru/#1160"><span style=" text-decoration: underline; color:#0000ff;">Технические настройки</span></a> нужно прописать два пароля (обязательное условие).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В полях <a href="https://docs.robokassa.ru/#1168"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a> нужно выбрать метод отсылки данных <span style=" font-style:italic;">E-Mail</span> и указать электронный почтовый адрес, на который Вы планируете получать уведомления об успешных платежах, для дальнейшей обработки их Вашими менеджерами.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Больше никаких дополнительных настроек не требуется, при условии, что Вы планируете работать только в ручном режиме. </li></ol>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2386"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">екоторые особенности, которые необходимо учитывать при отправке пользователя на совершение оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если у Вас на сайте товары представлены в единственном экземпляре, и при формировании заказа товар резервируется под конкретного покупателя на какой-то промежуток времени, то Вам необходимо учесть следующие моменты: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">cама операция оплаты стартует только в тот момент, когда пользователь нажимает на кнопку «Оплатить» или «Перейти к оплате» в интерфейсе <span style=" font-weight:600;">ROBOKASSA</span>.  (с этого момента начинается отсчёт времени на совершение оплаты), т. е. если пользователь перешёл с Вашего сайта в интерфейс <span style=" font-weight:600;">ROBOKASSA</span>, выбрал (выбирал/смотрел) вариант оплаты, но не нажал на кнопку «Оплатить»/«Перейти к оплате», то никакие записи в системе <span style=" font-weight:600;">ROBOKASSA</span> не ведутся.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Есть некоторые способы оплаты время ожидания оплаты по которым, составляет 1-2 часа, и есть такие, которые могут идти от суток до недели. </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если говорить более подробно, то: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">банковские карты  и электронные платёжные системы (электронные деньги): QIWI,  Яндекс.Деньги, Единый кошелек и т. д. – время, отведённое на оплату – 45 минут. . Исключение QIWI – сутки (24 часа).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Терминалы моментальной оплаты: Элекснет и прочие – время, отведённое на оплату – двое суток (48 часов). Исключение QIWI – сутки (24 часа).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Интернет– банки: Альфа-клик, ВТБ24 и т. д. – время, отведённое на оплату сутки (24 часа).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Банкоматы – время, отведённое на оплату – сутки (24 часа).</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Другие способы оплаты: Мобильная коммерция – 1 час, салоны Связной и Евросеть – двое суток (48 часов).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Есть ещё одна категория ситуаций, на которую следует обратить внимание – оплату пользователь произвёл, но либо после истечения времени ожидания (обычно электронными валютами), либо система, через которую проводилась оплата, не прислала нам подтверждения этой оплаты, и у нас она отменилась по истечение срока ожидания, либо платёж был совершён с ошибкой, и требуется дополнительная идентификация и корректировка платежа в ручном режиме. <br />После чего клиент сообщает, что он оплатил, но ничего не получил. И начинает искать свои деньги и товар. <br />Это может произойти в тот же день, спустя несколько часов, или спустя несколько месяцев. <br />Если оплата действительно подтверждена, </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> предпримет все необходимые действия,  завершит платёж и отправит Вам оповещение об этом. Соответственно произойти это может спустя продолжительное количество времени. Обычно, не более суток, но иногда задержка может быть существенной. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2387"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Р</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">абота в тестовом режиме. Отладка, проверка, настройка.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Тестовый режим предназначен для отладки взаимодействия между магазином и сервисом</span><span style=" font-family:'Ubuntu'; font-weight:600;"> ROBOKASSA</span><span style=" font-family:'Ubuntu';"> и особенно полезен для магазина, который еще не был активирован.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Тестовая среда представляет из себя интерфейс «платёжных страниц» </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, но без возможности провести оплату. Она позволяет отладить процесс оплаты и воспользоваться тестовым XML-интерфейсом получения состояния оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Тестовая среда облегчает подключение магазинов к интерфейсам сервиса</span><span style=" font-family:'Ubuntu'; font-weight:600;"> ROBOKASSA</span><span style=" font-family:'Ubuntu';">. Она позволяет получать детальное описание ошибок, возникающих при проверке передаваемых параметров, имитировать получение различных состояний операции без необходимости проведения реального платежа.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для работы в тестовом режиме  обязателен параметр  </span><span style=" font-family:'Ubuntu'; font-weight:600;">IsTest</span><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Внимание! Для работы в тестовом режиме используется специальный тестовый набор паролей, не совпадающих с основными рабочими паролями Вашего магазина. Они прописываются в </span><a href="https://docs.robokassa.ru/#4140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">специальном блоке</span></a><span style=" font-family:'Ubuntu';"> в </span><a href="https://docs.robokassa.ru/#3733"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> Вашего магазина. Это делается для обеспечения безопасности Вашего интернет-магазина, чтобы злоумышленник не имел возможности «обмануть» Ваш интернет-магазин. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2388"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">нтерфейс оплаты</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для работы в тестовом режиме магазину необходим дополнительный набор паролей, которые не должны совпадать с </span><a href="https://docs.robokassa.ru/#1165"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Пароль #1</span></a><span style=" font-family:'Ubuntu';"> и </span><a href="https://docs.robokassa.ru/#1166"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Пароль #2</span></a><span style=" font-family:'Ubuntu';">. Они прописываются в </span><a href="https://docs.robokassa.ru/#4140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">специальном</span></a><span style=" font-family:'Ubuntu';"> разделе Технических настроек магазина. Там же выбирается</span><a href="https://docs.robokassa.ru/#4141"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;"> </span></a><a href="https://docs.robokassa.ru/#4141"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Алгоритм расчёта хэша</span></a><span style=" font-family:'Ubuntu';"> для тестовых платежей. Алгоритм расчета контрольной суммы для тестового режима должен совпадать с рабочим.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span><img src="image662380117.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Инициализировать тестовую оплату можно через свой Личный кабинет клиента, через свой магазин с помощью модифицированного скрипта, или вручную собрать ссылку на платежные страницы </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для того, что бы со стороны магазина инициировать тестовую операцию оплаты, в скрипт к остальным параметрам необходимо добавить параметр </span><span style=" font-family:'Ubuntu'; font-weight:600;">IsTest</span><span style=" font-family:'Ubuntu';"> со значением </span><span style=" font-family:'Ubuntu'; font-style:italic;">1</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если данный параметр вообще отсутствует, или в качестве значения параметра </span><span style=" font-family:'Ubuntu'; font-weight:600;">IsTest</span><span style=" font-family:'Ubuntu';"> передан </span><span style=" font-family:'Ubuntu'; font-style:italic;">0,</span><span style=" font-family:'Ubuntu';"> или значение параметра пусто, то такой запрос не считается тестовым  и происходит инициализация обычной операции оплаты. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4168"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">И</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">нициализация тестовой оплаты через магазин</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Рассмотрим  подробно тестирование оплаты через свой магазин с помощью модифицированного скрипта:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Воспользуемся вот этим  <a href="https://docs.robokassa.ru/#4154"><span style=" text-decoration: underline; color:#0000ff;">скриптом</span></a>;<br /></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь уже  заменены <span style=" font-style:italic;">[значение]</span> соответствующими данными, (подробнее можно почитать <a href="https://docs.robokassa.ru/#1186"><span style=" text-decoration: underline; color:#0000ff;">тут</span></a>), следует проделать аналогичные шаги для Вашего тестируемого магазина:</li>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">MerchantLogin</span> = <span style=" font-style:italic;">Test1999<br /></span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(идентификатор магазина из раздела </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технические настройки</span></a><span style=" font-family:'Ubuntu';">);</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Pass1</span> =<span style=" font-style:italic;"> Пароль#1</span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(</span><a href="https://docs.robokassa.ru/#4142"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Пароль#1</span></a><span style=" font-family:'Ubuntu';"> из тестовых настроек);</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">InvId</span> =<span style=" font-style:italic;"> 678678</span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(номер счета);</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">OutSum</span> = <span style=" font-style:italic;">100<br /></span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(cтоимость товара, рубли);</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Description</span> =<span style=" font-style:italic;"> Товары для животных</span></li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(описание покупки);</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.robokassa.ru/#4170"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">IsTest</span></a> =<span style=" font-style:italic;"> 1</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:2; text-indent:0px;"><span style=" font-family:'Ubuntu';">(тестовый параметр, указатель на тестовую оплату);</span></p>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Настроим оповещение об оплате на <a href="https://docs.robokassa.ru/#1250"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">ResultURL</span></a> для работы с тестовым интерфейсом. Для этого потребуется в расчёт <a href="https://docs.robokassa.ru/#1253"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">SignatureValue</span></a> включить <a href="https://docs.robokassa.ru/#4143"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">Пароль#2</span></a> из тестовых настроек.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После сохранения этих настроек Вы можете инициировать из Вашего магазина тестовую операцию оплаты.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В результате Вы окажетесь <a href="https://docs.robokassa.ru/#4075"><span style=" text-decoration: underline; color:#0000ff;">здесь</span></a> и можете продолжить тестировать процесс оплаты в Вашем магазине. </li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4075"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">роцесс тестовой оплаты</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">После того как Вы нажали кнопку «Оплатить» на странице Вашего Личного кабинета, произойдет переход на страницу тестовой оплаты сайта </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1198262861.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">После выбора способа оплаты можно переходить к оплате.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image359512680.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Или вернуться и выбрать другой способ оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1956477694.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">После того, как Вы нажмёте кнопку «Перейти к оплате», Вы попадёте на специальную страницу тестовой оплаты где можно выбрать одно из двух возможных завершений: успешное или неуспешное.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image65282462.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пример успешно прошедшей тестовой оплаты. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image178729376.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Пример неуспешной тестовой оплаты.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image691816408.png" /><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Обратите внимание, что тестовые оплаты не отображаются в поиске операций в Личном кабинете клиента. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4154"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ример кода на PHP с параметром IsTest</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $mrh_login = &quot;Test1999&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $mrh_pass1 = &quot;password_1&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $inv_id = 678678;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $inv_desc = &quot;Товары для животных&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $out_summ = &quot;100.00&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $IsTest = 1;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  $crc = md5(&quot;$mrh_login:$out_summ:$inv_id:$mrh_pass1&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  print &quot;&lt;html&gt;&lt;script language=JavaScript &quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;src='https://auth.robokassa.ru/Merchant/PaymentForm/FormMS.js?&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;MerchantLogin=$mrh_login&amp;OutSum=$out_summ&amp;InvoiceID=$inv_id&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      &quot;&amp;Description=$inv_desc&amp;SignatureValue=$crc&amp;IsTest=$IsTest'&gt;&lt;/script&gt;&lt;/html&gt;&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">?&gt; </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3877"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">X</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ML интерфейс получения состояния оплаты счета</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Этот XML интерфейс предназначен для отладки системы взаимодействия Вашего магазина/сайта с </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> в тестовом режиме.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">XML Интерфейс получения состояния оплаты счета возвращает детальную информацию о текущем состоянии и реквизитах оплаты. <br />Необходимо помнить, что операция инициируется не в момент перехода пользователя в интерфейс </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';">, а позже – после подтверждения его платежных реквизитов, т.е. Вы вполне можете не находить операцию, которая по Вашему мнению уже должна начаться. Для того, чтобы протестировать XML интерфейс получения состояния счета, следует запустить </span><a href="https://docs.robokassa.ru/#4168"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">тестовую операцию оплаты</span></a><span style=" font-family:'Ubuntu';">.  </span><a name="3878"></a><span style=" font-family:'Ubuntu'; font-weight:600;">Н</span><span style=" font-family:'Ubuntu'; font-weight:600;">азвание метода</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">OpState </span><a name="3880"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">араметры запроса </span><a name="3881"></a><span style=" font-family:'Ubuntu'; font-weight:600;">M</span><span style=" font-family:'Ubuntu'; font-weight:600;">erchantLogin</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Идентификатор магазина, строка. Подробнее см. </span><a href="https://docs.robokassa.ru/#1140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Создание Магазина</span></a><span style=" font-family:'Ubuntu';">.<br /></span><a name="3882"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nvoiceID</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счета магазина, целое число. </span><a name="4170"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">sTest</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Параметр указывающий, что запрос к системе </span><span style=" font-family:'Ubuntu'; font-weight:600;">ROBOKASSA</span><span style=" font-family:'Ubuntu';"> будет тестовым, и оплата не производилась. </span><a name="3883"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">ignature</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Контрольная сумма – хэш, число в 16-ричной форме и любом регистре (0-9, A-F), рассчитанное методом указанным в Технических настройках магазина. Базой для расчёта служат все </span><a href="https://docs.robokassa.ru/#1186"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">обязательные параметры</span></a><span style=" font-family:'Ubuntu';">, разделенные символом «:», с добавлением </span><span style=" font-family:'Ubuntu'; font-weight:600;"> </span><a href="https://docs.robokassa.ru/#4143"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Пароль#2</span></a><span style=" font-family:'Ubuntu'; font-weight:600;"> </span><span style=" font-family:'Ubuntu'; text-decoration: underline;">из тестовых настроек</span><span style=" font-family:'Ubuntu';"> (указывается при заполнении раздела </span><a href="https://docs.robokassa.ru/#4140"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настроек</span></a><span style=" font-family:'Ubuntu';">) т. е. </span><span style=" font-family:'Ubuntu'; font-weight:600;">MerchantLogin</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">InvoiceID</span><span style=" font-family:'Ubuntu';">:</span><span style=" font-family:'Ubuntu'; font-weight:600;">Пароль#2</span><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">https://auth.robokassa.ru/Merchant/WebService/Service.asmx/OpState?MerchantLogin=Test1999&amp;InvoiceID=100&amp;IsTest=1&amp;Signature=061d7da048c2edd112c7632399e727c0 </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3885"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат ответа для запросов HTTP GET/POST</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;operationstateresponse xmlns=&quot;http://merchant.roboxchange.com/WebService/&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;code&gt;0&lt;/code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;/result&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;state&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;code&gt;100&lt;/code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;requestdate&gt;2015-12-01T19:05:38.4065961+03:00&lt;/requestdate&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;statedate&gt;2015-12-01T19:05:38.4065961+03:00&lt;/statedate&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;/state&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;info&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;inccurrlabel&gt;YandexMerchantOceanR&lt;/inccurrlabel&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;incsum&gt;100.00&lt;/incsum&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;incaccount&gt;Тестовый аккаунт&lt;/incaccount&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;paymentmethod&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">            &lt;code&gt;EMoney&lt;/code&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">            &lt;description&gt;Электронными деньгами&lt;/description&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;/paymentmethod&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;outcurrlabel&gt;BNR&lt;/outcurrlabel&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        &lt;outsum&gt;100.00&lt;/outsum&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &lt;/info&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&lt;/operationstateresponse&gt; </span><a name="3887"></a><span style=" font-family:'Courier New,courier';">О</span><span style=" font-family:'Courier New,courier';">писание возвращаемых данных </span><a name="3888"></a><span style=" font-family:'Courier New,courier'; font-weight:600;">S</span><span style=" font-family:'Courier New,courier'; font-weight:600;">tate</span><span style=" font-family:'Courier New,courier';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текущее состояние оплаты. </span><a name="3889"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код текущего состояния операции оплаты тестового счета:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">5</span> – операция только инициализирована, оплата ещё не начиналась.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">10</span> – операция отменена.</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">100</span> - операция выполнена, завершена успешно. </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Ubuntu';">Тестовый платёж проведён успешно, уведомление об успешном тестовом платеже отправлено продавцу. </span><a name="3890"></a><span style=" font-family:'Ubuntu'; font-weight:600;">R</span><span style=" font-family:'Ubuntu'; font-weight:600;">equestDate</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата/время ответа на запрос. </span><a name="3891"></a><span style=" font-family:'Ubuntu'; font-weight:600;">S</span><span style=" font-family:'Ubuntu'; font-weight:600;">tateDate</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата/время последнего изменения состояния операции. </span><a name="3892"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">nfo</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Информация об операции оплаты счета. </span><a name="3893"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Валюта, которой платил клиент. </span><a name="3894"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, оплаченная клиентом, в единицах валюты </span><span style=" font-family:'Ubuntu'; font-weight:600;">IncCurrLabel</span><span style=" font-family:'Ubuntu';">. </span><a name="3895"></a><span style=" font-family:'Ubuntu'; font-weight:600;">I</span><span style=" font-family:'Ubuntu'; font-weight:600;">ncAccount</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Номер счёта (кошелёк, номер банковской карты) клиента в платежной системе, через которую производилась оплата. </span><a name="3896"></a><span style=" font-family:'Ubuntu'; font-weight:600;">P</span><span style=" font-family:'Ubuntu'; font-weight:600;">aymentMethod</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Способ оплаты, выбранный клиентом. </span><a name="3897"></a><span style=" font-family:'Ubuntu'; font-weight:600;">C</span><span style=" font-family:'Ubuntu'; font-weight:600;">ode (способа оплаты)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Код способа оплаты. </span><a name="3898"></a><span style=" font-family:'Ubuntu'; font-weight:600;">D</span><span style=" font-family:'Ubuntu'; font-weight:600;">escription</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Текстовое описание. </span><a name="3899"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utCurrLabel</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Валюта, в которой получает средства магазин. </span><a name="3900"></a><span style=" font-family:'Ubuntu'; font-weight:600;">O</span><span style=" font-family:'Ubuntu'; font-weight:600;">utSum</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Сумма, зачисленная на счет магазина, в единицах валюты </span><span style=" font-family:'Ubuntu'; font-weight:600;">OutCurrLabel</span><span style=" font-family:'Ubuntu';">. </span><a name="3901"></a><span style=" font-family:'Ubuntu';">К</span><span style=" font-family:'Ubuntu';">оды ошибок, специфичные для этого интерфейса </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">1 </span>– неверная цифровая подпись запроса;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">3 </span>– информация об операции с таким <span style=" font-weight:600;">InvoiceID</span> не найдена. </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3903"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормат данных типа дата/время</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Дата/время передаются в формате, рекомендованном стандартом ISO 8601 (YYYY-MM-DDThh:mm:ss.fffffffZZZZZ), где:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">YYYY - год, 4 цифры;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">MM - месяц, 2 цифры;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DD - день месяца, 2 цифры (от 01 до 31);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">T – латинский символ «T» в верхнем регистре;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">hh - часы, 2 цифры (24-часовой формат, от 00 до 23);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">mm - минуты, 2 цифры (от 00 до 59);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ss - секунды, 2 цифры (от 00 до 59);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">fffffff – от 1 до 7 цифр дробной части секунд</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ZZZZZ - описатель временной зоны, может принимать значения: </li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">+hh:mm или -hh:mm – смещение относительно UTC (показывает, что указано локальное время, которое на данное число часов и минут опережает или отстает от UTC);</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">символ «Z» (должен быть в верхнем регистре), означает, что момент времени представлен в UTC зоне (эквивалентно +00:00 и -00:00).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Например: </span><span style=" font-family:'Ubuntu'; font-weight:600;">2010-02-11T16:07:11.6973153+03:00</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2392"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">римеры</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Все  приведённые примеры предполагают, что в </span><a href="https://docs.robokassa.ru/#1160"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Технических настройках</span></a><span style=" font-family:'Ubuntu';"> магазина в качестве </span><a href="https://docs.robokassa.ru/#4146"><span style=" font-family:'Ubuntu'; font-weight:600; text-decoration: underline; color:#0000ff;">Алгоритма расчёта хэша</span></a><span style=" font-family:'Ubuntu';"> используется </span><span style=" font-family:'Ubuntu'; font-style:italic;">MD5</span><span style=" font-family:'Ubuntu';">. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2393"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">P</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">ERL</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2394"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормирование URL переадресации пользователя на оплату</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># connect standard module for building MD5-signs</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">use Digest::MD5 qw(md5_hex);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $mrh_login = &quot;test&quot;;      ### your login here</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $mrh_pass1 = &quot;securepass1&quot;;   ### merchant pass1 here</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># order properties</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $inv_id    = 5;        ### shop's invoice number </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                          ### (unique for shop's lifetime)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $inv_desc  = &quot;desc&quot;;   ### invoice desc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $out_summ  = &quot;5.12&quot;;   ### invoice summ</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># build CRC value</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $crc  =</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    md5_hex(&quot;$mrh_login:$out_summ:$inv_id:$mrh_pass1&quot;);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># build URL</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $url = &quot;https://auth.robokassa.ru/Merchant/Index.aspx?MrchLogin=$mrh_login&amp;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &quot;OutSum=$out_summ&amp;InvId=$inv_id&amp;Desc=$inv_desc&amp;SignatureValue=$crc&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># print URL if you need</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;Content-type: text/html\n\n&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;a href='/ru/$url'&gt;Payment link&lt;/a&gt;&quot;; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2396"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">олучение уведомления об исполнении операции (ResultURL)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># as a part of ResultURL script </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># connect standard module for building MD5-signs</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">use Digest::MD5 qw(md5_hex);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># define function for retrieval http-paratemters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sub http_Prm;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $mrh_pass2 = &quot;securepass2&quot;;  ### merchant pass2 here</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># load parameters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my %q = http_Prm();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># loaded parameters: $q{OutSum}, $q{InvId}, $q{SignatureValue}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$q{SignatureValue} =~ s/([a-z])/uc &quot;$1&quot;/eg;   # force uppercase</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># build own CRC</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $my_crc = md5_hex(&quot;$q{OutSum}:$q{InvId}:$mrh_pass2&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$my_crc =~ s/([a-z])/uc &quot;$1&quot;/eg;   # force uppercase</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># define the correctness state</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $is_correct = ($my_crc eq $q{SignatureValue} ? 1 : 0);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">if (!$is_correct)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  print &quot;Content-type: text/html\n\nbad sign\n&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  die &quot;incorrect sign passed&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># OK state</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># print OK signature</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;Content-type: text/html\n\nOK$q{InvId}\n&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># perform some action (change order state to paid)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">exit();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># just function to load http parameters, you can use own</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sub http_Prm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  my %query;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    # POST params</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my ($q_sz, $i, @q, @cmd);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my $l     = $ENV{'CONTENT_LENGTH'};</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my $qtext = &quot;&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    while ($l&gt;0)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    { $l-=sysread(STDIN, $qtext, $l, length($qtext)); }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    @q    = split(&quot;&amp;&quot;, $qtext);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    $q_sz = scalar(@q);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    for($i=0; $i&lt;$q_sz; $i++)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      @cmd = split(&quot;=&quot;, $q[$i]);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/\+/ /g;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/%([0-9A-Fa-f]{2})/chr(hex($1))/eg;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $query{$cmd[0]} = $cmd[1];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    # GET params</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my ($q_sz, $i, $qtext, @q, @cmd);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    $qtext = $ENV{'QUERY_STRING'};</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    @q    = split(&quot;&amp;&quot;, $qtext);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    $q_sz = scalar(@q);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    for($i=0; $i&lt;$q_sz; $i++)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      @cmd = split(&quot;=&quot;, $q[$i]);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/\+/ /g;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/%([0-9A-Fa-f]{2})/chr(hex($1))/eg;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $query{$cmd[0]} = $cmd[1];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  return %query;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">} </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2398"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">роверка параметров в скрипте завершения операции (SuccessURL)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># as a part of SuccessURL script </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># connect standard module for building MD5-signs</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">use Digest::MD5 qw(md5_hex);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># define function for retrieval http-paratemters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sub http_Prm;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $mrh_pass1 = &quot;securepass1&quot;;  ### merchant pass1 here</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># load parameters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my %q = http_Prm();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># loaded parameters: $q{OutSum}, $q{InvId}, $q{SignatureValue}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$q{SignatureValue} =~ s/([a-z])/uc &quot;$1&quot;/eg;   # force uppercase</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># build own CRC</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $my_crc = md5_hex(&quot;$q{OutSum}:$q{InvId}:$mrh_pass1&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$my_crc =~ s/([a-z])/uc &quot;$1&quot;/eg;   # force uppercase</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># define the correctness state</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">my $is_correct = ($my_crc eq $q{SignatureValue} ? 1 : 0);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">if (!$is_correct)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  print &quot;Content-type: text/html\n\nbad sign\n&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  die &quot;incorrect sign passed&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># you can check here, that resultURL was called </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># (for better security)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># OK, payment proceeds</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;Content-type: text/html\n\n&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">echo &quot;Thank you for using our service\n&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">exit();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># just function to load http parameters, you can use own</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sub http_Prm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  my %query;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    # POST params</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my ($q_sz, $i, @q, @cmd);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my $l     = $ENV{'CONTENT_LENGTH'};</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my $qtext = &quot;&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    while ($l&gt;0)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    { $l-=sysread(STDIN, $qtext, $l, length($qtext)); }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    @q    = split(&quot;&amp;&quot;, $qtext);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    $q_sz = scalar(@q);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    for($i=0; $i&lt;$q_sz; $i++)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      @cmd = split(&quot;=&quot;, $q[$i]);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/\+/ /g;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/%([0-9A-Fa-f]{2})/chr(hex($1))/eg;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $query{$cmd[0]} = $cmd[1];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    # GET params</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    my ($q_sz, $i, $qtext, @q, @cmd);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    $qtext = $ENV{'QUERY_STRING'};</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    @q    = split(&quot;&amp;&quot;, $qtext);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    $q_sz = scalar(@q);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    for($i=0; $i&lt;$q_sz; $i++)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      @cmd = split(&quot;=&quot;, $q[$i]);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/\+/ /g;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $cmd[1] =~ s/%([0-9A-Fa-f]{2})/chr(hex($1))/eg;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      $query{$cmd[0]} = $cmd[1];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  return %query;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">} </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2400"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">P</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">HP</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2401"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормирование URL переадресации пользователя на оплату</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$mrh_login = &quot;test&quot;;      // your login here</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$mrh_pass1 = &quot;securepass1&quot;;   // merchant pass1 here</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// order properties</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$inv_id    = 5;        // shop's invoice number </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                       // (unique for shop's lifetime)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$inv_desc  = &quot;desc&quot;;   // invoice desc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$out_summ  = &quot;5.12&quot;;   // invoice summ</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// build CRC value</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$crc  = md5(&quot;$mrh_login:$out_summ:$inv_id:$mrh_pass1&quot;);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// build URL</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$url = &quot;https://auth.robokassa.ru/Merchant/Index.aspx?MrchLogin=$mrh_login&amp;&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    &quot;OutSum=$out_summ&amp;InvId=$inv_id&amp;Desc=$inv_desc&amp;SignatureValue=$crc&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// print URL if you need</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">echo &quot;&lt;a href='/ru/$url'&gt;Payment link&lt;/a&gt;&quot;; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2403"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">олучение уведомления об исполнении операции (ResultURL)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// as a part of ResultURL script</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$mrh_pass2 = &quot;securepass2&quot;;   // merchant pass2 here</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// HTTP parameters:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$out_summ = $_REQUEST[&quot;OutSum&quot;];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$inv_id = $_REQUEST[&quot;InvId&quot;];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$crc = strtoupper($_REQUEST[&quot;SignatureValue&quot;]);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// build own CRC</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$my_crc = strtoupper(md5(&quot;$out_summ:$inv_id:$mrh_pass2&quot;));</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">if ($my_crc != $crc)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  echo &quot;bad sign\n&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  exit();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// print OK signature</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">echo &quot;OK$inv_id\n&quot;;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// perform some action (change order state to paid) </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2405"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">роверка параметров в скрипте завершения операции (SuccessURL)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// as a part of SuccessURL script</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$mrh_pass1 = &quot;securepass1&quot;;  // merchant pass1 here</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// HTTP parameters:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$out_summ = $_REQUEST[&quot;OutSum&quot;];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$inv_id = $_REQUEST[&quot;InvId&quot;];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$crc = $_REQUEST[&quot;SignatureValue&quot;];</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$crc = strtoupper($crc);  // force uppercase</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// build own CRC</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$my_crc = strtoupper(md5(&quot;$out_summ:$inv_id:$mrh_pass1&quot;));</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">if ($my_crc != $crc)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  echo &quot;bad sign\n&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  exit();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// you can check here, that resultURL was called </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// (for better security)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">// OK, payment proceeds</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">echo &quot;Thank you for using our service\n&quot;; </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2407"></a><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">A</span><span style=" font-family:'Ubuntu'; font-size:large; font-weight:600;">SP.NET</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2408"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">Ф</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">ормирование URL переадресации пользователя на оплату</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Text;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Globalization;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Security.Cryptography;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">public partial class Init : System.Web.UI.Page</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  protected void Page_Load(object sender, EventArgs e)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // your registration data</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sMrchLogin = &quot;test&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sMrchPass1 = &quot;securepass1&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // order properties</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    decimal nOutSum = 5.12M;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    int nInvId = 5;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sDesc = &quot;desc&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sOutSum = nOutSum.ToString(&quot;0.00&quot;, CultureInfo.InvariantCulture);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sCrcBase = string.Format(&quot;{0}:{1}:{2}:{3}&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                     sMrchLogin, nInvIds, OutSum, sMrchPass1);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // build CRC value</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    MD5CryptoServiceProvider md5 = new MD5CryptoServiceProvider();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    byte[] bSignature = md5.ComputeHash(Encoding.ASCII.GetBytes(sCrcBase));</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    StringBuilder sbSignature = new StringBuilder();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    foreach (byte b in bSignature)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        sbSignature.AppendFormat(&quot;{0:x2}&quot;, b);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sCrc = sbSignature.ToString();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // LinkButtonPay is System.Web.UI.WebControls.LinkButton;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    LinkButtonPay.Text = &quot;Payment link&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // build URL</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    LinkButtonPay.PostBackUrl = &quot;https://auth.robokassa.ru/Merchant/Index.aspx?&quot; +</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                        &quot;MrchLogin=&quot; + sMrchLogin +</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                        &quot;&amp;OutSum=&quot; + sOutSum +</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                        &quot;&amp;InvId=&quot; + nInvId +</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                        &quot;&amp;Desc=&quot; + sDesc +</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                        &quot;&amp;SignatureValue=&quot; + sCrc;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">} </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2410"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">олучение уведомления об исполнении операции (ResultURL)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Web;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Text;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Globalization;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Security.Cryptography;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">public partial class Result : System.Web.UI.Page</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  protected void Page_Load(object sender, EventArgs e)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // your registration data  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sMrchPass2 = &quot;securepass2&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // HTTP parameters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sOutSum = GetPrm(&quot;OutSum&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sInvId = GetPrm(&quot;InvId&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sCrc = GetPrm(&quot;SignatureValue&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sCrcBase = string.Format(&quot;{0}:{1}:{2}&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                     sOutSum, sInvId, sMrchPass2);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // build own CRC</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    MD5CryptoServiceProvider md5 = new MD5CryptoServiceProvider();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    byte[] bSignature = md5.ComputeHash(Encoding.ASCII.GetBytes(sCrcBase));</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    StringBuilder sbSignature = new StringBuilder();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    foreach (byte b in bSignature)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        sbSignature.AppendFormat(&quot;{0:x2}&quot;, b);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sMyCrc = sbSignature.ToString();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if (sMyCrc.ToUpper() != sCrc.ToUpper())</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      Response.Write(&quot;bad sign&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      return;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    Response.Write(string.Format(&quot;OK{0}&quot;, sInvId));</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // perform some action (change order state to paid)    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  private string GetPrm(string sName)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sValue;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    sValue = HttpContext.Current.Request.Form[sName] as string;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if (string.IsNullOrEmpty(sValue))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      sValue = HttpContext.Current.Request.QueryString[sName] as string;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if (string.IsNullOrEmpty(sValue))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      sValue = String.Empty;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    return sValue;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">} </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2412"></a><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">П</span><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600;">роверка параметров в скрипте завершения операции (SuccessURL)</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Web;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Text;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Globalization;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">using System.Security.Cryptography;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">public partial class Success : System.Web.UI.Page</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  protected void Page_Load(object sender, EventArgs e)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // your registration data  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sMrchPass1 = &quot;securepass1&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // HTTP parameters</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sOutSum = GetPrm(&quot;OutSum&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sInvId = GetPrm(&quot;InvId&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sCrc = GetPrm(&quot;SignatureValue&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sCrcBase = string.Format(&quot;{0}:{1}:{2}&quot;, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                                     sOutSum, sInvId, sMrchPass1);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // build own CRC</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    MD5CryptoServiceProvider md5 = new MD5CryptoServiceProvider();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    byte[] bSignature = md5.ComputeHash(Encoding.ASCII.GetBytes(sCrcBase));</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    StringBuilder sbSignature = new StringBuilder();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    foreach (byte b in bSignature)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        sbSignature.AppendFormat(&quot;{0:x2}&quot;, b);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sMyCrc = sbSignature.ToString();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if (sMyCrc.ToUpper() != sCrc.ToUpper())</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      Response.Write(&quot;bad sign&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      return;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // you can check here, that ResultURL was called </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // (for better security)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    // OK, payment proceeds</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    Response.Write(&quot;Thank you for using our service&quot;);    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  private string GetPrm(string sName)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    string sValue;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    sValue = HttpContext.Current.Request.Form[sName] as string;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if (string.IsNullOrEmpty(sValue))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      sValue = HttpContext.Current.Request.QueryString[sName] as string;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if (string.IsNullOrEmpty(sValue))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">      sValue = String.Empty;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    return sValue;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  }</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">} </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7047"></a><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">Р</span><span style=" font-family:'Ubuntu'; font-size:x-large; font-weight:600;">екомендации по бухгалтерскому учету</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для разъяснения некоторых вопросов рекомендуем ознакомиться с документом по </span><a href="https://docs.robokassa.ru/media/1491/рекомендации_по_ведению_бух_учета.pdf"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">ссылке</span></a><span style=" font-family:'Ubuntu';">.</span></p></body></html>