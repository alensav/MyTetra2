<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В данной статье мы с Вами рассмотрим возможность программы VirtualBox </span><span style=" font-family:'Ubuntu'; font-weight:600;">пробрасывать порты в гостевую операционную систему</span><span style=" font-family:'Ubuntu';">, для того чтобы иметь доступ к ней с хоста, т.е. с реальной машины, например, в тех случаях, когда подключение (сеть) в гостевой ОС в VirtualBox работает в режиме «NAT».</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Данная возможность будет полезна, например, когда Вам нужен одновременно и доступ к Интернету в гостевой операционной системе, и доступ к каким-нибудь сервисам в гостевой ОС с хоста.</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Доступ к Интернету в гостевой ОС можно получить с помощью выбора типа подключения «NAT», но как Вы, наверное, знаете, при этом теряется доступ к сервисам гостевой ОС с реального Вашего компьютера. Данную проблему как раз и решает проброс портов.</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Рассматривать проброс портов мы будем на примере случая, когда Вы создали виртуальную машину в VirtualBox и установили в нее серверную операционную систему, например </span><a href="https://info-comp.ru/drugieopersistemi/593-install-linux-ubuntu-server.html"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#007d99; background-color:transparent;">Linux Ubuntu Server</span></a><span style=" font-family:'Ubuntu';">, при этом Вы настроили сеть в режиме NAT для доступа в Интернет, но доступа к гостевой операционной системе (Ubuntu Server) у Вас нет. Например, Вы не можете подключиться к ней по SSH со своего компьютера, или обратиться к Web серверу, или даже просто скопировать команду и вставить в консоль. Поэтому давайте пробросим порт в гостевую ОС, например, для того чтобы подключится к ней по SSH всем известной программой PuTTY. С помощью нее мы сможем без проблем управлять сервером и в случае необходимости копировать команды в нее.</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-style:italic;">Для сведения.</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-weight:600;">PuTTY</span><span style=" font-family:'Ubuntu';"> – это бесплатная клиентская программа для удаленного подключения, например к серверам по протоколам SSH, Telnet и другим. Она позволяет управлять удаленным компьютером. PuTTY — это клиентская часть, серверная должна быть реализована на удаленной стороне, например, в нашем случае в Ubuntu Server должен быть установлен SSH сервер. Скачать PuTTY можно с официального сайта — </span><a href="http://www.putty.org/"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#007d99; background-color:transparent;">www.putty.org</span></a><span style=" font-family:'Ubuntu';">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:-30px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f4f4;"><span style=" font-family:'Ubuntu'; font-weight:696;">Содержание</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#nastroyka-probrosa-portov-v-virtualbox-dlya"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Настройка проброса портов в VirtualBox для SSH</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:5px; margin-bottom:12px; margin-left:30px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#shag-1"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Шаг 1</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:5px; margin-bottom:12px; margin-left:30px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#shag-2"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Шаг 2</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:5px; margin-bottom:12px; margin-left:30px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#shag-3"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Шаг 3</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:5px; margin-bottom:12px; margin-left:30px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#shag-4"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Шаг 4</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:5px; margin-bottom:12px; margin-left:30px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#shag-5"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Шаг 5</span></a></li>
<li style=" font-family:'Ubuntu';" style=" margin-top:5px; margin-bottom:12px; margin-left:30px; margin-right:30px; -qt-block-indent:0; text-indent:0px;"><a href="https://info-comp.ru/sisadminst/597-port-forwarding-in-virtualbox.html#shag-6"><span style=" text-decoration: underline; color:#007d99; background-color:transparent;">Шаг 6</span></a></li></ol>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="nastroyka-probrosa-portov-v-virtualbox-dlya"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:x-large; font-weight:696; color:#000000;">Н</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:x-large; font-weight:696; color:#000000;">астройка проброса портов в VirtualBox для SSH</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">SSH – сервер обычно прослушивает 22 порт, поэтому нам необходимо пробросить подключение именно на 22 порт.</span></p>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="shag-1"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">Ш</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">аг 1</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Для того чтобы пробросить порт, запускаем VirtualBox и заходим в настройки нашей виртуальной машины с Ubuntu Server. Например, выбираем нужную машину и нажимаем кнопку «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Настроить</span><span style=" font-family:'Ubuntu';">», данный пункт также доступен, если нажать правой кнопкой мыши по выбранной виртуальной машине.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image293003475.png" /></p>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="shag-2"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">Ш</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">аг 2</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Затем переходим в раздел настроек «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Сеть</span><span style=" font-family:'Ubuntu';">», и открываем вкладку с включенным адаптером. Тип подключения, как Вы помните, «NAT» — для доступа в Интернет.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:13px; -qt-block-indent:0; text-indent:0px; line-height:1.3%; background-color:rgba(38,38,38,0.647059);"><a name="yandex_rtb_R-A-559832-2"></a><a href="https://ad.adriver.ru/cgi-bin/click.cgi?sid=1&amp;bt=55&amp;ad=753046&amp;pid=3593258&amp;bid=8752558&amp;bn=8752558&amp;exss=&amp;rnd=%aw_random%&amp;custom=1=tp_media.bf_ya_multirollrtb_GO_0323_rus_a.emotional;83799534;13577911432;1125752929;desktop;5140750718;info-comp.ru;11053"><span style=" font-family:'YS Text,-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif'; font-size:16px; font-weight:696; text-decoration: underline; color:#ffffff;">П</span></a><span style=" font-family:'YS Text,-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif'; font-size:16px; font-weight:696; color:#ffffff;">одробнее</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:13px; -qt-block-indent:0; text-indent:0px;"><a href="https://ad.adriver.ru/cgi-bin/click.cgi?sid=1&amp;bt=55&amp;ad=753046&amp;pid=3593258&amp;bid=8752558&amp;bn=8752558&amp;exss=&amp;rnd=%aw_random%&amp;custom=1=tp_media.bf_ya_multirollrtb_GO_0323_rus_a.emotional;83799534;13577911432;1125752929;desktop;5140750718;info-comp.ru;11053"><span style=" font-family:'YS Text,-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif'; font-size:16px; text-decoration: underline; color:#ffffff;">tinkoff.ru</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:3%; background-color:#3377ff;"><a href="https://ad.adriver.ru/cgi-bin/click.cgi?sid=1&amp;bt=55&amp;ad=753046&amp;pid=3593258&amp;bid=8752558&amp;bn=8752558&amp;exss=&amp;rnd=%aw_random%&amp;custom=1=tp_media.bf_ya_multirollrtb_GO_0323_rus_a.emotional;83799534;13577911432;1125752929;desktop;5140750718;info-comp.ru;11053"><span style=" font-family:'YS Text,-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif'; font-size:16px; font-weight:696; text-decoration: underline; color:#ffffff;">Перейти</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1016040181.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:16px; margin-right:16px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'initial'; font-size:12px; color:#ffffff;">Реклама</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image2060491029.png" /></p>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="shag-3"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">Ш</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">аг 3</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Далее щелкаем на пункт «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Дополнительно</span><span style=" font-family:'Ubuntu';">», чтобы отобразить дополнительные настройки данного адаптера, и после этого нажимаем на кнопку «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Проброс портов</span><span style=" font-family:'Ubuntu';">».</span></p>
<p align="center" style=" margin-top:10px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image635715928.png" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image610811126.png" /></p>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="shag-4"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">Ш</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">аг 4</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">В итоге у нас откроется окно «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Правила проброса портов</span><span style=" font-family:'Ubuntu';">». Для добавления нового правила нажимаем на иконку с плюсиком.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image851841153.png" /></p>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="shag-5"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">Ш</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">аг 5</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">На данном этапе Вы уже должны знать IP адрес гостевой операционной системы и порт, который прослушивает SSH сервер (</span><span style=" font-family:'Ubuntu'; font-style:italic;">по умолчанию это 22 порт</span><span style=" font-family:'Ubuntu';">). В Ubuntu Server IP адрес можно узнать с помощью команды ifconfig (</span><span style=" font-family:'Ubuntu'; font-style:italic;">по умолчанию это 10.2.0.15</span><span style=" font-family:'Ubuntu';">).</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Описание колонок таблицы с правилами:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:29px; margin-bottom:12px; margin-left:17px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Имя</span> – название правила, в нашем случае разумно назвать SSH;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:17px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Протокол</span> – протокол, по которому будет происходить взаимодействие. В обычных случаях это – TCP;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:17px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">IP хоста</span> – IP адрес Вашего реального компьютера, можно указать 127.0.0.1 или оставить данное поле пустым;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:17px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Порт хоста</span> – любой свободный порт Вашего компьютера, который будет использоваться для перенаправления на нужный порт в гостевой ОС. Я указал 2222;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:12px; margin-left:17px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">IP гостя</span> – здесь указываем IP адрес гостевой операционной системы на который будет происходить перенаправление, в моем случае это 10.2.0.15;</li>
<li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:31px; margin-left:17px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Порт гостя</span> – порт гостевой ОС, на который нам необходимо пробрасывать наши запросы. В нашем случае это 22 порт, который прослушивает SSH сервер.</li></ul>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">После заполнения таблицы с правилом, нажимаем «ОК».</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1956428941.png" /></p>
<p style=" margin-top:26px; margin-bottom:9px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%;"><a name="shag-6"></a><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">Ш</span><span style=" font-family:'Roboto,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:large; font-weight:696; color:#000000;">аг 6</span></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">На этом настройка проброса портов закончена, теперь мы можем проверить работу данного правила (проброса). Для этого сначала запускаем виртуальную машину с Ubuntu Server, а затем программу PuTTY. На вкладке Session выбираем тип соединения SSH и в поле Host Name пишем локальный адрес компьютера (</span><span style=" font-family:'Ubuntu'; font-style:italic;">хоста</span><span style=" font-family:'Ubuntu';">), которой мы указывали в колонке «</span><span style=" font-family:'Ubuntu'; font-style:italic;">IP хоста</span><span style=" font-family:'Ubuntu';">» в правилах проброса портов, если ничего не указывали, то пишите 127.0.0.1. В поле порт указываем номер порта, который мы указывали в колонке «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Порт хоста</span><span style=" font-family:'Ubuntu';">», т.е. 2222. Нажимаем кнопку «</span><span style=" font-family:'Ubuntu'; font-style:italic;">Open</span><span style=" font-family:'Ubuntu';">».</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image550180220.png" /></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Если после этого Вы получили приглашение на ввод логина, то это значит, что подключение работает, и Вы, соответственно, можете вводить учетные данные от гостевой операционной системы.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1361232362.png" /></p>
<p style=" margin-top:0px; margin-bottom:25px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">У меня на этом все, надеюсь, материал был Вам полезен, пока!</span></p>
<p align="center" style=" margin-top:30px; margin-bottom:20px; margin-left:-5px; margin-right:-5px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:18px; color:#ffffff; background-color:#1d8200; vertical-align:middle;">Нравится29</span><span style=" font-family:'inherit'; font-size:18px; color:#ffffff; background-color:#d30b17; vertical-align:middle;">Не нравится1</span></p>
<p style=" margin-top:36px; margin-bottom:36px; margin-left:72px; margin-right:72px; -qt-block-indent:0; text-indent:0px; line-height:1.23%; background-color:#ffffff;"><a name="yandex_rtb_R-A-559832-11"></a><span style=" font-family:'YS Text Variable,YS Text,Arial,sans-serif'; font-size:medium; color:#3d3f43;"><br /></span><span style=" font-family:'YS Text Variable,YS Text,Arial,sans-serif'; font-size:medium; color:#3d3f43;"> </span></p></body></html>