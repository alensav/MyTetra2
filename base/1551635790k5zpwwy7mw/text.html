<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="краткое_описание_руководства"></a><span style=" font-size:x-large;">К</span><span style=" font-size:x-large;">раткое описание руководства</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В данном руководстве объясняется, как подключить компьютер к сети при помощи конфигурационных файлов и консольных утилит. Основная цель - рассказать о различных способах подключения к интернету без использования GUI (графического интерфейса). Руководство не затрагивает таких тем, как настройка сетевых фильтров или, например, собственных точек доступа Wi-Fi. Подразумевается, что существует некий, предоставленный провайдером, способ подключения к интернету, для использования которого и необходимо выполнить приведенные ниже действия.<br /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В руководстве приведены примеры редактирования конфигурационных файлов с помощью текстовых редакторов «nano» и «gedit». Обратите внимание на то, что первый редактор запускается в терминале и может быть использован как при запуске Ubuntu с графическим интерфейсом, так и без него, а «gedit» можно использовать только при включенной графической среде.<br /></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="требования_к_системе"></a><span style=" font-size:x-large;">Т</span><span style=" font-size:x-large;">ребования к системе</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для воспроизведения описанных в руководстве действий подходит любой вариант установки системы. Наличие графического пользовательского интерфейса не обязательно. Все действия необходимо выполнять в <a href="https://help.ubuntu.ru/wiki/%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C"><span style=" color:#dd7e5c;">консоли</span></a>. Подразумевается, что команды, начинающиеся с символа $ - необходимо выполнять от пользователя, а начинающиеся с # - от суперпользователя (root).<br /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Прежде чем Вы начнете, убедитесь, что:<br /></p>
<ul type="square" style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#222222;" style=" margin-top:17px; margin-bottom:0px; margin-left:49px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Различные сетевые утилиты, предназначенные для автоматического конфигурирования сети выключены. Например, <a href="https://help.ubuntu.ru/wiki/%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_network_manager_%D0%B0"><span style=" color:#dd4814;">тут</span></a> Вы можете прочитать, как отключить установленный по умолчанию в Ubuntu сетевой помощник Network Manager.</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:49px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Различные сетевые фильтры (например iptables), и утилиты их конфигурирования (например, Firestarter) отключены/правильно настроены и не вмешиваются в работу сети.</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:49px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">У Вас есть все необходимые параметры для подключения в Вашей сети (например, IP-адрес, маска подсети и шлюз по умолчанию для соединения с использованием статического IP).</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:49px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Устройства сети осуществляющие фильтрацию по MAC-адресу правильно настроены и «знают» Ваш сетевой интерфейс.</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:49px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Драйвер Вашего сетевого устройства корректно установлен, кабель (при проводном соединении) исправен и подсоединен.</li></ul>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для настроек вам обязательно потребуется имя вашего сетевого адаптера. Его можно узнать из вывода команды:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo lshw -C network</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Она позволяет посмотреть подключенные сетевые устройства.<br /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример вывода команды:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ubuntu@ubuntu:~$ sudo lshw -C network</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">  *-network               </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       description: Ethernet interface                             # Тип устройства </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       product: L2 100 Mbit Ethernet Adapter                       # Название адаптера</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       vendor: Attansic Technology Corp.                           # Производитель устройства</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       physical id: 0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       bus info: pci@0000:03:00.0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       logical name: eth0                                          # Имя сетевого интерфейса</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       version: a0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       serial: 00:00:00:00:00:00                                   # Физический адрес устройства (mac-адрес)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       size: 100MB/s</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       capacity: 100MB/s</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       width: 64 bits</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       clock: 33MHz</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       capabilities: pm msi pciexpress vpd bus_master cap_list </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ethernet physical tp 10bt 10bt-fd 100bt 100bt-fd autonegotiation</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       configuration: autonegotiation=on broadcast=yes </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                      driver=atl2                                  # Используемый драйвер</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                      driverversion=2.2.3                          # Версия драйвера</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                      duplex=full firmware=L2 ip=192.168.0.5 latency=0 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                      link=yes                                     # Наличие линка</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                      module=atl2 multicast=yes port=twisted pair </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                      speed=100MB/s                                # Текущая скорость подключения.</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обратите внимание на строку:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">       logical name: eth0 </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">eth0 - это и есть искомое имя сетевого интерфейса.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Имя <span style=" font-family:'Ubuntu Mono,monospace';">eth0</span> будет далее применяться для настройки именно данной сетевой карты. Где <span style=" font-family:'Ubuntu Mono,monospace';">eth</span> обозначает что используется <a href="http://ru.wikipedia.org/wiki/Ethernet"><span style=" color:#dd4814;">Ethernet</span></a> интерфейс, а <span style=" font-family:'Ubuntu Mono,monospace';">0</span> - номер устройства. Если у вас установлено несколько сетевых устройств, то, соответственно, им будут присвоены имена: <span style=" font-family:'Ubuntu Mono,monospace';">eth0</span>, <span style=" font-family:'Ubuntu Mono,monospace';">eth1</span>, <span style=" font-family:'Ubuntu Mono,monospace';">eth2</span> и т.д.</p>
<p style=" margin-top:34px; margin-bottom:34px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">После внедрения SystemD (начиная с Ubuntu 15.04) сетевые интерфейсы могут иметь другие имена (не ethX). Сделано это для того, что бы имена сетевых устройств не менялись при подключении к машине новых адаптеров (в последнее время, некоторые USB модемы выступают в роли сетевого адаптера). В результате eth0 может называться например enp0s4 или eno1, или даже enx78e7d1ea46da. Именно это имя сетевого адаптера и нужно использовать в настройке сети.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">Более подробно о наименовании сетевых интерфейсов в SystemD можно почитать </span><a href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/"><span style=" color:#dd4814; vertical-align:middle;">тут</span></a><span style=" vertical-align:middle;"> (англ.).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">Такое переименование можно отключить добавив в </span><span style=" font-weight:600; vertical-align:middle;">/etc/default/grub</span><span style=" vertical-align:middle;">, в строку с переменной </span><span style=" font-weight:600; vertical-align:middle;">GRUB_CMDLINE_LINUX_DEFAULT</span><span style=" vertical-align:middle;"> строку </span><span style=" font-weight:600; vertical-align:middle;">net.ifnames=0</span><span style=" vertical-align:middle;">. После этого нужно выполнить </span><span style=" font-weight:600; vertical-align:middle;">sudo update-grub</span></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="настройка_проводной_сети"></a><span style=" font-size:x-large;">Н</span><span style=" font-size:x-large;">астройка проводной сети</span></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="настройка_ip-адреса_шлюза_по_умолчанию_маски_подсети"></a><span style=" font-size:large;">Н</span><span style=" font-size:large;">астройка IP-адреса, шлюза по умолчанию, маски подсети</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отредактируйте файл конфигурации <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span>, например так:<br /></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo nano /etc/network/interfaces </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И допишите в него:<br />Для статического IP:<br /></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface eth0 inet static </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">address 192.168.0.1 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">netmask 255.255.255.0 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">gateway 192.168.0.254</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">dns-nameservers 192.168.0.254 8.8.8.8</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto eth0 </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Где:</p>
<ul type="square" style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#222222;" style=" margin-top:17px; margin-bottom:0px; margin-left:69px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu Mono,monospace';">iface eth0 inet static</span> - указывает, что интерфейс (<span style=" font-family:'Ubuntu Mono,monospace';">iface eth0</span>) находится в диапазоне адресов <a href="http://ru.wikipedia.org/wiki/IPv4"><span style=" color:#dd4814;">IPv4</span></a> (<span style=" font-family:'Ubuntu Mono,monospace';">inet</span>) со статическим ip (<span style=" font-family:'Ubuntu Mono,monospace';">static</span>);</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:69px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu Mono,monospace';">address 192.168.0.1</span> - указывает что IP адрес (address) нашей сетевой карты 192.168.0.1;</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:69px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu Mono,monospace';">netmask 255.255.255.0</span> - указывает что наша маска подсети (netmask) имеет значение 255.255.255.0;</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:69px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu Mono,monospace';">gateway 192.168.0.254</span> - адрес шлюза (<span style=" font-family:'Ubuntu Mono,monospace';">gateway</span>) по умолчанию 192.168.0.254;</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:69px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu Mono,monospace';">dns-nameservers 192.168.0.254 8.8.8.8</span> - адреса DNS серверов (о ниж мы расскажем позже)</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:69px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu Mono,monospace';">auto eth0</span> - указывет системе что интерфейс <span style=" font-family:'Ubuntu Mono,monospace';">eth0</span> необходимо включать автоматически при загрузке системы с вышеуказанными параметрами.</li></ul>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">eth0</span> - имя подключаемого своего интерфейса. Список интерфейсов можно посмотреть набрав:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ ip addr</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В итоге файл <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span> должен выглядеть примерно так:<br />(для одного проводного соединения со статическим IP)</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># This file describes the network interfaces available on your system</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># and how to activate them. For more information, see interfaces(5).</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># The loopback network interface</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto lo</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface lo inet loopback</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># Моя проводная сеть.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface eth0 inet static </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">address 192.168.0.1 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">netmask 255.255.255.0 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">gateway 192.168.0.254 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">dns-nameservers 192.168.0.254 8.8.8.8</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto eth0 </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сохраните файл и закройте редактор. В данном примере (редактор nano) - нажмите <span style=" font-family:'sans-serif'; color:#333333; background-color:#ffffff; vertical-align:top;">Ctrl</span>+<span style=" font-family:'sans-serif'; color:#333333; background-color:#ffffff; vertical-align:top;">X</span>, затем <span style=" font-family:'sans-serif'; color:#333333; background-color:#ffffff; vertical-align:top;">Y</span>, убедитесь, что «Имя файла для записи» - /etc/network/interfaces и нажмите <span style=" font-family:'sans-serif'; color:#333333; background-color:#ffffff; vertical-align:top;">Enter</span>.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Более подробно про синтаксис файла <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span> можно прочитать в <a href="https://help.ubuntu.ru/wiki/man_interfaces"><span style=" color:#dd7e5c;">документации</span></a>.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример конфигурации для динамического IP:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface eth0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto eth0 </span></pre>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="временная_настройка_ip-адреса_и_маски_подсети"></a><span style=" font-size:large;">В</span><span style=" font-size:large;">ременная настройка IP-адреса и маски подсети</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При необходимости задать пробные настройки, выполните:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo ip addr add 192.168.0.1/24 dev eth0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Где 192.168.0.1 - наш IP-адрес, /24 - число бит в префиксной части адреса (соответствует маске подсети 255.255.255.0). <br /><span style=" font-weight:600;">eth0</span> - подключаемый сетевой интерфейс.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Данные настройки пропадут после перезагрузки системы и не повлияют на файл <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="настройка_dns"></a><span style=" font-size:x-large;">Н</span><span style=" font-size:x-large;">астройка DNS</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">За конфигурацию DNS отвечает утилита resolvconf, которая работает в паре с небольшим кеширующим DNS сервером dnsmasq. resolvconf позволяет осуществить настройку DNS на основе данных от разных подсистем.<br />Одним из следствий этого полезного нововведения (переход на эту схему произошел в Ubuntu начиная с версии 12.04) является то, что теперь файл /etc/resolv.conf генерируется автоматически, а не индивидуально каждой программой, которая хочет его изменить (порой перезаписывая правки сделанные ранее). Автоматическая генерация /etc/resolv.conf означает, что внесенные «руками» изменения в него будут потеряны.<br />Автоматически формируемый /etc/resolv.conf содержит ссылку на DNS сервер на локальном интерфейсе (127.0.1.1), а там (на 53 порту) и сидит сервис dnsmasq, который отвечает за разрешение символьных имен в IP адреса. Нужно отметить, что этот порт (53) открыт в режиме LISTEN, но т.к. это локальный интерфейс, то из внешней сети этот порт не доступен.<br />Информацию о DNS для статических интерфейсов теперь надо вносить в /etc/network/interfaces<a name="fnt__1"></a><a href="https://help.ubuntu.ru/wiki/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E#fn__1"><span style=" font-size:10px; color:#dd4814; vertical-align:super;">1</span></a><span style=" font-size:10px; color:#dd4814; vertical-align:super;">)</span> в параметры dns-nameservers, dns-search и dns-domain (которые соответствуют параметрам nameserver, search и domain в /etc/resolv.conf)<br /></p>
<p style=" margin-top:34px; margin-bottom:34px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">Обратите внимание - в /etc/resolv.conf, при записи нескольких серверов используется несколько ключей nameserver, а в /etc/network/interfaces все адреса </span><span style=" vertical-align:middle;">DNS</span><span style=" vertical-align:middle;"> серверов записывались в одну строчку после ключа dns-nameservers, разделенные пробелами.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В итоге описание статического интерфейса в /etc/network/interfaces должно выглядеть примерно так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface eth0 inet static </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">address 192.168.0.1 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">netmask 255.255.255.0 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">gateway 192.168.0.254 </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">dns-nameservers 8.8.8.8 192.168.0.254</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto eth0 </span></pre>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><a name="ubuntu_до_версии_1204"></a><span style=" font-size:small;">U</span><span style=" font-size:small;">buntu до версии 12.04</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:83px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В более старых версиях ubuntu, когда есть необходимость указать статические адреса DNS серверов (если они не выдаются автоматически) выполните:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:83px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo gedit /etc/resolv.conf</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:83px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">и впишите туда адреса DNS серверов (отдельные записи для каждого сервера):</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:83px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">nameserver 192.168.0.100</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:83px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">nameserver 192.168.0.200</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:83px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Где 192.168.0.100 и 192.168.0.200 - адреса DNS серверов. Если нужно добавить больше адресов - каждый адрес нужно начинать с новой строки и с фразы <span style=" font-family:'Ubuntu Mono,monospace';">nameserver</span></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="настройка_соединений_ppp"></a><span style=" font-size:x-large;">Н</span><span style=" font-size:x-large;">астройка соединений ppp</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">За создание соединений типа «точка-точка» в Ubuntu отвечает демон <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppd</span>, более подробная информация о котором доступна в <a href="https://help.ubuntu.ru/wiki/man_pppd"><span style=" color:#dd7e5c;">документации</span></a>. В рамках данного руководства будут рассмотрены примеры создания PPPoE подключения через DSL модем, подключения PPTP (VPN-подключения) и DIAL-UP подключения через обычный модем.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="соединение_pppoe"></a><span style=" font-size:large;">С</span><span style=" font-size:large;">оединение PPPoE</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В стандартную установку Ubuntu входит утилита для настройки PPPoE соединений – <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppoeconf</span>, для ее запуска наберите:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo pppoeconf</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Появится «псевдографическое» <a name="fnt__2"></a><a href="https://help.ubuntu.ru/wiki/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E#fn__2"><span style=" font-size:10px; color:#dd4814; vertical-align:super;">2</span></a><span style=" font-size:10px; color:#dd4814; vertical-align:super;">)</span> окно в терминале. Утилита произведет поиск сетевых устройств и выведет их на экран, далее она произведет поиск модема <a name="fnt__3"></a><a href="https://help.ubuntu.ru/wiki/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E#fn__3"><span style=" font-size:10px; color:#dd4814; vertical-align:super;">3</span></a><span style=" font-size:10px; color:#dd4814; vertical-align:super;">)</span> на этих устройствах. Если на этом этапе pppoeconf выдаст отрицательный результат - проверьте правильность подключения, питание модема. Следующий шаг - выбор «популярных параметров» - в большинстве случаев стоит согласиться. Далее утилита запросит Ваш логин, а затем - пароль. Теперь - выбор способа указания DNS серверов. Опять же, в большинстве случаев следует согласиться на получение адресов DNS серверов автоматически. Далее Вам предложат ограничить размер <a href="http://en.wikipedia.org/wiki/Maximum_segment_size"><span style=" color:#dd4814;">MSS</span></a> до 1452-х байт - как правило, стоит согласиться. Следующий вопрос - устанавливать ли подключение автоматически при загрузке компьютера. Последний вопрос утилиты - установить ли соединение сейчас. <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppoeconf</span> по умолчанию создает для подключения имя dsl-provider. Управлять подключением Вы можете при помощи команд:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo pon dsl-provider # Для подключения</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">или</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo poff dsl-provider # Для отключения</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если в Вашем случае опций, предоставляемых утилитой <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppoeconf</span> недостаточно - обратитесь к <a href="https://help.ubuntu.ru/wiki/man_pppd"><span style=" color:#dd7e5c;">документации по pppd</span></a> или <a href="https://help.ubuntu.ru/wiki/man_pppoeconf"><span style=" color:#dd7e5c;">pppoeconf</span></a>.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Замечание: при настройке соединения с помощью <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppoeconf</span> часть настроек записывается в <span style=" font-family:'Ubuntu Mono,monospace';">/etc/network/interfaces</span>, в результате чего Network Manager больше не может управлять сетью. Выход: либо использовать только NM, либо только консоль+конфиги. Вернуть управление Network Manager можно следующим образом. Приведите <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span> к следующему виду (лишнее не обязательно удалять, достаточно закомментировать):</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># This file describes the network interfaces available on your system</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># and how to activate them. For more information, see interfaces(5).</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># The loopback network interface</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto lo</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface lo inet loopback</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перезапустите сеть:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo /etc/init.d/networking restart</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перезагрузитесь или перезапустите Network Manager:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo /etc/init.d/NetworkManager restart</span></pre>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="соединение_pptp"></a><span style=" font-size:large;">С</span><span style=" font-size:large;">оединение PPTP</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для осуществления VPN-соединения при помощи pppd Вам потребуется <a href="http://wiki.ubuntu.ru/doc/%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC"><span style=" color:#dd4814;">установить</span></a> пакет <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pptp-linux</span>, который может быть найден на установочном диске Ubuntu. Далее создайте (от root'а) в папке <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/ppp/peers</span> файл с названием Вашего провайдера и отредактируйте его, например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo nano /etc/ppp/peers/my-provider</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И добавьте туда опции подключения, например такие:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">persist # При разрыве соединения - переподключаться снова.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">maxfail 0 # Максимальное количество неудачных попыток подключения. 0 - бесконечно.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">mtu 1476 # Значение MTU</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">name {логин} # Ваш логин.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">#nodefaultroute # Не быть шлюзом по умолчанию</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">defaultroute # Быть шлюзом по умолчанию</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">replacedefaultroute # Заменить шлюз по умолчанию если он был</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">remotename {vpn} # Имя удаленного сервера (для нас), может быть любым.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">pty &quot;pptp {адрес_сервера} --nolaunchpppd&quot; # Команда запуска pptp. </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># Адрес сервера - может быть как IP адресом, так и доменным именем, например vpn.foo.bar</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Далее - отредактируйте файл <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/chap-secrets</span> <a name="fnt__4"></a><a href="https://help.ubuntu.ru/wiki/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E#fn__4"><span style=" font-size:10px; color:#dd4814; vertical-align:super;">4</span></a><span style=" font-size:10px; color:#dd4814; vertical-align:super;">)</span> и добавьте туда:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">{логин} {vpn} {пароль}</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После перезагрузки системы Вы сможете управлять соединением при помощи команд:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo pon my-provider # Для подключения</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">или</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo poff my-provider # Для отключения</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Процесс настройки VPN-соединения может сильно облегчить <a href="https://help.ubuntu.ru/wiki/%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82_vpn"><span style=" color:#dd4814;">скрипт-помощник</span></a>.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="настройка_dial-up_подключения"></a><span style=" font-size:large;">Н</span><span style=" font-size:large;">астройка DIAL-UP подключения</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для настройки модемного соединения можно использовать встроенный конфигуратор <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppd</span> - <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppconfig</span> или специальную утилиту <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wvdial</span> . <br /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="при_помощи_pppconfig"></a><span style=" font-size:medium;">П</span><span style=" font-size:medium;">ри помощи pppconfig</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Процесс настройки при помощи <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppconfig</span> во многом похож на утилиту <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">pppoeconfig</span>, Вам по очереди будут заданы вопросы о параметрах подключения, и будет предложено ввести номер телефона, логин и пароль, а также имя соединения. Запускать pppconfig следует с правами суперпользователя. Например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo pppconfig</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Управлять соединением можно так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo pon my-provider # Для подключения</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">или</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo poff my-provider # Для отключения</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Где my-provider - имя, присвоенное Вами соединению при настройке.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="при_помощи_wvdial"></a><span style=" font-size:medium;">П</span><span style=" font-size:medium;">ри помощи wvdial</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В некоторых случаях (например при подключении с использованием мобильного телефона), удобнее использовать <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wvdial</span> . Для этого нужно его сначала установить. Например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo apt-get install wvdial</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В состав пакета <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wvdial</span> входит утилита автоматического конфигурирования - <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wvdialconf</span> .</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo wvdialconf</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вывод будет примерно следующим:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ubuntu@ubuntu:~$ sudo wvdialconf</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">[sudo] password for ubuntu: </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Editing `/etc/wvdial.conf'.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Scanning your serial ports for a modem.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Modem Port Scan&lt;*1&gt;: S0   S1   S2   S3   </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">WvModem&lt;*1&gt;: Cannot get information for serial port.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 Z -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 S0=0 -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 S0=0 &amp;C1 -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0 -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Modem Identifier: ATI -- Manufacturer: QUALCOMM INCORPORATED</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 4800: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 9600: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 19200: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 38400: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 57600: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 115200: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 230400: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Speed 460800: AT -- OK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: Max speed is 460800; that should be safe.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;*1&gt;: ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0 -- OK</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Found an USB modem on /dev/ttyACM0.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Modem configuration written to /etc/wvdial.conf.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ttyACM0&lt;Info&gt;: Speed 460800; init &quot;ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0&quot;</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь остается только отредактировать файл <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/wvdial.conf</span> и добавить в него номер телефона, логин и пароль.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo nano /etc/wvdial.conf</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В данном примере я дополнительно добавил несколько опций. См. комментарии.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">[Dialer Defaults]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Init1 = ATZ</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Init2 = ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Modem Type = USB Modem</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ISDN = 0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Idle Seconds = 0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">New PPPD = yes</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Dial Attempts = 0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Phone = #777</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Modem = /dev/ttyACM0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Username = mobile</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Password = internet</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Baud = 460800</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Idle Seconds = 0 # Время простоя соединения, </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># после которого нужно будет его разорвать. Значение 0 - никогда.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Dial Attempts = 0 # Количество попыток дозвона. 0 - бесконечно.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">[Dialer pulse]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Dial Command = ATDP # Команда набора номера (P - импульсный, T - тональный). Имеет смысл для набора номера в импульсном режиме на старых АТС.</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Файл /etc/wvdial.conf разбит на секции, в качестве разделителей которых выступают сами названия секций, предварённые словом Dialer, в квадратных скобках. Если исполнять команду без параметров, то в дело пойдут установки, перечисленные в секции Defaults. В противном случае дополнительно будут исполнены указанные в добавочных секциях команды.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь, когда все настроено, соединение можно установить набрав:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo wvdial</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если потребуется запустить wvdial с набором номера в импульсном режиме, то это можно сделать командой</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo wvdial pulse</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Прервать соединение можно прервав выполнение команды <span style=" font-family:'Ubuntu Mono,monospace';">wvdial</span>, т.е. в том же терминале нужно нажать <span style=" font-family:'sans-serif'; color:#333333; background-color:#ffffff; vertical-align:top;">Ctrl</span>+<span style=" font-family:'sans-serif'; color:#333333; background-color:#ffffff; vertical-align:top;">C</span>.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="автоматическое_подключение"></a><span style=" font-size:large;">А</span><span style=" font-size:large;">втоматическое подключение</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отредактируйте файл конфигурации <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span>, например так:<br /></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo nano /etc/network/interfaces </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И допишите в него:<br />Для pppoe , pptp , и модемного подключения без использования <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wvdial</span> :</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface ppp0 inet ppp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">provider my-provider</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto ppp0 </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Где <span style=" font-weight:600;">my-provider</span> - название вашего соединения.<br />При использовании <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wvdial</span>:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface ppp0 inet wvdial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">provider wvdial</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto ppp0 </span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь при перезапуске сетевых служб соединение будет автоматически установлено.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="ручная_настройка_роутинга"></a><span style=" font-size:large;">Р</span><span style=" font-size:large;">учная настройка роутинга</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если Вы не получаете адрес шлюза по-умолчанию от сервера, к которому подключаетесь, или по какой-либо иной причине Вам необходимо указать маршруты вручную - Вы можете создать свой скрипт в <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/ppp/ip-up.d/</span>, либо по рекомендации официальной документации создать <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/ppp/ip-up.local</span> например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo nano /etc/ppp/ip-up.local</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">или</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo nano /etc/ppp/ip-up.d/routing</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">со следующим кодом:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">#! /bin/sh</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">#</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">route del default</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">route add default ppp0 # Имя ppp-подключения.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># тут - необходимые маршруты, например:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">route add -net 192.168.0.0 netmask 255.255.255.0 gw 192.168.0.1 dev eth0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Далее - сделайте этот скрипт исполняемым, например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo chmod ug+x /etc/ppp/ip-up.local</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">или</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo chmod ug+x /etc/ppp/ip-up.d/routing</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь маршруты будут автоматически подключаться при установлении ppp-соединения.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="установка_mtu_и_ttl"></a><span style=" font-size:x-large;">У</span><span style=" font-size:x-large;">становка MTU и TTL</span></p>
<p style=" margin-top:34px; margin-bottom:34px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">MTU (Maximum Transfer Unit) - параметр определяет величину максимальной единицы передачи. Это максимальное количество октетов (байт), которое интерфейс способен поддерживать за одну операцию приема/передачи. Для Ethernet это значение по умолчанию составляет 1500 (максимальный размер пакета Ethernet).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">TTL (Time To Live) - время жизни ip-пакета в секундах. Нужен чтобы избежать перегрузки сети пакетами. Обычно каждый роутер, через которого прошел пакет, уменьшает TTL на еденицу. Если TTL=0, пакет из системы удаляется. Изначально TTL=128 (для Windows) и TTL=64 (для Ubuntu). Для </span><span style=" vertical-align:middle;">DNS</span><span style=" vertical-align:middle;">-записей TTL определяет время актуальности данных при кешировании запросов.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для изменения величины MTU, отредактируем файл конфигурации <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">/etc/network/interfaces</span>, например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto eth0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface eth0 inet static</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">address 192.168.1.5</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">netmask 255.255.255.0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">mtu 600</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для изменения величины TTL наберите:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo su</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">затем</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># echo &quot;128&quot; &gt; /proc/sys/net/ipv4/ip_default_ttl</span></pre>
<p style=" margin-top:34px; margin-bottom:34px; margin-left:59px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">Значение TTL меняется только с правами администратора, для выхода из аккаунта администратора введите </span><span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic; vertical-align:middle;">exit</span></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="настройка_wifi"></a><span style=" font-size:x-large;">Н</span><span style=" font-size:x-large;">астройка WiFi</span></p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="настройка_wi-fi_при_помощи_wpa-supplicant_иetcnetworkinterfaces"></a><span style=" font-size:large;">Н</span><span style=" font-size:large;">астройка Wi-Fi при помощи wpa-supplicant и /etc/network/interfaces</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В этой главе пойдет речь о настройке подключения к существующей Wi-Fi сети с использованием наиболее безопасного на сегодняшний день стандарта шифрования и аутентификации WPA2. Дополнительно приведены примеры настроек для менее безопасных соединений.</p>
<p style=" margin-top:34px; margin-bottom:34px; margin-left:79px; margin-right:36px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:middle;">Если Вы можете повлиять на настройку точки доступа, например, в случае, если это Ваш домашний Wi-Fi роутер - постарайтесь настроить авторизацию с использованием WPA2, т.к. это наиболее безопасный протокол аутентификации в беспроводных сетях на настоящий момент.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="замечания"></a><span style=" font-size:medium;">З</span><span style=" font-size:medium;">амечания</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Дополнительно к <a href="https://help.ubuntu.ru/wiki/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BA_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5"><span style=" color:#dd4814;">требованиям, указанным выше</span></a> Вам следует учесть, что:</p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#222222;" style=" margin-top:17px; margin-bottom:0px; margin-left:89px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После установки всех необходимых пакетов, кабель проводной сети лучше отсоединить.</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:89px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Некоторые устройства (или их драйвера, например Madwifi) не поддерживают WPA2 (AES). Если соединение WPA2 установить не удается, можно попробовать WPA1 (TKIP).</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:89px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если у Вас RTxxx (Ralink) с драйверами Serialmonkey - этот способ Вам не поможет. Вам следует либо установить пакет <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">ndiswrapper</span>, заменяющий Serialmonkey, либо попробовать другой способ.</li></ol>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="подготовка"></a><span style=" font-size:medium;">П</span><span style=" font-size:medium;">одготовка</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Установите пакеты <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wpa-supplicant</span> и <span style=" font-family:'Ubuntu Mono,monospace'; font-style:italic;">wireless-tools</span><br />Например так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo apt-get install wpasupplicant wireless-tools</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь убедитесь в том, что Ваше беспроводное устройство (в данном примере это «wlan0») работает и «видит» беспроводные сети. Команда</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ iwconfig</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">должна выдать примерно такой результат:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ubuntu@ubuntu:~$ iwconfig</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">lo        no wireless extensions.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">eth0      no wireless extensions.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wmaster0  no wireless extensions.</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wlan0     IEEE 802.11bg  ESSID:&quot;&quot;  </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Mode:Managed  Frequency:2.412 GHz  Access Point: Not-Associated   </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Tx-Power=27 dBm   </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Retry min limit:7   RTS thr:off   Fragment thr=2352 B   </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Power Management:off</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Link Quality:0  Signal level:0  Noise level:0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Tx excessive retries:0  Invalid misc:0   Missed beacon:0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">а доступные сети можно посмотреть командой</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ iwlist &lt;имя интерфейса&gt; scan</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">которая должна выдать примерно такой результат:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ubuntu@ubuntu:~$ iwlist wlan0 scan</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wlan0     Scan completed :</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">          Cell 01 - Address: 00:00:00:00:00:00</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    ESSID:&quot;ubuntuessid&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Mode:Master</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Channel:8</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Frequency:2.447 GHz (Channel 8)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Quality=7/100  Signal level:-99 dBm  Noise level=-104 dBm</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Encryption key:on</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Bit Rates:1 Mb/s; 2 Mb/s; 5.5 Mb/s; 11 Mb/s; 18 Mb/s</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                              24 Mb/s; 36 Mb/s; 54 Mb/s; 6 Mb/s; 9 Mb/s</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                              12 Mb/s; 48 Mb/s</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Extra:tsf=0000001d57e98bf6</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">                    Extra: Last beacon: 388ms ago</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Бывает, что Ваше устройство Wi-Fi не включено по умолчанию, тогда команда вместо рапорта, приведенного выше выдаст такое сообщение:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wlan0	Failed to read scan data : Network is down</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ничего страшного, просто введите команду</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo ip link set dev wlan0 up</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">соответственно выключить устройство можно командой</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo ip link set dev wlan0 down</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="настройка"></a><span style=" font-size:medium;">Н</span><span style=" font-size:medium;">астройка</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Редактируем <span style=" font-family:'Ubuntu Mono,monospace';">/etc/network/interfaces</span>, например так:<br /></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo gedit /etc/network/interfaces</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Удаляем (или комментируем) все упоминания нашего беспроводного интерфейса и добавляем свои:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-proto RSN</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-pairwise CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-group CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt WPA-PSK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-psk &lt;hex_ключ&gt; [ВАЖНО - см. Генерация ключей]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Где:<br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<table border="0" style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px;" cellspacing="2" cellpadding="0" bgcolor="#f7f7f7"><thead>
<tr>
<td bgcolor="#dfdcd9" style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; background-color:#dfdcd9;">Параметр</span></p></td>
<td bgcolor="#dfdcd9" style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; background-color:#dfdcd9;">Описание</span></p></td></tr></thead>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">iface wlan0 inet dhcp</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">конфигурация для DHCP (для статического IP см. пример ниже)<br />«iface wlan0» - Имя нашего интерфейса (wlan0, eth1, rausb0, ra0, итд.)</p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wpa-driver</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Это wpa-driver для нашей карты<br />('wext' - общий драйвер для linux, работающий с «ndiswrapper»). Рекомендуется оставить как есть.<br />Другие варианты:<br />hostap = Host AP driver (Intersil Prism2/2.5/3)<br />atmel = ATMEL AT76C5XXx (USB, PCMCIA)<br />wext = Linux wireless extensions (generic)<br />madwifi = Atheros<br />wired = wpa_supplicant wired Ethernet driver</p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wpa-ssid</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Имя нашей точки доступа (ESSID). <span style=" font-weight:600;">Без кавычек.</span></p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wpa-ap-scan</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Параметр вещания точкой доступа ее имени.<br />«1» = ESSID вещается всем.<br />«2» = ESSID скрыт.</p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wpa-proto</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Протокол<br />«RSN» = WPA(2)<br />«WPA» = WPA(1)</p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wpa-pairwise &amp; wpa-group</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«CCMP» = AES-шифрователь (как часть стандарта WPA(2))<br />«TKIP» = TKIP-шифрователь (как часть стандарта WPA(1))</p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wpa-key-mgmt</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«WPA-PSK» = Аутентификация через ключевую фразу (см. 'Cоздание ключей')<br />«WPA-EAP» = Аутентификация при помощи сервера аутентификаций.</p></td></tr>
<tr>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">auto wlan0</p></td>
<td style=" padding-left:4; padding-right:4; padding-top:3; padding-bottom:3;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Автоматическое включение wlan0 при загрузке/перезагрузке сети.</p></td></tr></table>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="генерация_ключей"></a><span style=" font-size:medium;">Г</span><span style=" font-size:medium;">енерация ключей</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь нам нужно сконвертировать нашу ключевую фразу (WPA ASCII) в hex-ключ:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ wpa_passphrase &lt;имя_точки_доступа&gt; &lt;ascii_ключ&gt;</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Результат будет примерно таким:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">network={</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ssid=&quot;test&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">#psk=&quot;12345678&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">psk=fe727aa8b64ac9b3f54c72432da14faed933ea511ecab1 5bbc6c52e7522f709a</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">}</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">hex-ключ это все символы после «psk=».<br /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нужно его скопировать в буфер обмена и вставить в файл <span style=" font-family:'Ubuntu Mono,monospace';">/etc/network/interfaces</span> в поле <span style=" font-style:italic;">wpa-psk</span>.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь можно сохранить файл и перезагрузить сеть. Должно установиться соединение. Однако иногда этого сразу не происходит. Если это так - перезагружаем машину.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="дополнительно"></a><span style=" font-size:medium;">Д</span><span style=" font-size:medium;">ополнительно</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отключаем чтение файла <span style=" font-family:'Ubuntu Mono,monospace';">/etc/network/interfaces</span> для others во избежания попадания пароля от сети к третьим лицам.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo chmod o=-r /etc/network/interfaces</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="примеры_конфигураций"></a><span style=" font-size:medium;">П</span><span style=" font-size:medium;">римеры конфигураций</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">WPA2 + статический IP, скрытый ESSID.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet static</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">address 192.168.168.40</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">gateway 192.168.168.230</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">dns-nameservers 192.168.168.230</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">netmask 255.255.255.0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 2</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-proto RSN</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-pairwise CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-group CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt WPA-PSK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-psk &lt;hex_ключ&gt; [ВАЖНО - см. Генерация ключа]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">WPA1 + DHCP, ESSID виден всем.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-proto WPA</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-pairwise TKIP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-group TKIP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt WPA-PSK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-psk &lt;hex_ключ&gt; [ВАЖНО - см. Генерация ключа] </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Смешанный режим (WPA1, WPA2) + DHCP, ESSID виден всем.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-proto WPA RSN</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-pairwise TKIP CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-group TKIP CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt WPA-PSK</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-psk &lt;hex_ключ&gt; [ВАЖНО - см. Генерация ключа]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">LEAP, WEP, DHCP, ESSID виден всем.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-eap LEAP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt IEEE8021X</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-identity &lt;имя_пользователя&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-password &lt;пароль&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PEAP, AES, DHCP, ESSID виден всем.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-proto RSN</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-pairwise CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-group CCMP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-eap PEAP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt WPA-EAP</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-identity &lt;наш_identity&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-password &lt;пароль&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">TTLS, WEP, DHCP, ESSID виден всем.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface wlan0 inet dhcp</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-driver wext</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ssid &lt;имя_точки_доступа&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-ap-scan 1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-eap TTLS</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-key-mgmt IEEE8021X</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-anonymous-identity &lt;anonymous_identity&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-identity &lt;наш_identity&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-password &lt;наш_password&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wpa-phase2 auth=PAP [Также: CHAP, MSCHAP, MSCHAPV2]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="другие_способы_работы_wi-fi_оборудования"></a><span style=" font-size:large;">Д</span><span style=" font-size:large;">ругие способы работы Wi-Fi оборудования</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При помощи Wi-Fi адаптера также возможно установить децентрализованную сеть ad-hoc или сделать из компьютера под управлением Ubuntu точку доступа. Поскольку описание данных способов Wi-Fi подключения выходит за рамки этого руководства - обратитесь к соответствующим разделам. Ссылки на эти разделы см. в разделе <a href="https://help.ubuntu.ru/wiki/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E#%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8"><span style=" color:#dd4814;">Cсылки</span></a>.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="решение_проблем"></a><span style=" font-size:large;">Р</span><span style=" font-size:large;">ешение проблем</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="не_устанавливается_соединение_по_wi-fiethernet_с_точкой_доступамаршрутизатором"></a><span style=" font-size:medium;">Н</span><span style=" font-size:medium;">е устанавливается соединение по Wi-Fi/Ethernet с точкой доступа/маршрутизатором</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Симптомы:</span> сеть обычно изначально работает нормально, долго или недолго, а затем неожиданно пропадает и не появляется после перезагрузки. Эта проблема может быть непостоянной. Сеть «сама собой» начинает работать, а затем пропадает вновь. При перезапуске адаптера сети таким образом:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo ifdown wlan0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo ifup wlan0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">будет выводиться в консоль похожий текст</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Listening on LPF/wlan0/00-02-2A-E1-E0-6C</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Sending on   LPF/wlan0/00-02-2A-E1-E0-6C</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">Sending on   Socket/fallback</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 8</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 8</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 15</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">No DHCPOFFERS received.</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">No working leases in persistent database - sleeping.</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Причиной проблемы</span> может быть то, что материнская плата полностью не обесточивается при выключении компьютера. При этом вероятно не обесточивается и некоторое периферийное оборудование, в т.ч. могут не обесточиваться usb порты. Если вы используете, например, Wi-Fi usb-адаптер, то в таком случае можно заметить горящий на адаптере светодиод (если он им оборудован). Вероятно проблема возникает из-за того, что сетевое оборудование в этом режиме работает не совсем корректно.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" text-decoration: underline;">Простое решение</span> проблемы состоит в выключении компьютера и выдергивании кабеля питания из розетки с последующим подключением шнура питания и включением компьютера.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" text-decoration: underline;">Сложное решение</span> проблемы состоит в настройке параметров BIOS-а на полное обесточиваение сетевого оборудования при выключении компьютера.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="иногда_наглухо_пропадает_соединение_по_wi-fi_с_точкой_доступамаршрутизатором"></a><span style=" font-size:medium;">И</span><span style=" font-size:medium;">ногда наглухо пропадает соединение по Wi-Fi с точкой доступа/маршрутизатором</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Симптомы:</span> сеть изначально работает, а затем после перезагрузки точки доступа/маршрутизатора неожиданно пропадает, и не появляется ни после перезагрузки, ни после танцев с бубном. При этом беспроводной адаптер в упор не видит точку доступа (хотя она может стоять рядом с компьютером), но прекрасно видит все соседские сети. Затем после ~дцатой~ перезагрузки маршрутизатора сеть сама собой появляется вновь.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Причиной проблемы</span> может быть то, что некоторые маршрутизаторы произвольно выбирают номер рабочего канала, игнорируя номер канала выбранный в настройках маршрутизатора. Если в файле /etc/network/interfaces номер канала для беспроводного интерфейса указан, то вероятно проблема состоит именно в этом. Номер 6 канала указывается в файле примерно так:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">...</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">wireless-channel 6</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" text-decoration: underline;">Простое решение</span> проблемы состоит в комментировании этого параметра, чтобы адаптер не был ограничен только этим каналом, и перезапуске сети</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto wlan0</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">...</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">#wireless-channel 6</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" text-decoration: underline;">Сложное решение</span> проблемы состоит в регистрации бага на сайте производителя маршрутизатора (прошивки для него) и обновление прошивки маршрутизатора после (в случае) его исправления.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:24px;"><a name="перезапуск_сети"></a><span style=" font-size:large;">П</span><span style=" font-size:large;">ерезапуск сети</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь, когда все необходимые действия выполнены, можно перезапустить сеть и проверить соединение. Для этого:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">$ sudo /etc/init.d/networking restart</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:43px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь, при запуске команды <span style=" font-family:'Ubuntu Mono,monospace';">ip addr</span> должно отобразиться подключение eth0 с выставленными параметрами. Если подключение отображается, но параметры не такие, какие были указаны в файле <span style=" font-family:'Ubuntu Mono,monospace';">/etc/network/interfaces</span>, либо возникают любые другие ошибки, перепроверьте этот файл на наличие неточностей и опечаток и попробуйте ещё раз перезапустить сеть.</p>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="faq_по_сетям"></a><span style=" font-size:x-large;">F</span><span style=" font-size:x-large;">AQ по сетям</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="как_зайти_на_мой_компьютер_извне_через_интернет"></a><span style=" font-size:medium;">К</span><span style=" font-size:medium;">ак зайти на мой компьютер извне (через интернет)?</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для начала надо узнать, какой IP-адрес даёт провайдер — серый или белый (не путать со статическим/динамическим). Если серый, то ничего не получится. Если белый, то возможны два варианта:</p>
<ul type="square" style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#222222;" style=" margin-top:17px; margin-bottom:0px; margin-left:89px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Роутера нет или он работает в режиме бриджа (моста). В этом случае белый IP-адрес присваивается самому компьютеру. Вводим адрес — попадаем на комп, всё просто.</li>
<li style=" color:#222222;" style=" margin-top:5px; margin-bottom:0px; margin-left:89px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Белый адрес присваивается роутеру. Соответственно, по этому адресу мы попадаем на роутер, а не на компьютер. Чтобы попасть на компьютер, на роутере нужно пробросить порты (см. ниже).</li></ul>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="мне_кажется_у_меня_слишком_медленно_работает_сеть"></a><span style=" font-size:medium;">М</span><span style=" font-size:medium;">не кажется, у меня слишком медленно работает сеть!</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Измерьте скорость сети между двумя компьютера с помощью <span style=" font-family:'Ubuntu Mono,monospace';">iperf</span>. Можно воспользоваться <a href="http://www.ttk.ru/www/nsf/site.nsf/all/32DC8C9E2B6541A8C325705A0049A03B"><span style=" color:#dd4814;">этой</span></a> инструкцией. В ней предлагают скомпиллировать программу из исходников, но можно просто <a href="https://help.ubuntu.ru/wiki/%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B8%D0%B7_%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B5%D0%B2"><span style=" color:#dd4814;">установить её из репозитория</span></a>. Если <span style=" font-family:'Ubuntu Mono,monospace';">iperf</span> покажет значение немного меньшее, чем ожидаемое, то с сетью всё в порядке, проблема может быть в железе (жёсткий диск/процессор не могут обеспечить большую скорость), в способе передачи (например, <span style=" font-family:'Ubuntu Mono,monospace';">scp</span> и <span style=" font-family:'Ubuntu Mono,monospace';">ftp</span> весьма неторопливы), в настройках (скорость может быть ограничена, например, настройками FTP-сервера) или в чём-то ещё. Если <span style=" font-family:'Ubuntu Mono,monospace';">iperf</span> показал величину, которая в разы меньше желаемой, то да - с сетью проблемы. Стоит посмотреть, в нужном ли режиме работает карта (например, с помощью <span style=" font-family:'Ubuntu Mono,monospace';">ethtool</span>), проверить наличие «errors» в выводе <span style=" font-family:'Ubuntu Mono,monospace';">ifconfig</span> и протестировать скорость подключения к какому-нибудь третьему компьютеру.</p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="как_узнать_какие_программы_слушают_порты_на_моём_компьютере"></a><span style=" font-size:medium;">К</span><span style=" font-size:medium;">ак узнать, какие программы слушают порты на моём компьютере?</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы посмотреть список открытых портов и названия слушающих их программ, используйте команду:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo netstat -nlpA inet,inet6</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для вывода информации о конкретном порте можно использовать <span style=" font-family:'Ubuntu Mono,monospace';">grep</span>. Например, для <span style=" font-style:italic;">80</span> порта:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo netstat -nlpA inet,inet6 | grep :80</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Из вывода <span style=" font-family:'Ubuntu Mono,monospace';">netstat</span> не всегда понятно, о какой программе идёт речь (например, <span style=" font-style:italic;">2671/python</span>), подробнее о процессе расскажет <span style=" font-family:'Ubuntu Mono,monospace';">ps</span>:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">ps aux | grep 2671</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="как_присвоить_два_ip-адреса_одной_сетевой_карте"></a><span style=" font-size:medium;">К</span><span style=" font-size:medium;">ак присвоить два IP-адреса одной сетевой карте?</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например, интерфейсу <span style=" font-style:italic;">eth0</span> нужно добавить адрес <span style=" font-style:italic;">192.168.1.1</span>. Кратковременно, до перезапуска сети:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">sudo ip addr add 192.168.1.1/24 dev eth0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Навсегда — добавить в <span style=" font-family:'Ubuntu Mono,monospace';">/etc/network/interfaces</span> следующее:</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">#исправить строку auto</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">auto eth0 eth0:1</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;"># добавить алиас</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iface eth0:1 inet static</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">  address 192.168.1.1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">  netmask 255.255.255.0</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:60px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:22px;"><a name="как_пробросить_порт"></a><span style=" font-size:medium;">К</span><span style=" font-size:medium;">ак пробросить порт?</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например, нужно пробросить порт 8081. Адрес, на который обращается клиент, назовём <span style=" font-style:italic;">внешний_ip</span>, а адрес, на который он должен попасть — <span style=" font-style:italic;">внутренний_ip</span>.</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iptables -t nat -A PREROUTING -p tcp -d внешний_ір --dport 8081 -j DNAT --to-destination внутренний_ір:8081</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iptables -t nat -A POSTROUTING -p tcp --dst внутренний_ір --dport 8081 -j SNAT --to-source внешний_ір</span></pre>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И обязательно нужно что-то вроде</p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:63px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Ubuntu Mono,monospace'; color:#333333; background-color:#ffffff;">iptables -t filter -A FORWARD -m conntrack --ctstate DNAT -j ACCEPT</span></pre>
<p style=" margin-top:18px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><a name="ссылки"></a><span style=" font-size:x-large;">С</span><span style=" font-size:x-large;">сылки</span></p>
<p style=" margin-top:16px; margin-bottom:0px; margin-left:23px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><a href="https://help.ubuntu.ru/wiki/%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Раздел Администрирование </span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="https://help.ubuntu.ru/wiki/%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_network_manager_%D0%B0"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Отключение Network Manager'a </span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="https://help.ubuntu.ru/wiki/%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82_vpn"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Скрипт-помощник для настройки VPN соединения </span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="https://help.ubuntu.ru/wiki/wifi_ap"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Программная точка доступа </span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://forum.ubuntu.ru/index.php?topic=47337.msg352852#msg352852"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Раздел часто задаваемых вопросов на форуме</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://ru.wikipedia.org/wiki/WiFi"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Описание стандарта Wi-Fi</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://ru.wikipedia.org/wiki/WPA2"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Описание протокола WPA2</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B8%D0%BD%D0%B3"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Немного интересного про безопасность Wi-Fi сетей</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://ru.wikipedia.org/wiki/%D0%91%D0%B5%D1%81%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C_ad_hoc"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Описание ad hoc</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://ubuntuforums.org/showthread.php?t=318539"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Статья о настройке Wi-Fi на ubuntuforums.org</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://linuxwireless.org/"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Ресурс, посвященный Wi-Fi устройствам в Linux</span></a><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#222222;"><br /></span><a href="http://ubuntologia.ru/network-manual-configuration"><span style=" font-family:'Ubuntu Beta,UbuntuBeta,Ubuntu,Bitstream Vera Sans,DejaVu Sans,Tahoma,sans-serif'; font-size:14px; color:#dd4814;">Сайт &quot;Убунтология&quot;. Настройка сети вручную.</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /> </p></body></html>