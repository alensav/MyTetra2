<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<hr />
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="djangobook.chap01"></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 1. Введение в Django</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Содержание</span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01.html#djangobook.chap01.whatis"><span style=" text-decoration: underline; color:#0000ff;">Что такое среда разработки?</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s02.html"><span style=" text-decoration: underline; color:#0000ff;">Шаблон MVC разработки</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s03.html"><span style=" text-decoration: underline; color:#0000ff;">История Django</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s04.html"><span style=" text-decoration: underline; color:#0000ff;">Как читать эту книгу</span></a></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s04.html#djangobook.chap01.howtoread.develknowledge"><span style=" text-decoration: underline; color:#0000ff;">Необходимые знания в программировании</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s04.html#djangobook.chap01.howtoread.pythonknowledge"><span style=" text-decoration: underline; color:#0000ff;">Необходимые знания языка Python</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s04.html#djangobook.chap01.howtoread.djangoversion"><span style=" text-decoration: underline; color:#0000ff;">Требуемая версия Django</span></a></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s04.html#djangobook.chap01.howtoread.gettinghelp"><span style=" text-decoration: underline; color:#0000ff;">Получение помощи</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s05.html"><span style=" text-decoration: underline; color:#0000ff;">Стиль исходного кода</span></a></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s05.html#djangobook.chap01.coding-style.templates"><span style=" text-decoration: underline; color:#0000ff;">Шаблоны</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s05.html#djangobook.chap01.coding-style.views"><span style=" text-decoration: underline; color:#0000ff;">Представления</span></a></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/ch01s05.html#djangobook.chap01.coding-style.models"><span style=" text-decoration: underline; color:#0000ff;">Модели</span></a></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перевод © Попов Руслан &lt;ruslan.popov • gmail&gt;</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Данная книга посвящена Django, среде<span style=" vertical-align:super;">[</span><a name="id354152"></a><a href="https://www.djbook.ru/ch01.html#ftn.id354152"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">1</span></a><span style=" vertical-align:super;">]</span> WEB<span style=" vertical-align:super;">[</span><a name="id354165"></a><a href="https://www.djbook.ru/ch01.html#ftn.id354165"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">2</span></a><span style=" vertical-align:super;">]</span> разработки, которая позволяет сэкономить время и превращает работу в развлечение. Используя Django, вы можете с минимальными усилиями создавать и обслуживать высококачественные приложения. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Разработка любого приложения — это многогранный процесс. Со своей лучшей стороны — это творческая работа, а с худшей — это нудное написание кода. Django позволяет сфокусироваться на творческой части разработки, облегчая её нудную часть. Для этого разработчику предоставляются высокоуровневые шаблоны, готовые решения для стандартных задач и явные соглашения о том как надо решать проблемы. В то же время Django старается не вмешиваться в ваш процесс разработки, позволяя вам выполнять необходимую работу вне своей среды.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Цель данной книги — сделать вас экспертом по Django. Книга сфокусирована на двух вещах. Первое, мы подробно объясним, как работает Django и как создавать приложения с её помощью. Второе, там где это необходимо, мы обсудим высокоуровневую концепцию, отвечая на вопрос «Как я могу эффективно применять эти инструменты в своих проектах?» Читая эту книгу, вы получите навыки необходимые для разработки мощных приложений с простым поддерживаемым кодом. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="djangobook.chap01.whatis"></a><span style=" font-size:x-large; font-weight:600;">Ч</span><span style=" font-size:x-large; font-weight:600;">то такое среда разработки?</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Django является видным представителем нового поколения <span style=" font-style:italic;">сред разработки</span>, но что же конкретно подразумевают под этим термином? </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для того, чтобы ответить на этот вопрос давайте рассмотрим дизайн приложения написанного на языке Python <span style=" font-style:italic;">без использования среды разработки</span>. На протяжении всей книги мы будем использовать данный подход, чтобы показать вам основные способы выполнить работу <span style=" font-style:italic;">без</span> вспомогательных средств, в надежде, что вы разберётесь почему эти средства так полезны. Также важно знать как можно решить задачу на низком уровне, так как высокий уровень (вспомогательные средства) не всегда доступен. И очень важно то, что знание <span style=" font-style:italic;">почему</span> что-то работает именно так, а не иначе, делает вас опытнее. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Одним из простых, наиболее прямолинейных способов создать с нуля вебприложение на языке Python является использование стандарта Common Gateway Interface (CGI), который был популярен, начиная с 1998 года. Кратко рассмотрим как это работает: создаётся скрипт на языке Python, который выводит HTML, скрипт сохраняется на веб сервере в файле с расширением <span style=" font-family:'Courier New,courier';">.cgi</span>, затем к скрипту можно обращаться через веб браузер. Вот и всё. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ниже приведён простой CGI скрипт, написанный на языке Python, который отображает десять наиболее свежих книг из базы данных. Не беспокойтесь о деталях, просто рассмотрите как он работает: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">#!/usr/bin/env python</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">import MySQLdb</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;Content-Type: text/html&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Книги&lt;/title&gt;&lt;/head&gt;&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;body&gt;&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;h1&gt;Книги&lt;/h1&gt;&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;ul&gt;&quot;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">connection = MySQLdb.connect(user='me', passwd='letmein', db='my_db')</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">cursor = connection.cursor()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">cursor.execute(&quot;SELECT name FROM books ORDER BY pub_date DESC LIMIT 10&quot;)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">for row in cursor.fetchall():</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    print &quot;&lt;li&gt;%s&lt;/li&gt;&quot; % row[0]</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;/ul&gt;&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">print &quot;&lt;/body&gt;&lt;/html&gt;&quot;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">connection.close()</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Во-первых, согласно требованиям CGI, код выводит строку «Content-Type», затем пустую строку. Скрипт выводит необходимые HTML теги, подключается к базе данных и выполняет запрос для получения имён последних десяти книг. Обрабатывая результат запроса, скрипт создаёт ненумерованный список имён. Наконец, скрипт закрывает HTML теги и закрывает соединение с базой данных. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для одиночной динамической страницы, подобной этой, методика «написать всё с нуля» не всегда плоха. Во-первых, этот код прост для понимания даже неопытным разработчиком и его легко установить на «боевую»<span style=" vertical-align:super;">[</span><a name="id353122"></a><a href="https://www.djbook.ru/ch01.html#ftn.id353122"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">3</span></a><span style=" vertical-align:super;">]</span> систему — просто сохранить в файл с расширением <span style=" font-family:'Courier New,courier';">.cgi</span> и зайди браузером. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Но несмотря на свою простоту, данный подход имеет ряд проблем и недостатков. Задайте себе эти вопросы: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style="" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Что произойдёт, если потребуется обеспечить работу множества компонентов вашего приложения с базой данных? Несомненно, что код для подключения к базе не должен быть скопирован в каждый отдельный CGI скрипт. Придётся вынести этот код в общую библиотеку функций.</li>
<li style="" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Действительно ли разработчик должен беспокоиться о выводе строки «Content-Type» и помнить о необходимости закрывать соединение с базой данных? Такие вещи снижают производительность разработчика и увеличивают вероятность появления ошибок в коде. Такими задачами должна заниматься некая общая инфраструктура. </li>
<li style="" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Что произойдёт, если этот код будет использоваться во множестве сред, каждая со своей базой данных и логином? В этом случае потребуется вводить некоторую конфигурацию, специфичную для среды исполнения.</li>
<li style="" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Что произойдёт, если дизайнер, который не имеет опыта разработки на языке Python, пожелает поменять вид страницы? Один неверный символ может уронить целое приложение. В идеале, при отображении страницы, логика страницы — получение названий книг из базы данных — должна быть отделена от вывода HTML. В этом случае дизайнер может вносить необходимые изменения в HTML без влияния на всё остальное.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Предназначение среды разработки как раз в том, чтобы решать подобные задачи. Среда предоставляет инфраструктуру разработки для ваших приложений, вы же концентрируетесь на создании явного, хорошо поддерживаемого кода, без необходимости каждый раз изобретать колесо. Вкратце, этим и занимается Django.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<hr width="100"/>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:super;">[</span><a name="ftn.id354152"></a><a href="https://www.djbook.ru/ch01.html#id354152"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">1</span></a><span style=" vertical-align:super;">] </span>Здесь и далее слово Django будет рассматриваться как слово женского рода, от «среда».</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:super;">[</span><a name="ftn.id354165"></a><a href="https://www.djbook.ru/ch01.html#id354165"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">2</span></a><span style=" vertical-align:super;">] </span>Здесь и далее речь будет идти о приложениях для Интернет, т.е., о сайтах.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" vertical-align:super;">[</span><a name="ftn.id353122"></a><a href="https://www.djbook.ru/ch01.html#id353122"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">3</span></a><span style=" vertical-align:super;">] </span>Здесь и далее этот термин подразумевает production (FIXME) WEB-сервер.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<hr />
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="2" cellpadding="0">
<tr>
<td width="40%">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/index.html"><span style=" text-decoration: underline; color:#0000ff;">Пред.</span></a> </p></td>
<td width="20%">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p></td>
<td width="40%">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> <a href="https://www.djbook.ru/ch01s02.html"><span style=" text-decoration: underline; color:#0000ff;">След.</span></a></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DjangoBook </p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.djbook.ru/index.html"><span style=" text-decoration: underline; color:#0000ff;">Начало</span></a></p></td>
<td style=" vertical-align:top;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> Шаблон MVC разработки</p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:large; font-weight:600;"><br /></p></body></html>