<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu'; font-size:xx-large; font-weight:600;">Увеличение дискового пространства в Ubuntu 16.04</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="video-schema"></a><span style=" font-family:'Ubuntu';">П</span><span style=" font-family:'Ubuntu';">осле увеличения диска в панели управления, необходимо расширить его на уровне операционной системы. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://1cloud.ru/services/vps-vds/ubuntu/?utm_source=help&amp;utm_campaign=banner-ubuntu&amp;utm_content=horizontal"><span style=" font-family:'Ubuntu'; font-size:medium; font-weight:600; text-decoration: underline; color:#0000ff;">Виртуальный сервер Ubuntu</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Ubuntu';" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Бесплатное тестирование </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">API к панели управления </li>
<li style=" font-family:'Ubuntu';" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">От 318 руб./мес. </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://1cloud.ru/services/vps-vds/ubuntu/?utm_source=help&amp;utm_campaign=banner-ubuntu&amp;utm_content=horizontal"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">Подробнее &gt;&gt;</span></a><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Откройте терминал (см. </span><a href="https://1cloud.ru/help/linux/Kak_podkljuchitsja_k_Linux_serveru"><span style=" font-family:'Ubuntu'; text-decoration: underline; color:#0000ff;">инструкцию по подключению</span></a><span style=" font-family:'Ubuntu';">) под пользователем root и введите следующие команды:<br /></span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# echo 1 &gt; /sys/block/sda/device/rescan</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Запустите утилиту parted:<br /></span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# parted</span><span style=" font-family:'Ubuntu';"> Далее выполните команды в интерфейсе утилиты parted:<br /></span><span style=" font-family:'Courier New,courier';">(parted) p<br />Model: VMware Virtual disk (scsi)<br />Disk /dev/sda: ZZ.ZGB<br />...</span><span style=" font-family:'Ubuntu';"> Запоминаем размер диска ZZ.ZGB.<br /></span><span style=" font-family:'Courier New,courier';">(parted) resizepart 2</span><span style=" font-family:'Ubuntu';"> Значение &quot;End&quot; - вводим новый размер диска в гигабайтах - значение из вывода (parted) p, которое запомнили ранее.<br /></span><span style=" font-family:'Courier New,courier';">End? [YY.YGB]? ZZ.ZGB</span><span style=" font-family:'Ubuntu';"> Выходим из parted:<br /></span><span style=" font-family:'Courier New,courier';">(parted) quit</span><span style=" font-family:'Ubuntu';"> Отобразится следующая информация: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Information: You may need to update /etc/fstab.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"><br />Запустите fdisk:<br /></span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# fdisk /dev/sda</span><span style=" font-family:'Ubuntu';"> Далее выполните команды в интерфейсе утилиты fdisk.<br />Создаем раздел:<br /></span><span style=" font-family:'Courier New,courier';">Command (m for help): n</span><span style=" font-family:'Ubuntu';"> Выбираем тип раздела - логический. (L)<br /></span><span style=" font-family:'Courier New,courier';">Select (default p): l</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Adding logical partition X</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Запомните номер раздела, созданный в ходе выполнения команды (в примере обозначено как X).<br />Принимаем значения по умолчанию - нажимаем два раза Enter:<br /></span><span style=" font-family:'Courier New,courier';">First sector (XXX-YYY, default ZZZ):<br />Last sector, +sectors or +size{K,M,G} (XXX-YYY, default ZZZ):</span><span style=" font-family:'Ubuntu';"> Меняем тип раздела, при этом указываем номер раздела, который мы запомнили ранее(в примере обозначено как X).<br /><br /></span><span style=" font-family:'Courier New,courier';">Command (m for help): t<br />Partition number (1-X): X<br />Hex code (type L to list codes): 8e<br />...<br />Command (m for help): w</span><span style=" font-family:'Ubuntu';"><br />Сообщаем ядру об изменениях: </span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# partx -v -a /dev/sda</span><span style=" font-family:'Ubuntu';"> В отобразившемся ответе видим строку. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">/dev/sda: partition #X added</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Инициализируем раздел, вместо Х опять используем номер раздела, который мы запомнили ранее. </span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# pvcreate /dev/sdaX</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Physical volume &quot;/dev/sdaX&quot; successfully created</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';"><br />Добавляем физический раздел к существующей группе томов: </span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# vgextend ubuntu-vg /dev/sdaX</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Volume group &quot;ubuntu-vg&quot; successfully extended</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Расширяем логический том. </span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# lvextend -l +100%FREE //dev/ubuntu-vg/root</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Extending logical volume root to YY.ZZ GiB</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Logical volume root successfully resized</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Расширяем файловую систему. </span><span style=" font-family:'Courier New,courier';">root@Ubuntu16x64:~# resize2fs /dev/ubuntu-vg/root</span><span style=" font-family:'Ubuntu';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Ubuntu';">Готово. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1177483483.png" /></p></body></html>