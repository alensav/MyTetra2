<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0" bgcolor="#ffffff">
<tr>
<td width="100%">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#004080;">Установка ESP-IDF на Ubuntu</span></p></td>
<td width="100%">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image541100757.png" /></p></td></tr></table>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0" bgcolor="#ffffff">
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#990000;">Добавил(а) microsin </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">  </span></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">На машине может быть установлено одновременно несколько версий среды разработки </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">ESP-IDF</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">, для этого их надо просто устанавливать в отдельные каталоги. На момент написания статьи последней версией была </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">v5.0.1</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. В этой статье установка была сделана на примере </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">v4.4.3</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">, и для неё был выбран каталог </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-style:italic; color:#000000;">~/esp443/esp-idf</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#808080;">Примечание: здесь просто даны пошаговые инструкции по установки без подробных комментариев. Для получения подробных инструкций перейдите на страничку [1], выберите нужную версию. Например, если нам нужна версия 4.4.3, то для получения инструкций нужно перейти по ссылке </span><a href="https://docs.espressif.com/projects/esp-idf/en/v4.4.3/esp32/"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#808080;">https://docs.espressif.com/projects/esp-idf/en/v4.4.3/esp32/</span></a><a href="https://docs.espressif.com/projects/esp-idf/en/v4.4.3/esp32/"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#406080;"> </span></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#808080;">, далее кликнуть на Get Started.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">Процесс по шагам:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">1</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Установка необходимых компонентов и утилит:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;"> ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">2</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Создание отдельного каталога установки для версии v4.4.3:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ mkdir -p ~/esp443</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">3</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Закачка среды командой git clone:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ cd ~/esp443</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ git clone -b v4.4.3 --recursive https://github.com/espressif/esp-idf.git</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">4</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Установка пакетов для поддержки всех микроконтроллеров семейства ESP32:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ cd ~/esp443/esp-idf/</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ ./install.sh all</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">Примечание: не обязательно устанавливать поддержку для всех микроконтроллеров. Например, если нужны пакеты только для ESP32-C3, то можно выполнить команду ./install.sh esp32c3. Поддерживаются следующие варианты опций для скрипта install.sh: all, esp32, esp32s2, esp32c3, esp32s3.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">5</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Для всех рабочих действий над проектом служит скрипт </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-style:italic; color:#0000ff;">idf.py</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Перед его использованием необходимо предварительно запустить скрипт </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-style:italic; color:#0000ff;">export.sh</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Для этого установите его атрибуты, разрешающие выполнение:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ chmod +x ~/esp443/esp-idf/export.sh</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">6</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. Запуск скрипта </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-style:italic; color:#000000;">export.sh</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ . ./export.sh</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">После шага 6 будет доступен функционал скрипта </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-style:italic; color:#000000;">idf.py</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">[</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">Небольшая памятка по использованию скрипта idf.py</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">Запуск </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#0000ff;">idf.py</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;"> без параметров выведет подсказку по командной строке.</span></p>
<p style=" margin-top:3px; margin-bottom:0px; margin-left:3px; margin-right:3px; -qt-block-indent:0; text-indent:0px;"><a name="1_spoiler"></a><a href="javascript:void(0)"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#406080;">С</span></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#406080;">правка по командной строке idf.py</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1-sp-body"></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#0000ff;">i</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#0000ff;">df.py --list-targets</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;"> Выведет список поддержваемых целей сборки (микроконтроллеров Espressif), которые были установлены скриптом </span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-style:italic; color:#000000;">install.sh</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;"> на шаге 4.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ idf.py --list-targets</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">esp32</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">esp32s2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">esp32c3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">esp32s3</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#0000ff;">idf.py --version</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;"> Покажет версию ESP-IDF.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ idf.py --version</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">ESP-IDF v4.4.3-dirty</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">Конфигурирование проекта для ESP32-C3 (первый шаг при подготовке проекта к компиляции):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ idf.py set-target esp32c3</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">Конфигурирование опций проекта:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:13.75px; background-color:#f8f8f8;"><span style=" font-family:'Courier New,courier'; font-size:9pt; color:#000000;">$ idf.py menuconfig</span></p>
<p style=" margin-top:3px; margin-bottom:0px; margin-left:3px; margin-right:3px; -qt-block-indent:0; text-indent:0px;"><a name="2_spoiler"></a><a href="javascript:void(0)"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#406080;">О</span></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#406080;">шибки, связанные с переходом с v4.4.x на v5.0.1</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2-sp-body"></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">[</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">Ссылки</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">]</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">1</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. </span><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/versions.html"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#406080;">ESP-IDF Versions</span></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">.<br /></span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; font-weight:600; color:#000000;">2</span><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">. </span><a href="http://microsin.net/programming/arm/install-esp-idf-for-esp32.html"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; text-decoration: underline; color:#406080;">Установка среды разработки ESP-IDF для ESP32</span></a><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000;">.</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial,Helvetica,sans-serif'; font-size:9pt; color:#000000; background-color:#ffffff;"> </span></p></body></html>